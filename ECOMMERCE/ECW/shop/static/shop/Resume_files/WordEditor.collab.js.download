wac_HP.prototype.Q2a=wac_b(506,function(){if(!this.jg){var a=this;wac_DP(this.hs).CWo(function(){wac_DP(a.hs).mc().Q2a()},11)}});wac_rJ.prototype.JI=wac_b(355,function(){return this.yx});wac_oE.prototype.hfc=wac_b(241,function(){});wac_xP.prototype.hfc=wac_b(240,function(a){this.va.hd("OR",a)});wac_oE.prototype.Vcc=wac_b(239,function(){});wac_xP.prototype.Vcc=wac_b(238,function(a){this.va.jb("OR",a)});wac_dy.prototype.fOb=wac_b(213,function(){return!1});
wac_vQ.prototype.fOb=wac_b(212,function(a,b,c){var d;return d=wac_LCb(a,c,{val:void 0}),d});wac_5Ra.prototype.fTb=wac_b(207,function(){});
wac_9P.prototype.fTb=wac_b(206,function(a){var b=this.ya.ac("PresenceRenderIpSlowDurationMilliseconds",3E3);if(!this.Hbc.gb(a)){this.Hbc.Z(a,!1);var c=this;this.Za.qc(new wac_Ah(3,1,b,function(){var d,e;e=c.Hbc.Xb(a,d={val:d},!1);d=d.val;e;d||(wac_3d().recordQosError("PresenceRenderFailed",["PresenceExperienceDegraded"],!0,!0,!0,!1,null),wac_(51683551,302,15,"Presence didn't render for the selected person from people well. Veto Set At:{0}",b));c.Hbc.Bb(a)},0,null,!1,0))}});
function wac_7Jb(a,b,c){if(!b)return null;if(!a.z4)return wac_(50870151,304,10,"Tried to acquire a lock for wet change before the coauthManager is ready. This will fail."),null;var d=b.oa(Number,wac_ls,0),e=null;b=b.oa(Number,wac_gv,0);var f=a.ZEa.gb(d)?a.ZEa.B(d):0;b&&(e=wac_Wz(a,b));!e&&f&&(e=wac_Wz(a,f));if(e)return a.ZEa.Z(d,e.LockId),e;e=new wac_MPa;e.LockId=wac_VDb(a);e.ParagraphIds=[d];e.Type=4;if(!c)return wac_(17866973,304,10,"An attempt to acquire a Lock was made  with an empty clientId. The lockOwner cannot be empty."),
null;(f=wac_xAa(a.z4.xG,c))?wac_q.W.fa("AvoidLookingUpEmptyRtcUserIsEnabled")&&f.Name===CommonUIStrings.l_AnonymousUserName&&wac_(592229833,304,15,"The looked up author has no name"):(f=new wac_fc,f.Id=c,f.Name=CommonUIStrings.l_AnonymousUserName,a.nNa.gb(c)||a.nNa.U(c,new (wac_h.$$(Number))(null)),a.nNa.B(c).U(e.LockId));if(!f)return wac_(7440404,304,10,"Unable to get a wetchange lock on node {0} as client {1} is not in editorstable",b,c),null;e.LockOwner=f;wac_WDb(a,e,e.LockId);a.ZEa.Z(d,e.LockId);
return e}function wac_8Jb(a,b){if(wac_YP.isInstanceOfType(b)){var c=b.Ga(Number,wac_ls);if(a.ZEa.gb(c)){var d=a.ZEa.B(c);if(d){var e=wac_Wz(a,d);e&&4!==e.Type||(delete a.H3[d.toString()],a.ZEa.Bb(c),b.ka(wac_gv,0),a.va.Ya("WLR",new wac_SDb(d),a))}}}else wac_(18227549,304,10,"An attempt to remove a Wet Change lock on a node that is not a paragraph node was made.")}
function wac_9Jb(a,b,c,d,e){var f=wac_T2a(a,b,c,0);if(f&&d){var g=b.ea;d=wac_2C(g.ua,b.wa);d||(wac_eF(a,wac_T(g,b.wa+1)),wac_eF(a,wac_T(g,b.wa)),d=wac_2C(g.ua,b.wa));d.eb||wac_9E(d,new wac_hF(d,wac_w(),null));1===c.length?((c=wac_2C(g.ua,b.wa+1))?c.eb||wac_9E(c,new wac_hF(c,wac_w(),null)):wac_eF(a,wac_T(g,b.wa+1)),c=new wac_0G(d,null,22,"",!1),wac_gF(d,c)):2===c.length&&""!==e&&a.w7.j_(d.eb,e)}f&&wac_U2a(a,b.ea,!1)}
function wac_dS(a){if(!a.Ki.ma()){a.tZd||(wac_fa(42316242,302,50,"No users available at PeopleInfoProvider.GetAllUsers call"),a.tZd=!0);if(a.mk){var b=a.mk.f_a();wac_tAa(a,b)}if(a.g0)for(var b=wac_uAa(a.g0),c=b.length,d=0;d<c;++d){var e=b[d];e.Id&&(e=wac_vAa(a,e.Id),wac_wAa(a,new wac_wq(0),e))}}b=[];for(a=a.Ki.GetEnumerator();a.$$mn();)c=a.$$cu(),Array.add(b,c.pa());return b}function wac_$Jb(a,b){var c;a=a.Ki.Xb(b,c={val:c},null);c=c.val;a;return c}
var wac_aKb=null,wac_bKb=null,wac_cKb=null,wac_dKb=null;
function wac_eKb(a){var b,c,d;a=(d=wac_3Jb(a,c={val:b}),b=c.val,d);if(!a)return!1;switch(b){case 0:case 1:return"number"!==typeof a.CP||null!=a.FB&&"number"!==typeof a.FB||null!=a.FE&&"number"!==typeof a.FE||null!=a.HB&&"number"!==typeof a.HB||null!=a.HE&&"number"!==typeof a.HE||null!=a.CB&&"number"!==typeof a.CB||null!=a.CE&&"number"!==typeof a.CE||null!=a.R&&"number"!==typeof a.R||null!=a.E&&"number"!==typeof a.E||null!=a.TW&&"number"!==typeof a.TW||null!=a.PB&&"number"!==typeof a.PB||null!=a.SYM&&
"number"!==typeof a.SYM||null!=a.IE&&"number"!==typeof a.IE||null!=a.OO&&"number"!==typeof a.OO||null!=a.AX&&"number"!==typeof a.AX||null!=a.CCI&&"number"!==typeof a.CCI||null!=a.DD&&"number"!==typeof a.DD?!1:!0;default:return!1}}
function wac_fKb(a){if("number"!==typeof a.RK||"number"!==typeof a.DK)return!1;var b,c=!1,d=!1,e=!1;switch(a.RK){case 0:d=b=!0;break;case 1:e=c=d=b=!0;break;case 2:if(null!=a.PE&&"number"!==typeof a.PE)return!1;b=!0;break;case 4:b=!0;break;case 3:d=b=!0;break;case 5:c=b=!0;break;default:return!1}return b&&("number"!==typeof a.PS||"number"!==typeof a.TS)||d&&("object"!==typeof a.OS||!a.OS||!wac_eKb(a.OS))||c&&("number"!==typeof a.PE||"number"!==typeof a.TE)||e&&("object"!==typeof a.OE||!a.OE||!wac_eKb(a.OE))?
!1:!0}function wac_gKb(a){return wac_U4a(a)}function wac_hKb(a){return a&&a.style?wac_pm(a,"transform")?a.style.transform:wac_pm(a,"msTransform")?a.style.msTransform:wac_pm(a,"MozTransform")?a.style.MozTransform:wac_pm(a,"webkitTransform")?a.style.webkitTransform:null:null}
function wac_iKb(a){for(var b=new (wac_e.$$(Number)),c=a.$$lge();c.$$mn();)if(a=c.$$cu())a=window.parseFloat(a),!window.isNaN(a)&&window.isFinite(a)&&b.U(a);c={};c.C=b.ma();if(0<b.ma()){for(var d=0,e=b.$$lge();e.$$mn();)a=e.$$cu(),d+=a;d/=b.ma();c.M=d.toFixed(2);for(var e=0,f=b.$$lge();f.$$mn();)a=f.$$cu(),e+=(a-d)*(a-d);e/=b.ma();b=Math.sqrt(e);c.SD=b.toFixed(2)}return wac__i(c)}
function wac_jKb(a){var b=0;for(a=a.$$lge();a.$$mn();){var c=a.$$cu();c&&(c=window.parseInt(c),!window.isNaN(c)&&window.isFinite(c)&&(b+=c))}return wac__i(b)}Type.registerNamespace("Common.App.CoauthTelemetry");wac_g=window.Common||{};wac_g.za=wac_g.za||{};wac_g.za.Ghb=wac_g.za.Ghb||{};function wac_kKb(a){this.tfe=Function.createDelegate(this,this.cSe);this.Yja=Function.createDelegate(this,this.Nya);this.n0b={};this.M8b={};this.YRa=a}
wac_kKb.prototype={LF:null,YRa:null,Yvb:null,hRb:function(a){var b=new (wac_ab.$$(Number)),c=this;this.pb().CW(function(){a in c.n0b?wac_bb(b,c.n0b[a]):c.M8b[a]=b});return b.Lc},pb:function(){if(this.Yvb)return this.Yvb.Lc;this.Yvb=new (wac_ab.$$(Object));var a=this;this.YRa.CW(function(){a.LF=a.YRa.mc();a.LF.va.jb("UU",a.Yja);wac_lKb(a);a.Yvb.af(null)});return this.Yvb.Lc},Nya:function(){wac_lKb(this)},cSe:function(a,b){return a.H7>b.H7?1:a.H7<b.H7?-1:0}};
function wac_lKb(a){var b=wac_dS(a.LF);b.sort(a.tfe);a.n0b={};for(var c=0;c<b.length&&b[c]&&b[c].H7;c++){var d=a,e=b[c].Gh(),f=c;a.n0b[e]=f;e in d.M8b&&(wac_bb(d.M8b[e],f),delete d.M8b[e])}}
function wac_mKb(a,b,c,d,e,f,g,h,k){this.Zgc=Function.createDelegate(this,this.nBc);this.Zfd=Function.createDelegate(this,this.Rgf);this.cD=a;this.m$a=new (wac_ab.$$(wac_g.MOb));this.ya=c;this.q0b=b;this.$v=d;this.lh=e;this.N8b=f;this.YRa=g;this.DJd=h;this.WSc=this.VSc=!1;this.BDb=0;this.oNc=1;this.gga=k;this.nab=this.ya.fa("PeoplesWellExtraButtonInfoIsEnabled")}
wac_mKb.prototype={cD:null,m$a:null,q0b:null,ya:null,$v:null,lh:null,N8b:null,YRa:null,DJd:null,nab:!1,LF:null,NLd:null,N0d:null,oNc:0,WSc:!1,VSc:!1,BDb:0,gga:null,pb:function(){var a=this;wac_Za.WAA.call(null,this.YRa,this.q0b,this.N8b).CW(function(){a.LF=a.YRa.mc();a.NLd=a.q0b.mc();a.N0d=a.N8b.mc();wac_Za.WAA.call(null,a.q0b.mc().fTa.Lc,a.N8b.mc().qbc.Lc).CW(function(){a.oNc=a.NLd.fTa.Lc.mc();a.BDb=a.N0d.qbc.Lc.mc();a.LF.va.jb("UU",a.Zfd);wac_dS(a.LF).length&&a.Nya()})})},Rgf:function(){this.Nya()},
Nya:function(){this.DJd(wac_dS(this.LF))?(this.LF.va.hd("UU",this.Zfd),wac_nKb(this,this.VSc)):wac_bb(this.m$a,1);this.VSc=!0},nBc:function(){var a=wac_Hl(this.lh,"AppInitStatus_"+wac_g.za.Iwa.toString(4));wac_c(42259235,325,!!this.BDb,null);var b=this.BDb-a,c={};c.InteractiveTime=a;c.ReactRenderComplete=this.BDb;c.HadTabSwitch=this.gga();c.IsModernGallery=this.nab;wac_(594883104,325,50,wac_zn(c));this.nab?(wac_(42062997,325,15,b.toString()),a=this.m$a,c=this.ya.ac("CoauthorGalleryTimeToRenderDurationMs",
1E4),c=b>c,this.gga()?(wac_(50455714,325,50,c.toString()),b=!1):(c&&(wac_(42062998,325,15,b.toString()),wac_3d().recordQosError("CoauthorGalleryTimeToRenderDurationIsTooLong",["CoauthGalleryExperienceDegraded"],!1,!0,!0,!1,null)),b=c),wac_bb(a,b?3:2)):wac_(594883103,325,15,b.toString())}};function wac_oKb(a,b){b?a.$v.il(4,a.Zgc,3):wac_bb(a.m$a,1)}
function wac_nKb(a,b){a.WSc?a.m$a.Lc.CW(function(){wac_(42062996,325,15,"We already attempted to log a render of coauthor gallery: {0}",wac_g.MOb.toString(a.m$a.Lc.mc()))}):(a.WSc=!0,wac_oKb(a,!a.oNc&&!b))}function wac_pKb(a,b){this.Yja=Function.createDelegate(this,this.Nya);this.N_c=a;this.X0d=b}function wac_qKb(a){for(var b,c=null,d=a.length,e=0;e<d;++e)if(b=a[e])if(b=b.Iv||!b.Hv?b.Gh():b.Hv.toUpperCase(),!c)c=b;else if(c!==b)return!0;return!1}
wac_pKb.prototype={c1:null,X0d:null,N_c:null,pb:function(){var a=this;this.N_c.CW(function(){a.c1=a.N_c.mc();a.c1.va.jb("UU",a.Yja)})},Nya:function(){wac_qKb(wac_dS(this.c1))&&(this.c1.va.hd("UU",this.Yja),this.X0d.IsRealCoauthSession=!0)},HDf:function(){return this.c1?wac_qKb(wac_dS(this.c1)):!1}};function wac_rKb(){}
wac_rKb.prototype={Rb:function(){return"Common.App.CoauthTelemetry"},Sb:function(a){wac_n(wac_o(wac_p(a.na(wac_pKb,null),wac_Co)),function(){return new wac_pKb(wac_Fb(wac_tc,wac_m(a,wac_tc)),wac_q.Xk)});wac_n(wac_o(wac_p(a.na(wac_mKb,null),wac_kca)),function(){return new wac_mKb(wac_x(),wac_Fb(wac_8b,wac_m(a,wac_8b)),wac_q.W,window.Common.App.AppLifecycleManager.get_instance(),wac_Yd(),wac_Fb(wac_uc,wac_m(a,wac_uc)),wac_Fb(wac_tc,wac_m(a,wac_tc)),wac_qKb,function(){return wac_sKb()})});wac_n(wac_o(wac_p(a.na(wac_tKb,
null),wac_Do)),function(){return new wac_tKb(wac_Fb(wac_8b,wac_m(a,wac_8b)),window.Common.App.AppLifecycleManager.get_instance(),a.K(wac_Bo,null),wac_Yd(),function(){return wac_sKb()},wac_q.W,null,wac_3d())});wac_n(wac_o(wac_p(a.na(wac_kKb,null),wac_Bo)),function(){return new wac_kKb(wac_Fb(wac_tc,wac_m(a,wac_tc)))})},pb:function(){wac_xi(wac_q.W,function(){wac_k().K(wac_pKb,null).pb();wac_q.W.fa("CoauthorGalleryTelemetryIsEnabled")&&wac_k().K(wac_kca,null).pb();wac_q.W.fa("CashTelemetryIsEnabled")&&
(wac_k().K(wac_Do,null),wac_k().K(wac_Bo,null))})},ja:function(){}};function wac_sKb(){return wac_Zd()&&wac_oqa(wac_Yd(),"UserActions")?0<wac_Hl(wac_Yd(),"UserActions").VisiToggled:!1}
function wac_tKb(a,b,c,d,e,f,g,h){this.A1d={};this.pab=new (wac_d.$$(Number))(function(){return f.CZ("PresenceBootLatencyThreshold",1E4)});this.H4a=new (wac_d.$$(Number))(function(){return f.CZ("PresenceBootLatencyCutoffThreshold",6E4)});this.$v=b;this.Y0d=c;this.pNc=a;this.lh=d;this.Dyb=g;this.gga=e;this.Od=h;this.pb()}
wac_tKb.prototype={pNc:null,Dyb:null,Zvb:null,$v:null,Y0d:null,orb:null,lh:null,g6d:0,h6d:0,pab:null,H4a:null,gga:null,Od:null,Oib:function(a,b,c,d){c&&(wac_c(42274970,302,!this.Dyb||this.Dyb===c,"_myClientId is already set and you are trying to update it to something different"),this.Dyb=c);var e=new (wac_ab.$$(Boolean)),f=this;this.pb().CW(function(){var c=b?b.getTime():(new Date).getTime();if(a in f.A1d)e.t_();else{var h;new (wac_ab.$$(Number));h=1===f.g6d?wac_2a(Number,f.h6d):wac_uKb(f);c=new wac_vKb(a,
h,c,f.hRb(f.Dyb||"{"+wac_q.Xf+"}"),f.hRb(a),f.pab,f.H4a,d,f.gga);f.A1d[a]=c;wac_wKb(c,e)}});return e.Lc},pb:function(){if(this.Zvb)return this.Zvb.Lc;this.Zvb=new (wac_ab.$$(Object));this.gga()&&wac_(50951700,302,15,"TabSwitched Session");var a=this;this.pNc.CW(function(){var b=a.pNc.mc(),c=b.fTa.Lc,d=b.i6d.Lc;d.CW(function(){c.CW(function(){a.Od&&a.Od.addQosPillar(window.Common.QosPillarName.toString(6));a.NHc(c.mc(),d.mc());a.Zvb.af(null)})})});return this.Zvb.Lc},NHc:function(a,b){this.g6d=a;this.h6d=
b?b:(new Date).getTime()},hRb:function(a){return this.Y0d.hRb(a)}};function wac_uKb(a){if(a.orb)return a.orb.Lc;a.orb=new (wac_ab.$$(Number));a.$v.il(4,function(){var b=wac_Hl(a.lh,"AppInitStatus_"+wac_g.za.Iwa.toString(4));wac_bb(a.orb,b)},3);return a.orb.Lc}function wac_vKb(a,b,c,d,e,f,g,h,k){this._id=a;this.V3c=b;this.or=c;this.p7b=d;this.jbc=e;this.pab=f;this.H4a=g;this.Qrb=h;this.gga=k}wac_vKb.prototype={Lg:0,V3c:null,pab:null,H4a:null,B4d:!1,or:0,p7b:null,jbc:null,Qrb:0,_id:null,gga:null};
function wac_xKb(a){switch(a){case 2:return"NonWac";case 0:return"Unknown";case 1:return"Wac";default:return"Unknown"}}
function wac_wKb(a,b){wac_Za.WAA(a.V3c,a.p7b,a.jbc).CW(function(){if(a.p7b.mc()<=a.jbc.mc())wac_bb(b,!1);else{a.Lg=a.V3c.mc();var c=a.or-a.Lg,d=new window.Common.App.CoauthTelemetry.PL;d.id=a._id;d.et=a.or;d.st=a.Lg;d.d=a.or-a.Lg;d.mp=a.p7b.mc();d.tp=a.jbc.mc();d.ct=wac_xKb(a.Qrb);d.vc=a.gga();var e=wac__i(d);wac_(42078597,302,15,e);if(c>a.pab.pa()&&!a.B4d&&!d.vc&&c<a.H4a.pa()){a.B4d=!0;wac_bb(b,!0);var f,d=(f=new wac_Rn,f.extendedProperties=new window.Map,f);d.extendedProperties.set("data",e);wac_3d().recordQosError("PresenceRenderDurationIsTooLong",
["PresenceExperienceDegraded"],!1,!0,!1,!1,d);wac_(42078598,302,15,"{d:"+c+",vt:"+a.pab.pa()+",ct:"+a.H4a.pa()+"}")}b.Lc.Cm()||wac_bb(b,!1)}})}window.Common.App.CoauthTelemetry.PL=wac_g.za.Ghb.Ahf=function(){};wac_g.za.Ghb.Ahf.prototype={id:null,et:0,st:0,mp:0,tp:0,d:0,ct:null,vc:!1};wac_kKb.registerClass("Common.App.CoauthTelemetry.CoauthorPositionFinder",null,wac_Bo);wac_mKb.registerClass("Common.App.CoauthTelemetry.CoauthorGalleryTelemetry",null,wac_kca);
wac_pKb.registerClass("Common.App.CoauthTelemetry.CoauthTelemetry",null,wac_Co);wac_rKb.registerClass("Common.App.CoauthTelemetry.CoauthTelemetryPackage",null,wac_G,wac_j);wac_tKb.registerClass("Common.App.CoauthTelemetry.PresenceBootTelemetry",null,wac_Do);wac_vKb.registerClass("Common.App.CoauthTelemetry.PresenceLatencyActivityLogger");window.Common.App.CoauthTelemetry.PL.registerClass("Common.App.CoauthTelemetry.PL");wac_H(wac_B(),new wac_rKb,0,!1);Type.registerNamespace("Common.App.CollabControls");
wac_g=window.Common||{};wac_g.za=wac_g.za||{};wac_g.za.Zwa=wac_g.za.Zwa||{};function wac_yKb(){}wac_yKb.registerInterface("Common.App.CollabControls.IPresenceTooltipControl");function wac_zKb(){}wac_zKb.registerInterface("Common.App.CollabControls.IPresenceTooltipFactory");wac_g.za.Zwa.y1a=function(){};
wac_g.za.Zwa.y1a.prototype={multipleBrowsersImageClassName:0,peopleImageClassName:1,peopleImageClusterPath:4,multipleBrowserImageClusterPath:5,imageDimension:6,rtl:8,pointerInputManager:9,clickInputManager:10,vertical:11,zIndex:12,contextMenuInputManager:13,imageDomElement:14,useIdleTooltip:15,viewportBoundsCallback:16,flipHorizontalDirection:17,fixRemoveFadeOutElementCrash:18};wac_g.za.Zwa.y1a.registerEnum("Common.App.CollabControls.PresenceTooltipSettingKeys",!1);
function wac_eS(a){this.DU=Function.createDelegate(this,this.ksf);this.dispose=this.ja;wac_eS.initializeBase(this);this._element=a}
wac_eS.prototype={_element:null,En:function(){return"visible"===this._element.style.visibility},Ko:function(a){this._element.style.visibility=a?"visible":"hidden";return a},ja:function(){this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element);this._element=null;wac_hf.prototype.ja.call(this)},pj:function(a){return this._element.ownerDocument.createElement(a)},ksf:function(){return!0}};function wac_fS(a,b){a._element.style.zIndex=b}
function wac_AKb(a,b){a._element.dir=b?"rtl":"ltr"}function wac_gS(a,b){wac_gS.initializeBase(this);this.pc=a;this.pkc=b}wac_gS.prototype={pc:0,pkc:null};
function wac_hS(a,b,c){this.iGa=Function.createDelegate(this,this.e1a);this.FVa=Function.createDelegate(this,this.jcf);this.Ki=[];this.dispose=this.ja;wac_hS.initializeBase(this,[a]);this.g6a={};this.Xc=c;this.th=c.Yk(Boolean,8,!1);this.gTc=c.Yk(Boolean,15,!1);this.dda=c.Yk(Number,12,0);this.hka=c.Yk(Number,6,0);this.f$a=b;this.G6c=c.Yk(Function,16,null);this.xub=c.Yk(Boolean,17,!1);this.txb=0;this.Z0d=new wac_BKb(this.th,this.xub);this.h3a=this.th?3:4;this.zDa=!1;this.cNa=[];this.j6a=[];this._element.id=
String.format("{0}-{1}","presencetooltip",wac_CKb++);this._element.className="prControl"+(this.th?"Rtl":"");this.dda&&wac_fS(this,this.dda);wac_AKb(this,this.th);this.zGc(b);this.kK=this.pj("div");this.kK.className="prFlyoutContainer";this._element.appendChild(this.kK);this.oG=[];this.Nqa=new wac_DKb(this.oG,this._element,this.hka,4,6,32,this.th);this.Gj=c.Yk(wac_7c,9,null);this.Gj.Pa("msospPointerDown",this.Nqa.gd,this.FVa);this.Gj.Pa("msospPointerOver",this.Nqa.gd,this.FVa);this.Gj.Pa("msospPointerOut",
this.Nqa.gd,this.FVa)}
wac_hS.prototype={th:!1,QBa:!1,CSd:!1,Hha:!1,f$a:0,txb:0,m9a:!1,gTc:!1,xub:!1,zDa:!1,g6a:null,kK:null,Nqa:null,cNa:null,j6a:null,Z0d:null,h3a:0,Gj:null,Xc:null,G6c:null,fec:function(){return wac_He(this.Ki)},oG:null,dda:0,hka:0,Cb:function(){return this._element},ja:function(){if(3!==wac_iS(this)||this.QBa){if(this.oG)for(var a=this.oG,b=a.length,c=0;c<b;++c){var d=a[c];d.ffc(this.iGa);wac_Zb(d)}this.oG=null;this.Gj.Fb("msospPointerDown",this.Nqa.gd,this.FVa);this.Gj.Fb("msospPointerOver",this.Nqa.gd,
this.FVa);this.Gj.Fb("msospPointerOut",this.Nqa.gd,this.FVa);wac_eS.prototype.ja.call(this)}else this.zDa=!0},tMa:function(){wac_jS(this,!1);this.Ko(!0)},YXb:function(){this.Ko(!0);wac_EKb(this);this.QBa=!0},pe:function(){wac_FKb(this,5);this.Wma();this.Nqa.ku(wac_iS(this),this.m9a)},jV:function(a){var b=wac_iS(this),c=this.QBa;a.Sk||(a.Sk=(wac_CKb++).toString());var d;if(a.Sk in this.g6a&&(d=this.BJa(a.Sk),0<=d)){d=this.Ki[d];if(d.it===a.it&&d.Jp===a.Jp)return;this.doa(a.Sk)}this.pe();d=new wac_GKb(this.pj("div"),
this.Xc);d.VEb(this.iGa);this.kK.insertBefore(d._element,this.kK.firstChild);this.g6a[a.Sk]=d;Array.add(this.Ki,a);Array.add(this.oG,d);wac_HKb(this,b,c);this.Ko(!0)},doa:function(a){if(3!==wac_iS(this)||this.QBa){var b=wac_iS(this),c=this.QBa;this.pe();this.Snb(a);wac_HKb(this,b,c)}else Array.add(this.j6a,a)},Ftc:function(a){a=a.hb.rawEvent.relatedTarget;if(this.kK!==a&&wac_yd(this.kK,a))return!0;for(var b=this.oG,c=b.length,d=0;d<c;++d)if(wac_yd(b[d]._element,a))return!0;return!1},Wma:function(){var a=
0,b=0;this.m9a&&(a=this.h3a,b=-6);for(var c=0;c<wac_kS(this);c++)this.oG[c].pe(this.Ki[c],b,a);wac_fS(this,this.dda);this.QBa=!1;this.Ko(!1);this.zDa&&this.ja()},e1a:function(a,b){a=wac_iS(this);if(2===b.pc||4===b.pc&&3!==a)this.Hha&&(this.Hha=!1),3!==a&&(wac_EKb(this),3===b.pkc.Ge&&wac_IKb(this,2E3));else if(4===b.pc&&3===a)this.Hha&&(this.Hha=!1),wac_IKb(this,0);else if(3===b.pc&&3===a&&!this.QBa)if(1<wac_kS(this)){this.Hha=!0;var c=this;wac_0a(250).CW(function(){wac_jS(c,!0);c.Hha=!1})}else wac_IKb(this,
0);this.Ya("InteractivityChanged",b,null)},jcf:function(a){3===a.Ge?this.e1a(this,new wac_gS(4,a)):"msospPointerOver"===a.eo?this.e1a(this,new wac_gS(2,a)):"msospPointerOut"===a.eo&&this.e1a(this,new wac_gS(3,a));return!1},zGc:function(a){this._element.style.width=a+"px";this._element.style.height=this.hka+"px"},Snb:function(a){if(-1===this.BJa(a))wac_(41706452,302,50,"Cannot remove active editor because client id is invalid");else if(Array.contains(this.cNa,a)){Array.remove(this.cNa,a);if(this.Ki[0].Sk===
a&&0<this.cNa.length){var b=this.cNa[this.cNa.length-1];if(b in this.g6a){var c=this.BJa(b);if(c){var d=this.Ki[c],b=this.g6a[b];Array.removeAt(this.Ki,c);Array.insert(this.Ki,0,d);Array.removeAt(this.oG,c);Array.insert(this.oG,0,b);this.kK.removeChild(b._element);this.kK.appendChild(b._element);wac_jS(this,!1)}}}this.Ki[0].Sk===a&&1===wac_iS(this)&&wac_jS(this,!1)}a=this.BJa(a);0>a||(c=this.Ki[a],Array.removeAt(this.Ki,a),delete this.g6a[c.Sk],c=this.oG[a],this.kK.removeChild(c._element),this.Xc.Yk(Boolean,
18,!1)&&c.ffc(this.iGa),Array.removeAt(this.oG,a),c.ja())},BJa:function(a){for(var b=0;b<this.Ki.length;b++)if(this.Ki[b].Sk===a)return b;return-1},MFc:function(a){for(var b=0;b<wac_kS(this);b++)this.oG[b].MFc(a)}};function wac_JKb(a,b){b?Sys.UI.DomElement.addCssClass(a.kK,"prBackgroundSelection"):Sys.UI.DomElement.removeCssClass(a.kK,"prBackgroundSelection")}
function wac_FKb(a,b){if(a.j6a.length){a.En()&&a.Wma();for(var c=0;c<a.j6a.length;c++)a.Snb(a.j6a[c]);Array.clear(a.j6a);0>=a.Ki.length||5===b?a.pe():b||a.tMa()}}function wac_IKb(a,b){b?(a.Hha=!0,wac_0a(b).CW(function(){a.gTc?a.Hha&&a.pe():wac_jS(a,!0);a.Hha=!1})):a.gTc?a.pe():wac_jS(a,!1)}
function wac_EKb(a){a.CSd&&wac_JKb(a,!1);wac_fS(a,a.dda+1);var b,c,d,e=c={val:c},f=b={val:b},g=d={val:d};e.val=0;f.val=0;g.val=a.h3a;if(a.G6c){var h=a.G6c(a);if(h){var k=4===wac_iS(a),l;l=a.Z0d;var m=wac_kS(a),n=k?6:a.hka,p=a.hka,q=a._element,r=h.y,t=h.height,u=wac_al(q).y,v=u+n,w=m*p+2*(m-1),p=null;1===m||u+w<=r+t?m=new wac_lS(0,0,2,4):(m=l.kuc(v,w,r,t),m.$0a-=u);l.xub?p=new wac_lS(0,0,2,l.th?4:3):(q=l.th?h.width-wac_wsa(q):wac_al(q).x,u=Math.max(0,h.x),h=h.width,n=q+n,q+150<=u+h?p=new wac_lS(0,
0,2,l.th?3:4):150<=n-u&&(p=new wac_lS(0,0,2,l.th?4:3)),p||(h-n>=q-u?l=4:(n=q,l=3),p=new wac_lS(0,n,2,l)));l=new wac_lS(m.$0a,p.IAd,m.IJc,p.Nwc);f.val=l.$0a;1===l.IJc?f=wac_kS(a)-1:(f=Math.abs(l.$0a),f=0<f?f/(a.hka+2):0);a.txb=f;g.val=l.Nwc;g.val!==a.h3a&&(a.MFc(g.val),a._element.dir=3===g.val?"rtl":"ltr",a.h3a=g.val);g.val!==(a.th?3:4)?(e.val=k?-6:-a.hka,a.m9a=!0):a.m9a=!1}}c=c.val;b=b.val;d=d.val;for(e=0;e<wac_kS(a);e++)a.oG[e].Jh(a.Ki[e],c,b+(a.hka+2)*e+20,3,e!==a.txb,d)}
function wac_jS(a,b){if(!b||a.Hha){a.CSd&&wac_JKb(a,!0);var c=Math.min(3,wac_kS(a))-1;b=0;var d=1,e=0;a.m9a&&(b=a.h3a,d=-1,e=-a.hka);for(var f=wac_kS(a)-1;f>c;f--)a.oG[f].Jh(a.Ki[f],-4*c*d+e,20,2,!0,b);for(f=c;0<=f;f--)c=Array.contains(a.cNa,a.Ki[f].Sk),a.oG[f].Jh(a.Ki[f],-4*f*d+e,20,0<f?2:c?1:0,f!==a.txb,b);a.txb=0;a.Nqa.ku(0,a.m9a);wac_fS(a,a.dda);a.QBa=!1;wac_FKb(a,0);a.zDa&&a.ja()}}function wac_HKb(a,b,c){0>=a.Ki.length?a.pe():3===b&&c?a.YXb():a.tMa()}
function wac_iS(a){return 0<wac_kS(a)?a.oG[0].oj:5}function wac_kS(a){return a.oG?a.oG.length:0}function wac_KKb(a){var b=wac_LKb/a,c=2*b,d=wac_MKb/2;a=(a-12-8)*b/2;var e=document.createElementNS(wac_NKb,"g");e.setAttribute("class",wac_OKb);for(var f=1;3>=f;f++)e.appendChild(wac_PKb(f,c,a+(6*f-2)*b,d));return e}
function wac_PKb(a,b,c,d){var e=document.createElementNS(wac_NKb,"circle");e.setAttribute("class",String.format("{0}-{1}",wac_QKb,a));e.setAttribute("cx",String.format("{0}",c));e.setAttribute("cy",String.format("{0}",d));e.setAttribute("r",String.format("{0}",b));return e}function wac_RKb(a){this.Xc=a;wac_mS(this.Xc,10,wac_Mg());wac_mS(this.Xc,9,wac_Og());wac_mS(this.Xc,6,20);wac_mS(this.Xc,13,wac_Yg());wac_mS(this.Xc,17,!1)}
wac_RKb.prototype={Xc:null,Irc:function(a,b){wac_mS(this.Xc,15,b);return new wac_hS(a,20,this.Xc)}};
function wac_GKb(a,b){this.Sca=Function.createDelegate(this,this.tLa);this.WI=Function.createDelegate(this,this.N9);this.QI=Function.createDelegate(this,this.FL);this.fl=Function.createDelegate(this,this.Kq);wac_GKb.initializeBase(this,[a]);this.o1=b.Yk(Boolean,8,!1);this.Mga=b.Yk(Number,6,0);this.W8d=b.Yk(Boolean,15,!1);this.Xc=b;this.NQc=0;this._element=a;this._element.className=wac_SKb;this.$M=document.createElement("span");this._element.appendChild(this.$M);a=b.Yk(Number,6,0);var c=document.createElementNS(wac_NKb,
"svg");c.setAttribute("viewBox",String.format(wac_TKb,wac_LKb,wac_MKb));c.appendChild(wac_KKb(a));this.tOd=c;this.SC(b);this.oj=5}
wac_GKb.prototype={Pc:null,Gj:null,$w:null,Xc:null,$M:null,Vqa:null,tOd:null,Mga:0,o1:!1,W8d:!1,aNc:null,NQc:0,GBa:null,VEb:function(a){this.jb("InteractivityChanged",a)},ffc:function(a){this.hd("InteractivityChanged",a)},ff:null,oj:0,ja:function(){this._element&&(this.Pc.Fb("click",this._element,this.fl),this.Pc.Fb("dblclick",this._element,this.DU),this.Gj.Fb("msospPointerDown",this._element,this.QI),this.Gj.Fb("msospPointerOut",this._element,this.WI),this.Gj.Fb("msospPointerOver",this._element,
this.Sca),this.$w.Fb(this._element,this.DU));wac_eS.prototype.ja.call(this)},SC:function(a){this.Pc=a.Yk(wac_5c,10,null);this.Pc.Pa("click",this._element,this.fl);this.Pc.Pa("dblclick",this._element,this.DU);this.Gj=a.Yk(wac_7c,9,null);this.Gj.Pa("msospPointerOver",this._element,this.Sca);this.Gj.Pa("msospPointerOut",this._element,this.WI);this.Gj.Pa("msospPointerDown",this._element,this.QI);this.$w=a.Yk(wac_Ck,13,null);this.$w.Pa(this._element,this.DU)},pe:function(a,b,c){this.W8d&&a?this.Jh(a,b,
15,4,!1,c):(3===this.oj&&wac_UKb(this),this.Ko(!1),this.oj=5)},Jh:function(a,b,c,d,e,f){var g;if((g=a)&&!(g=d!==this.oj)){g=wac_rm(this._element.style.left);var h=wac_rm(this._element.style.top);g=!(g===b&&h===c)}if(g){if(!wac_VKb(this.oj)||!wac_VKb(d))switch(Sys.UI.DomElement.removeCssClass(this._element,this.aNc),this.oj){case 4:3===d?this.xla(wac_WKb,wac_XKb):wac_VKb(d)&&this.xla(wac_YKb,wac_XKb);break;case 3:4===d?this.xla(wac_ZKb,wac__Kb):wac_VKb(d)&&(e&&wac_UKb(this),this.xla(wac_YKb,wac__Kb,
e?wac_0Kb:""));break;case 0:case 1:case 2:4===d?this.xla(wac_ZKb,wac_1Kb):3===d&&(e&&wac_2Kb(this),this.xla(wac_WKb,wac_1Kb,e?wac_3Kb:"",3===f?wac_4Kb:wac_5Kb));break;default:4===d?this.xla(wac_ZKb):3===d?this.xla(wac_WKb):wac_VKb(d)&&this.xla(wac_YKb)}this.jV(a,d,f);this.oj=d;4===f||!f&&!this.o1?this._element.style.left=b+"px":this._element.style.right=b+"px";this._element.style.top=c+"px";this.Ko(!0)}},jV:function(a,b,c){this.ff=a;wac_xd(this.$M);this.$M.removeAttribute("style");this.$M.id="fly_"+
a.Sk;this.$M.style.backgroundColor=a.it;4!==b?(this.$M.style.height=this.Mga+"px",this.$M.style.lineHeight=this.Mga+"px",wac_om(this.$M,"border-radius",this.Mga+"px")):4===c||!c&&!this.o1?this.$M.style.left="0px":this.$M.style.right="0px";if(2!==b)if(4===b)wac_zd(this.$M,"");else if(1===b)this.$M.appendChild(this.tOd);else{var d=a.Jp;d?(c=d.replace(wac_bKb||(wac_bKb=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g),""),c=c.replace(wac_aKb||(wac_aKb=/\s+/g)," "),d=c.trim(),(wac_cKb||
(wac_cKb=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/)).test(d)||(wac_dKb||(wac_dKb=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i)).test(d)?c="":(c="",d=d.split(" "),2===d.length?(c+=d[0].charAt(0),c+=d[1].charAt(0)):3===d.length?(c+=d[0].charAt(0),c+=d[2].charAt(0)):0<d.length&&(c+=d[0].charAt(0)),c=c.toUpperCase())):c="";!a.Iv&&c||b?(a=a.Jp,b||(a=c,wac_om(this.$M,
"text-align","center")),wac_zd(this.$M,a),this.$M.setAttribute("dir","auto")):(this.Vqa||(b=document.createElement("img"),b.setAttribute("src",wac_6e("doughperson_white_glyph.svg")),b.setAttribute("Unselectable","on"),b.setAttribute("role","presentation"),this.Vqa=wac_Ska(this.Mga,this.Mga,null,null,wac_6Kb,"",!1,"",this._element.ownerDocument,b)),this.$M.appendChild(this.Vqa))}},Kq:function(a){if(!this.oj)return this.Ya("InteractivityChanged",new wac_gS(1,a),null),!0;3===this.oj&&wac_(50436114,302,
50,"User clicked on presence pill.");return!1},N9:function(a){3===this.oj&&this.Ya("InteractivityChanged",new wac_gS(3,a),null);return!1},tLa:function(a){3!==a.Ge&&this.Ya("InteractivityChanged",new wac_gS(2,a),null);return!1},FL:function(a){if(3!==a.Ge)return!0;this.Ya("InteractivityChanged",new wac_gS(4,a),null);return!1},xla:function(){for(var a=[],b=0;b<arguments.length;++b)a[b]=arguments[b];this.aNc=a.join(" ");Sys.UI.DomElement.addCssClass(this._element,this.aNc)},MFc:function(a){3===a&&wac_pm(this._element,
"left")?(a=wac_rm(this._element.style.left),wac_om(this._element,"left",""),this._element.style.right=-1*a+"px"):4===a&&wac_pm(this._element,"right")&&(a=wac_rm(this._element.style.right),wac_om(this._element,"right",""),this._element.style.left=-1*a+"px")}};function wac_VKb(a){return!a||1===a||2===a}
function wac_UKb(a){window.clearTimeout(a.NQc);a.GBa&&(Sys.UI.DomElement.removeCssClass(a.GBa,wac_1Kb+" "+wac_3Kb),Sys.UI.DomElement.addCssClass(a.GBa,wac_7Kb),wac_0a(300).CW(function(){a._element&&a._element.parentNode===a.GBa.parentNode&&a._element.parentNode.removeChild(a.GBa)}),wac_om(a._element,"z-index",""))}
function wac_2Kb(a){a.NQc=window.setTimeout(function(){a._element&&(a.GBa=a._element.cloneNode(!0),a._element.parentNode.appendChild(a.GBa),a._element.style.zIndex=2,a.GBa.style.zIndex=1)},300)}function wac_BKb(a,b){this.th=a;this.xub=b}wac_BKb.prototype={th:!1,xub:!1,kuc:function(a,b,c,d){var e=1,f=Math.max(c,a-b);b>a-c&&(e=2,f=b<d?d-b:c);return new wac_lS(f,0,e,4)}};function wac_lS(a,b,c,d){this.$0a=a;this.IAd=b;this.IJc=c;this.Nwc=d}wac_lS.prototype={$0a:0,IAd:0,IJc:0,Nwc:0};
function wac_DKb(a,b,c,d,e,f,g){this.p0=a;this._parent=b;this.qNc=c;this.QLd=d;this.qSd=e;this.pTa=f;this.o1=g;this.gd=document.createElement("div");this.gd.className="prTouchTarget"}
wac_DKb.prototype={p0:null,_parent:null,o1:!1,qNc:0,QLd:0,qSd:0,pTa:0,gd:null,ku:function(a,b){if(3!==a)if(5!==a&&this.p0&&this.p0.length){var c,d;if(4===a)c=this.qSd,d=(this.pTa-c)/2,this.gd.style.height=this.pTa+"px",this.gd.style.width=this.pTa+"px",a=wac_rm(this.p0[0]._element.style.top),b=wac_rm(this.o1?this.p0[0]._element.style.right:this.p0[0]._element.style.left);else{c=this.qNc;d=(this.pTa-c)/2;this.gd.style.height=this.pTa+"px";this.gd.style.width=(this.p0&&this.p0.length?this.qNc+Math.min(this.p0.length-
1,2)*this.QLd:0)+2*d+"px";a=wac_rm(this.p0[this.p0.length-1]._element.style.top);var e=this.p0[this.p0.length-1]._element,f=c;b=this.o1&&!b?wac_rm(e.style.right):this.o1||b?this.o1&&b?-wac_rm(e.style.left)-f:-wac_rm(e.style.right)-f:wac_rm(e.style.left)}wac_om(this.gd,"border-radius",this.pTa+"px");this.gd.style.top=a-d-c+"px";this.o1?this.gd.style.right=b-d+"px":this.gd.style.left=b-d+"px";this.gd.parentNode||this._parent.insertBefore(this.gd,this._parent.firstChild)}else this.gd.parentNode&&this.gd.parentNode.removeChild(this.gd)}};
function wac_8Kb(a,b,c){this.iGa=Function.createDelegate(this,this.e1a);this.Ki=[];this.iz=[];this.dispose=this.ja;wac_8Kb.initializeBase(this,[a]);this.Dvb={};this.Xc=c;this.th=c.Yk(Boolean,8,!1);this.PP=c.Yk(Boolean,11,!1);a=c.Yk(Number,12,0);this.B7=c.Yk(Number,6,0);this.f$a=b;this._element.id=String.format("{0}-{1}","presencetooltip",wac_9Kb++);this._element.className="prControl"+(this.th?"Rtl":"");a&&wac_fS(this,a);wac_AKb(this,this.th);this.zGc(b);this.Z4=this.pj("div");this.Z4.className=this.PP?
"prContainerV":"prContainerHr";this._element.appendChild(this.Z4);this.fL=Array(this.Zha);for(b=0;b<this.Zha;b++)this.fL[b]=new wac_$Kb(this.pj("div"),this.Xc),this.fL[b].VEb(this.iGa),this._element.appendChild(this.fL[b]._element)}
wac_8Kb.prototype={Z4:null,Zha:0,th:!1,F5a:!1,PP:!1,wCb:!1,f$a:0,Xc:null,Dvb:null,fec:function(){return wac_He(this.Ki)},fL:null,Gic:null,B7:0,IQ:function(){return this.PP?this.B7+2:this.f$a},Cb:function(){return this._element},ja:function(){if(this.fL)for(var a=this.fL,b=a.length,c=0;c<b;++c){var d=a[c];d.ffc(this.iGa);wac_Zb(d)}wac_9ba(this.iz);this.iz=this.fL=null;wac_eS.prototype.ja.call(this)},tMa:function(){this.Wma();wac_aLb(this);this.Ko(!0);this.F5a=!1},YXb:function(){!this.iz||1>this.iz.length||
(this.Wma(),this.Ko(!0),wac_aLb(this),wac_bLb(this,this.iz[this.iz.length-1],0),this.F5a=!0)},pe:function(){this.Ko(!1);this.Wma();for(var a=0;a<this.iz.length;a++)this.iz[a].pe();this.F5a=!1},jV:function(a){if(!(0>=this.Zha)){a.Sk||(a.Sk=(wac_9Kb++).toString());if(a.Sk in this.Dvb){var b=this.BJa(a.Sk);if(0<=b){b=this.Ki[b];if(b.it===a.it&&b.Jp===a.Jp)return;this.doa(a.Sk)}}var b=wac_cLb(this),c,d=0;this.Ki.length<this.Zha?(c=new wac_dLb(this.pj("div"),this.Xc,a),c.VEb(this.iGa),this.th&&!this.PP&&
0<this.Ki.length?this.Z4.insertBefore(c._element,this.Z4.firstChild):(this.Z4.appendChild(c._element),d=this.iz.length),Array.add(this.iz,c)):(this.th&&!this.PP?c=this.iz[0]:(d=this.iz.length-1,c=this.iz[d]),c.jV(a));c.Jh();this.Dvb[a.Sk]=c;Array.add(this.Ki,a);this.Nfa(c,d);b&&wac_eLb(this)}},doa:function(a){var b=wac_cLb(this);b&&this.Wma();this.Snb(a);this.Ki.length>=this.Zha&&this.iz.length<this.Zha&&wac_fLb(this);0>=this.Ki.length?this.pe():b&&wac_eLb(this)},Snb:function(a){var b=this.BJa(a);
0>b||(a=this.Ki[b],Array.removeAt(this.Ki,b),b=this.Dvb[a.Sk],delete this.Dvb[a.Sk],b.doa(a.Sk),this.Nfa(b,0),0>=wac_nS(b)&&(this.Z4.removeChild(b._element),Array.remove(this.iz,b),b.ja()))},BJa:function(a){for(var b=0;b<this.Ki.length;b++)if(this.Ki[b].Sk===a)return b;return-1},Wma:function(){for(var a=0;a<this.Zha;a++)this.fL[a].pe();this.wCb=!1},e1a:function(a,b){var c=window.$$as(wac_dLb,a),c=c?wac_gLb(this,c):-1;if(2===b.pc||1===b.pc&&-1!==c&&!this.fL[c].En())wac_bLb(this,a,0);else if(1===b.pc)this.Wma(),
this.F5a=!1;else if(3===b.pc){if(this.Ftc(b.pkc))return;this.F5a||this.Wma()}this.Ya("InteractivityChanged",b,null)},Ftc:function(a){a=a.hb.rawEvent;a=a.relatedTarget||a.toElement;for(var b=!1,c=this.fL,d=c.length,e=0;e<d;++e)if(wac_yd(c[e]._element,a)){b=!0;break}return this.Z4!==a&&wac_yd(this.Z4,a)||b},Nfa:function(a,b){var c;c=wac_gLb(this,a);(c=!!this.Gic&&a===this.Gic&&-1!==c&&this.fL[c].En())&&0>=wac_nS(a)?this.fL[b].pe():c?wac_bLb(this,a,0):this.fL[b].pe()},zGc:function(a){this.Zha=a===this.B7?
1:Math.floor(a/(this.B7+2));this.PP?(this._element.style.height=a+"px",this._element.style.width=this.B7+"px"):(this._element.style.width=a+"px",this._element.style.height=this.B7+"px")}};function wac_gLb(a,b){var c=0;a=a.iz;for(var d=a.length,e=0;e<d;++e){if(b===a[e])return c;c++}return-1}
function wac_bLb(a,b,c){if(b)if(a.Gic=b,a.PP){var d=a.B7;if(1<b.Ki.length)a.fL[c].Jh(b.Ki,d,(a.PP?a.f$a:a.B7+2)-a.B7);else for(var e=a.Z4.children.length,f=0;f<a.Z4.children.length;f++)b._element===a.Z4.children[f]&&a.fL[c].Jh(b.Ki,d,(a.PP?a.f$a:a.B7+2)-(e-f)*(a.B7+2)+2)}else a.fL[c].Jh(b.Ki,a.IQ(),0)}function wac_aLb(a){for(var b=0;b<a.iz.length;b++)a.iz[b].Jh()}
function wac_fLb(a){var b=a.th&&!a.PP?a.iz[0]:a.iz[a.iz.length-1];!b||1>=b.Ki.length||(b=Array.clone(a.Ki),Array.forEach(b,function(b){a.Snb(b.Sk)}),Array.forEach(b,function(b){a.jV(b)}))}function wac_cLb(a){if(!a.wCb)return!1;for(var b=0,c=a.fL,d=c.length,e=0;e<d;++e)c[e].En()&&b++;a.wCb=0<b&&(a.Ki.length<=a.Zha?b===a.Ki.length:b===a.Zha);return a.wCb}
function wac_eLb(a){if(a.iz&&!(1>a.iz.length)){a.Ko(!0);wac_aLb(a);for(var b=0,c=a.iz,d=c.length,e=0;e<d;++e)wac_bLb(a,c[e],b++);a.F5a=!1;a.wCb=!0}}function wac_hLb(a){this.Xc=a;wac_mS(this.Xc,10,wac_Mg());wac_mS(this.Xc,9,wac_Og());wac_mS(this.Xc,6,16);wac_mS(this.Xc,13,wac_Yg())}wac_hLb.prototype={Xc:null,Irc:function(a){return new wac_8Kb(a,16,this.Xc)}};
function wac_$Kb(a,b){this.WI=Function.createDelegate(this,this.N9);this.fl=Function.createDelegate(this,this.Kq);wac_$Kb.initializeBase(this,[a]);this.o1=b.Yk(Boolean,8,!1);this.Mga=b.Yk(Number,6,0);this._element=a;this._element.className=wac_iLb;this.Sbc=this.pj("ul");this._element.appendChild(this.Sbc);this.Pc=b.Yk(wac_5c,10,null);this.Pc.Pa("click",this._element,this.fl);this.Gj=b.Yk(wac_7c,9,null);this.Gj.Pa("msospPointerOut",this._element,this.WI);this.Gj.Pa("msospPointerDown",this._element,
this.DU);this.$w=b.Yk(wac_Ck,13,null);this.$w.Pa(this._element,this.DU)}
wac_$Kb.prototype={Pc:null,Gj:null,$w:null,Sbc:null,Mga:0,o1:!1,VEb:function(a){this.jb("InteractivityChanged",a)},ffc:function(a){this.hd("InteractivityChanged",a)},PNe:null,ja:function(){this._element&&(this.Pc.Fb("click",this._element,this.fl),this.Gj.Fb("msospPointerDown",this._element,this.DU),this.Gj.Fb("msospPointerOut",this._element,this.WI),this.$w.Fb(this._element,this.DU));wac_eS.prototype.ja.call(this)},pe:function(){this.Ko(!1)},Jh:function(a,b,c){this.pe();if(a&&!(0>=a.length)){this.o1?
this._element.style.right=b+"px":this._element.style.left=b+"px";this._element.style.top=c+"px";this.PNe=a;wac_xd(this.Sbc);for(b=a.length-1;0<=b;b--)this.jV(a[b]);this.Ko(!0)}},jV:function(a){var b=document.createElement("li");b.style.backgroundColor=a.it;b.style.height=this.Mga+"px";b.id="fly_"+a.Sk;b.style.lineHeight=this.Mga+"px";wac_zd(b,a.Jp);b.setAttribute("dir","auto");this.Sbc.appendChild(b)},Kq:function(){this.pe();return!1},N9:function(a){this.Ya("InteractivityChanged",new wac_gS(3,a),
null);return!1}};
function wac_dLb(a,b,c){this.fl=Function.createDelegate(this,this.Kq);this.WI=Function.createDelegate(this,this.N9);this.Sca=Function.createDelegate(this,this.tLa);this.Ki=[];wac_dLb.initializeBase(this,[a]);this._element.className="prGlyph";this.Xc=b;this.ZRa=this.Xc.Yk(wac_7c,9,null);this.Tm=this.Xc.Yk(wac_5c,10,null);this.$w=this.Xc.Yk(wac_Ck,13,null);this._element&&(this.ZRa.Pa("msospPointerDown",this._element,this.DU),this.ZRa.Pa("msospPointerOver",this._element,this.Sca),this.ZRa.Pa("msospPointerOut",this._element,
this.WI),this.Tm.Pa("dblclick",this._element,this.DU),this.Tm.Pa("click",this._element,this.fl),this.$w.Pa(this._element,this.DU));this.jV(c);this.g5b=!1}
wac_dLb.prototype={Vqa:null,Xc:null,g5b:!0,Tm:null,ZRa:null,$w:null,VEb:function(a){this.jb("InteractivityChanged",a)},ja:function(){this._element&&(this.ZRa.Fb("msospPointerDown",this._element,this.DU),this.ZRa.Fb("msospPointerOver",this._element,this.Sca),this.ZRa.Fb("msospPointerOut",this._element,this.WI),this.Tm.Fb("dblclick",this._element,this.DU),this.Tm.Fb("click",this._element,this.fl),this.$w.Fb(this._element,this.DU));wac_eS.prototype.ja.call(this)},jV:function(a){Array.add(this.Ki,a);
2===wac_nS(this)?this.rW(!0):1===wac_nS(this)?this.rW(!1):this.rW(this.g5b)},doa:function(a){var b;a:{for(b=0;b<wac_nS(this);b++)if(this.Ki[b].Sk===a){a=this.Ki[b];Array.removeAt(this.Ki,b);b=a;break a}b=null}b&&(1<wac_nS(this)&&this.rW(!0),1===wac_nS(this)?this.rW(!1):1>wac_nS(this)&&this.pe())},Jh:function(){this.rW(2<=wac_nS(this));this.Ko(!0)},pe:function(){this.Ko(!1)},rW:function(a){this.g5b!==a&&(this.Vqa&&this._element.removeChild(this.Vqa),this.Vqa=a?wac_jLb(this,0,5):wac_jLb(this,1,4),this._element.appendChild(this.Vqa),
this.g5b=a);this.Vqa.childNodes[0].style.backgroundColor=this.Ki[this.Ki.length-1].it},tLa:function(a){3!==a.Ge&&this.Ya("InteractivityChanged",new wac_gS(2,a),null);return!1},Kq:function(a){this.Ya("InteractivityChanged",new wac_gS(1,a),null);return!0},N9:function(a){3!==a.Ge&&this.Ya("InteractivityChanged",new wac_gS(3,a),null);return!1}};
function wac_jLb(a,b,c){var d=a.Xc.Yk(Number,6,0),e=a.Xc.Yk(Object,14,null);return wac_Ska(d,d,a.Xc.Yk(String,b,null),a.Xc.Yk(String,c,null),"cui-img-cont-float cui-img-16by16","",!1,"",a._element.ownerDocument,e?e.cloneNode(!0):null)}function wac_nS(a){return a.Ki.length}function wac_kLb(){this.ks={}}
wac_kLb.prototype={Yk:function(a,b,c){a=wac_g.za.Zwa.y1a.toString(b);return"number"===typeof c?(c=this.ks[a])?Number.parseInvariant(c.toString()):0:this.ks[a]},U:function(a,b,c){this.ks[wac_g.za.Zwa.y1a.toString(b)]=c}};function wac_mS(a,b,c){wac_g.za.Zwa.y1a.toString(b)in a.ks||(a.ks[wac_g.za.Zwa.y1a.toString(b)]=c)}wac_eS.registerClass("Common.App.CollabControls.BasePresenceControl",wac_hf,Sys.IDisposable);wac_gS.registerClass("Common.App.CollabControls.InteractivityChangedEventArgs",Sys.EventArgs);
wac_hS.registerClass("Common.App.CollabControls.ModernPresenceTooltipControl",wac_eS,wac_yKb,Sys.IDisposable);(function(){}).registerClass("Common.App.CollabControls.ModernPresenceTooltipDancingDots");wac_RKb.registerClass("Common.App.CollabControls.ModernPresenceTooltipFactory",null,wac_zKb);wac_GKb.registerClass("Common.App.CollabControls.ModernPresenceTooltipFlyoutControl",wac_eS);wac_BKb.registerClass("Common.App.CollabControls.ModernPresenceTooltipPositioner");wac_lS.registerClass("Common.App.CollabControls.FlyoutsPositioningInfo");
wac_DKb.registerClass("Common.App.CollabControls.ModernPresenceTooltipTarget");wac_8Kb.registerClass("Common.App.CollabControls.PresenceTooltipControl",wac_eS,wac_yKb,Sys.IDisposable);wac_hLb.registerClass("Common.App.CollabControls.PresenceTooltipFactory",null,wac_zKb);wac_$Kb.registerClass("Common.App.CollabControls.PresenceTooltipFlyoutControl",wac_eS);wac_dLb.registerClass("Common.App.CollabControls.PresenceTooltipGlyph",wac_eS);wac_kLb.registerClass("Common.App.CollabControls.PresenceTooltipSettings");
var wac_CKb=0,wac_NKb="http://www.w3.org/2000/svg",wac_OKb="prDancingDots",wac_QKb="prAnimateCircle",wac_TKb="0 0 {0} {1}",wac_MKb=40,wac_LKb=120,wac_SKb="prModernFlyout UIFont",wac_ZKb="flyoutIdle",wac_WKb="flyoutExpanded",wac_YKb="flyoutCollapsed",wac_XKb="flyoutFromIdle",wac__Kb="flyoutFromExpanded",wac_1Kb="flyoutFromCollapsed",wac_3Kb="flyoutStacked",wac_0Kb="flyoutFromStacked",wac_7Kb="flyoutFadeOut",wac_6Kb="cui-img-cont-float cui-img-20by20",wac_5Kb="flyoutLtrDir",wac_4Kb="flyoutRtlDir",wac_9Kb=
0,wac_iLb="prFlyout UIFont";Type.registerNamespace("RealtimePresenceUI");function wac_lLb(){}wac_lLb.registerInterface("RealtimePresenceUI.IUserTracker");
function wac_mLb(a,b,c,d){this.Cte=Function.createDelegate(this,this.aaf);this.Yja=Function.createDelegate(this,this.Nya);this.qbc=new (wac_ab.$$(Number));this.dispose=this.ja;this.$n=a;this.FLa=b;if(c){var e=this;c.CW(function(){e.LF=c.mc();e.LF.va.jb("UU",e.Yja);wac_nLb(e)})}if(d){var f=this;d.CW(function(){f.LNa=d.mc();f.LNa.pLf(f.Yja);wac_nLb(f)})}this.zxf=new wac_Mm(this.$n.Sk,"Anonymous user","#cccccc",new wac_Nm(7),null,null,null,null,!1,!1,!1,0,null,0);this.XKb=this.H5b=!0;this.Q3b=this.O_c=
!1;this.x_=wac_oLb(this.$n.Sk,this.$n.HWa,a.xkd)}function wac_pLb(a,b){return a.St.v3(1)&&b.St.v3(1)||!a.St.v3(1)&&!b.St.v3(1)?a.Jp.localeCompare(b.Jp)-wac_3f:a.St.v3(1)?-1:1}
wac_mLb.prototype={zxf:null,H5b:!1,O_c:!1,Q3b:!1,$n:null,x_:null,FLa:null,LF:null,LNa:null,XKb:!1,xSb:function(){return 0<this.x_.p4.ma()},zJc:function(a){wac_(4482395,325,50,"PeoplesWell: Received user button click");a=a.MenuItemId;if(!a)return!1;var b=this.$n.rKb(a);if(!wac_qLb(this,a,b,!0))return!1;wac_rLb(this,b);return!0},Nya:function(){if(!this.Q3b){var a=this;window.setTimeout(function(){wac_nLb(a);a.Q3b=!1},3E3);this.Q3b=!0}},aaf:function(a,b,c,d,e){wac_bb(this.qbc,e.RenderTime);return 32},
ja:function(){this.LF&&(this.LF.va.hd("UU",this.Yja),this.LF=null);this.LNa&&(this.LNa.CLf(this.Yja),this.LNa=null)}};
function wac_nLb(a){a.O_c||(wac_bb(a.qbc,(new Date).getTime()),wac_(42567504,325,50,"We are trying to render the coauthor gallery before we are ready to record the render time"));var b;if(a.LF){b=[];for(var c=wac_dS(a.LF),d=c.length,e=0;e<d;++e){var f=c[e];wac_ze("Microsoft.Office.Web.SessionSettings.AvoidLookingUpEmptyRtcUserIsEnabled");wac_q.W&&wac_q.W.fa("AvoidLookingUpEmptyRtcUserIsEnabled")&&!f.Jp?wac_(592229832,304,15,"The looked up RTC User has no name"):b.push(f)}}else b=[];b=b||[];c=b.length;
for(d=0;d<c;++d)e=b[d],e.Gh()||(f=wac_1d().toString(),e.Sk=f),e.Jp||wac_isa(e,"Anonymous user"),e.St||(e.St=new wac_Nm(0)),e.xQ()||e.tfc("#cccccc"),e.H7||(e.H7=0);c=a.x_;c.p4=new (wac_La.$$(Array));d=b.length;for(e=0;e<d;++e)if(f=b[e],f.Gh()===c.vJ){c.usc=f;break}d=b.length;for(e=0;e<d;++e)f=b[e],f.Gh()!==c.vJ&&c.Srd(f);a.XKb&&1<=a.x_.p4.ma()&&(wac_(6092429,325,50,"PeoplesWell: User is no longer forever alone."),a.XKb=!1);a.H5b=!0;a.r2d(a.$n.ia())}
function wac_sLb(){var a=wac_tLb;wac_q.W.fa("CoauthorGalleryTelemetryIsEnabled")&&wac_x().ra(691867605,2147483648,a.Cte);a.ga.ra(a.$n.Xc.Cid,1,a.tqe);wac_A(a.ga,a.$n.Xc.Gid,1,a.ADe,96);wac_A(a.ga,a.$n.Xc.Eid,1,a.mfe,96);wac_A(a.ga,a.$n.Xc.Did,1,a.lfe,96);wac_A(a.ga,a.$n.Xc.Fid,1,a.SAe,96);a.ga.ra(a.$n.Xc.Dic,1,a.QKe);wac_A(a.ga,a.$n.Xc.Hid,1,a.JAe,96);a.O_c=!0;wac_nLb(a)}function wac_uLb(){return wac_q.W&&wac_q.W.fa("ColorPresenceHashIsEnabled")?"Initials":"Menu32"}
function wac_vLb(){var a;return a=new wac_Zf,a.Id="BasicChat",a.Command="2288458806",a.LabelText=CommonUIStrings.l_StartGroupChat,a.LabelCss="display:block; max-width:160px; padding:0px; white-space:normal; word-wrap:break-word",a}
function wac_wLb(a,b){if(!b.St.v3(1))return b.Wt?CommonUIStrings.l_PeoplesWellUserStatusIsViewingOffline:CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;var c=b.Wt,d=a.$n.HWa(b.Gh());b=a.$n.rKb(b.Gh());if(!d)return CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;switch(d.$c){case 1:var e;if(b){if(c)a=CommonUIStrings.l_PeoplesWellUserStatusIsViewingOnline;else{var f,g;a=((g=wac_xLb(a,b,f={val:e}),e=f.val,g)&&e.ff&&e.ff.X7&&"0"!==e.ff.X7?String.format(WordEditorIntl.WordEditorStrings.l_PresenceStatusOnPage,
e.ff.X7):CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown)||CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown}e=a}else e=CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown;return e;case 2:return CommonUIStrings.l_PeoplesWellUserStatusIsInactive;default:return CommonUIStrings.l_PeoplesWellUserStatusLocationUnknown}}
function wac_qLb(a,b,c,d){if(!c)return d&&wac_(4482393,325,50,"User does not have any presence data"),!1;if(wac_yLb(a,c)){var e,f,g;(g=wac_xLb(a,c,f={val:e}),e=f.val,g)&&a.aLd(e.Ul().$D(),e.Ul().nJ.nf())?c=!0:(wac_(41236613,325,50,"Cannot jump to user location because paragraph has not been loaded yet"),c=!1)}else wac_(41236612,325,50,"Cannot jump to user location because presence is not valid"),c=!1;return c?(a=a.$n.HWa(b))&&2===a.$c?!1:!0:(d&&wac_(4482394,325,50,"User has presence data but app can't use it"),
!1)}function wac_zLb(a,b,c,d,e){this.Xc=a;this.Sk=b;this.xkd=e;this.rKb=c||function(){return null};this.HWa=d||function(){return null}}function wac_ALb(a,b,c,d){var e=wac_q.W.fa("WordEditorPresenceDedupeMultipleCoauthorInstances");return new wac_zLb(a,b,c,d,e)}wac_zLb.prototype={Xc:null,ia:function(){return this.Xc.ub},Dae:function(){return this.Xc.vpd},t9c:function(){return this.Xc.wpd},gae:function(){return this.Xc.xnd},Sk:null,rKb:null,HWa:null,xkd:!1};
function wac_BLb(a){this.p4=new (wac_La.$$(Array));this.vJ=a}wac_BLb.prototype={vJ:null,usc:null};function wac_CLb(a,b,c){b=b.toUpperCase();var d,e,f;(f=a.p4.Xb(b,e={val:d},null),d=e.val,f)||(d=[],a.p4.Z(b,d));Array.add(d,c)}function wac_DLb(a){for(var b=[],c=a.p4.Ck().$$ge();c.$$mn();){var d=c.$$cu(),d=a.AEd(d);Array.add(b,d)}return b}function wac_oLb(a,b,c){return c?new wac_ELb(a,b):new wac_FLb(a)}function wac_ELb(a,b){wac_ELb.initializeBase(this,[a]);this.WQd=b}
wac_ELb.prototype={WQd:null,Srd:function(a){a.Iv||!a.Hv?wac_CLb(this,a.Gh(),a):this.usc&&wac_qa().Ba(this.usc.Hv,a.Hv)||wac_CLb(this,a.Hv,a)},AEd:function(a){for(var b=new Date(0),c=0<a.length?a[0]:null,d=a.length,e=0;e<d;++e){var f=a[e],g=this.WQd(f.Sk);g&&b.getTime()<g.SKa.getTime()&&(b=g.SKa,c=f)}return c}};function wac_FLb(a){wac_FLb.initializeBase(this,[a])}wac_FLb.prototype={Srd:function(a){wac_CLb(this,a.Gh(),a)},AEd:function(a){return a[0]}};
wac_mLb.registerClass("RealtimePresenceUI.APeoplesWell",null,wac_uc,Sys.IDisposable);wac_zLb.registerClass("RealtimePresenceUI.PeoplesWellSettings");wac_BLb.registerClass("RealtimePresenceUI.UserTracker",null,wac_lLb);(function(){}).registerClass("RealtimePresenceUI.UserTrackerFactory");wac_ELb.registerClass("RealtimePresenceUI.UniqueUserTracker",wac_BLb);wac_FLb.registerClass("RealtimePresenceUI.UserInstanceTracker",wac_BLb);Type.registerNamespace("AppRealtimeChannel");
wac_Zn=window.AppRealtimeChannel||{};function wac_GLb(){}wac_GLb.registerInterface("AppRealtimeChannel.IConnectedUsageKpiLogger");window.AppRealtimeChannel.ApiType=wac_Zn.Sgb=function(){};wac_Zn.Sgb.prototype={SendNotification:0,SendPersistentState:1,FindSession:2,Last:3};window.AppRealtimeChannel.ApiType.registerEnum("AppRealtimeChannel.ApiType",!1);window.AppRealtimeChannel.EventCountType=wac_Zn.GZe=function(){};
wac_Zn.GZe.prototype={AttemptCount:0,SuccessCount:1,DropCount:2,FailedCount:3,LatencyOverThresholdCount:4,LatencyUnderThresholdCount:5,ThrottledCount:6,Last:7};window.AppRealtimeChannel.EventCountType.registerEnum("AppRealtimeChannel.EventCountType",!1);function wac_HLb(){}wac_HLb.registerInterface("AppRealtimeChannel.IAssignRtcMachineStrategy");function wac_ILb(){}wac_ILb.registerInterface("AppRealtimeChannel.IRealtimeChannel");function wac_JLb(){}wac_JLb.registerInterface("AppRealtimeChannel.IRealtimeChannelMetrics");
function wac_KLb(){}wac_KLb.registerInterface("AppRealtimeChannel.IRealtimeChannelClientProxy");function wac_LLb(){}wac_LLb.registerInterface("AppRealtimeChannel.IRealtimeChannelServerProxy");function wac_MLb(){}wac_MLb.registerInterface("AppRealtimeChannel.IRealtimeChannelEventHub");function wac_NLb(){}wac_NLb.registerInterface("AppRealtimeChannel.IRealtimeChannelSettings");function wac_OLb(){}wac_OLb.registerInterface("AppRealtimeChannel.IMessageStatus");function wac_PLb(){}wac_PLb.registerInterface("AppRealtimeChannel.IMessageHandler");
function wac_QLb(){}wac_QLb.registerInterface("AppRealtimeChannel.IThrottle");function wac_RLb(){}wac_RLb.registerInterface("AppRealtimeChannel.IThrottleMaxRate");function wac_SLb(){}wac_SLb.registerInterface("AppRealtimeChannel.IMaxOutstandingThrottler");function wac_TLb(){}wac_TLb.registerInterface("AppRealtimeChannel.IThrottlerFactory");function wac_ULb(){}wac_ULb.registerInterface("AppRealtimeChannel.IThrottlerManager");
function wac_VLb(a){this.Hxe=Function.createDelegate(this,this.Cef);this.Cze=Function.createDelegate(this,this.zgf);this.wpe=Function.createDelegate(this,this.A4e);this.BVa=Function.createDelegate(this,this.SZ);this.at=a;this.at.Hta(this.BVa)}wac_VLb.prototype={at:null,K$a:null,Fda:0,BWa:!1,SZ:function(a,b){this.Fda=b.aB},zgf:function(){wac_(18637070,500,15,"Too many undelivered messages. Restarting RTC connection.");wac_WLb(this.at,null)},A4e:function(a){this.K$a.pb(a)}};
function wac_XLb(a){this.kre=Function.createDelegate(this,this.F7e);this.aIa=wac_YLb;this.EGa=wac_ZLb;this.and=this.kre;this.Ao=a}function wac_YLb(a,b){return window.setTimeout(a,b)}function wac_ZLb(a){window.clearTimeout(a)}wac_XLb.prototype={d6:!1,wTa:0,JNc:!1,Ao:null,aIa:null,EGa:null,and:null,F7e:function(){wac_(4539720,500,50,"Usage statement for the Rtc_ConnectedEver KPI for [{0}]",this.Ao)},jZ:function(){this.d6&&this.EGa(this.wTa);this.wTa=0;this.d6=!1}};
function wac__Lb(a){a.jZ();a.JNc||(a.JNc=!0,a.and())}function wac_0Lb(a){a.d6||(a.wTa=a.aIa(function(){a.d6=!1;wac__Lb(a)},8E3),a.d6=!0,a.JNc=!1)}function wac_1Lb(){}wac_1Lb.prototype={mnd:0,lnd:0,knd:0,qld:0,dLb:!1,ska:null,Ejc:null,awa:null,dL:null,g2:null};
function wac_2Lb(a,b,c,d,e,f,g,h,k,l,m,n){function p(){var c=m?m():wac_q.hl,c=String.format("{0}={1}","qs",wac_gg(c)),c=String.format("{0}&{1}={2}",c,"ClientId",wac_gg(g)),c=String.format("{0}&{1}={2}",c,"usid",wac_gg(a)),c=String.format("{0}&{1}={2}",c,"UserApp",wac_gg(f.toString())),c=String.format("{0}&{1}={2}",c,"UserType",wac_gg((1).toString())),c=String.format("{0}&{1}={2}",c,"UserVersion",wac_gg(e)),c=String.format("{0}&{1}={2}",c,"clientProtocol",wac_gg("1.0")),d;(d=4===f?String.format("{0}={1}",
"NoAuth","1"):b?wac_zma():null)&&(c=String.format("{0}&{1}",c,d));return c}this.bEe=Function.createDelegate(this,this.jmf);this.BVa=Function.createDelegate(this,this.SZ);this.gFe=Function.createDelegate(this,this.jnf);this.qWd=(new Date(0)).getTime();this.Tzf="enabled errorMessage url connectionString queryString throttling_globalMaxNumberOfOutstandingMessages throttling_maxNumberOfOutstandingMessages throttling_timeToWaitForResponse throttling_messageDelay".split(" ");this.Szf=["enabled","errorMessage"];
this.lc=d;this.Ed=b;this.rub=c;this.aRc=p();this.Ao=h;this.at=k;this.x5a=n;this.bRc=!1;this.WGa=9E4;if(l){var q=this;l.tb(function(a){a.YEb(function(){wac_(40768456,500,50,"Connection parameters refresh requested for client [{0}]",q.Ao);q.aRc=p()})})}2>=100*Math.random()&&(this.VEc=3E5);wac_oS&&(wac_oS.Nkd=this.VEc)}function wac_3Lb(a,b,c,d,e,f,g,h,k,l){a=a||wac_1d().toString();a=new wac_2Lb(a,b,c,d,e,1,f,g,h,k,null,l);a.pb();return a}
wac_2Lb.prototype={aRc:null,rub:null,Ed:null,fYd:0,N6b:!1,Jwb:!1,lc:null,at:null,Ao:null,x4d:null,VEc:36E5,y4a:1E3,x5a:null,bRc:!1,RHa:null,Fda:0,fkd:null,Kfb:null,dnd:null,dGb:function(){return this.dnd},dL:null,WGa:0,pb:function(){this.at.va.jb("RMID",this.gFe);this.at.Hta(this.BVa)},SZ:function(a,b){this.Fda=b.aB},jmf:function(){this.N6b=!1;var a=this,b=this;this.OQb(function(b){var d=a.fkd!==b.awa,e=a.dL!==b.dL,f=a.dL;wac_4Lb(a,b);a.Fda&&(e?(wac_(17956955,500,15,"Recycling RTC connection due to RTC machine id change. old={0}, new={1}",
f||"null",b.dL),wac_WLb(a.at,null)):(a.at.va.Ya("SPC",new wac_5Lb(d,e),null),wac_6Lb(a)))},function(){wac_oS&&wac_pS(wac_oS,2,3);wac_6Lb(b)},!0)},jnf:function(){this.y4a=1E3},OQb:function(a,b,c){var d=this.aRc;this.Kfb&&""!==this.Kfb&&(d=String.format("{0}&{1}={2}",d,"rr",this.Kfb));var d=this.rub+"?"+d,e=null;wac_(4317445,500,50,"Getting MachineId from server for [{0}]",this.Ao);var f={};f["X-CorrelationId"]=wac_1d().toString();var g={};g.IsNetworkOfflineBeforeSendRequest=this.Ed.FY;g.HasAvailableConnectionsBeforeSendRequest=
wac_qma(this.Ed);g.MaxConnectionsAllowed=this.Ed.xXa;g.IsRefreshMachineId=c;this.x5a&&!this.bRc?(wac_7Lb(this,wac_8Lb(this,null,g,a,b,c),wac_9Lb(this,null,g,b,c)),this.bRc=!0):(this.lc&&(e=this.lc.Je("WebServiceCall","GetMachineIdFromTheServer")),wac_oS&&wac_pS(wac_oS,2,0),wac_qS(0,0,!1),wac_8j(this.Ed,d,1,null,f,["RtcErrorCode","RtcGracefulShutdownInProgress"],1,wac_8Lb(this,e,g,a,b,c),wac_9Lb(this,e,g,b,c),null,this.WGa,"3",!1,null,null))}};
function wac_$Lb(a,b,c){b||(b={});b.ConnectionState=wac_g.oOb.toString(a.Fda);c||a.at.va.Ya("RCF",new wac_aMb(1,b),null)}function wac_bMb(a,b,c,d){d||(d={});d.IsNetworkOfflineAfterRequestComplete=a.Ed.FY;d.IsRequestSucceeded=c;b&&(d.EnqueueTime=b.k3,d.InvokedTime=b.CC,d.CompletedTime=b.iR,b.Mj&&"X-CorrelationId"in b.Mj&&(d.CorrelationId=b.Mj["X-CorrelationId"]));wac_(38633565,500,c?50:15,wac_rS(d))}
function wac_9Lb(a,b,c,d,e){return function(f){wac_qS(0,1,!1);b&&b.Vc();a.Jwb=!1;wac_bMb(a,f.Sa,!1,c);var g=null,h="unknown",k="unknown";if(f.Sa){if(h=f.Sa.Mj)"RtcErrorCode"in h&&(g=h.RtcErrorCode.toString()),"RtcGracefulShutdownInProgress"in h&&(a.Jwb=!0);h=wac_g.goa.toString(f.Sa.$c);k=f.Sa.Yg.toString()}c.FindSessionFailureReason="FindSessionRequestFailed";c.HttpErrorCode=k;c.HttpErrorStatus=h;c.RtcErrorCode=g;c.RtcGracefulShutdownInProgress=a.Jwb.toString();wac_(4290721,500,15,"Request for MachineId failed with Status='{0}'; HttpStatus='{1}' for [{2}]; RtcErrorCode='{3}', RtcGracefulShutdownInProgress='{4}'",
h,k,a.Ao,g,a.Jwb);wac_$Lb(a,c,e);d(k)}}
function wac_8Lb(a,b,c,d,e,f){return function(g){wac_qS(0,1,!1);b&&b.Vc();wac_bMb(a,g.Sa,!0,c);if(g=wac_cMb(g.Sa.ae,"FindSession",null,!0)){var h;if(Object.getType(g)!==Object)h=null;else{for(var k in g);b:if("enabled"in g){for(var l=(k=g.enabled)?a.Tzf:a.Szf,m=l.length,n=0;n<m;++n)if(!(l[n]in g)){h=null;break b}l=(h=new wac_1Lb,h.dLb=g.enabled,h.ska=g.errorMessage,h.g2=wac_1d().toString(),h);k&&(l.Ejc=g.url,l.awa=g.queryString,l.dL=g.connectionString,l.qld=g.throttling_globalMaxNumberOfOutstandingMessages,
l.knd=g.throttling_maxNumberOfOutstandingMessages,l.lnd=g.throttling_timeToWaitForResponse,l.mnd=g.throttling_messageDelay);h=l}else h=null}if(h){if(h.dLb&&h.awa&&h.dL){wac_(4317446,500,50,"Successfully retrieved MachineId from server for [{0}]",a.Ao);a.Kfb=null;d(h);return}c.FindSessionFailureReason="FindSessionInvalidResponse";c.IsRtcEnabled=h.dLb;c.IsQueryStringEmpty=!h.awa;c.IsConnectionStringEmpty=!h.dL;wac_(4290720,500,15,"Response did not contain valid MachineId [ConnectionUrl and/or QueryString] for [{0}]; IsRtcEnabled:{1}; IsQueryStringEmpty:{2}; IsConnectionStringEmpty:{3}",
a.Ao,h.dLb,!h.awa,!h.dL)}else c.FindSessionFailureReason="FindSessionTranslateServerResponseFailed",wac_(8745097,500,15,"Could not translate server response to findSession response for [{0}]",a.Ao)}else c.FindSessionFailureReason="FindSessionDeserializeServerResponseFailed",wac_(7372827,500,10,"Could not deserialize response data for [{0}]",a.Ao);wac_$Lb(a,c,f);e(null)}}
function wac_7Lb(a,b,c){wac_(50448152,500,50,"Using FindSessionUtils find session response");a.x5a.d3b.Lc.CW(function(){a.x5a.d3b.Lc.mc()?(wac_(50448153,500,50,"FindSessionUtils find Session resulted in success"),b(a.x5a.kKb)):(wac_(50448154,500,15,"FindSessionUtils find Session resulted in error"),c(a.x5a.kKb))})}function wac_dMb(a){a.N6b&&(window.clearTimeout(a.fYd),a.N6b=!1)}function wac_6Lb(a){wac_dMb(a);a.N6b=!0;a.fYd=window.setTimeout(a.bEe,a.VEc)}
function wac_4Lb(a,b){try{a.RHa=b,a.dnd=b.Ejc+"?"+b.awa,a.dL=b.dL,a.fkd=b.awa,a.x4d=b.Ejc}catch(c){wac_(17956953,500,10,"FindSession response contains invalid fields. Exception {0}, is thrown",c.toString())}}function wac_eMb(a){var b=(new Date).getTime();a=a.qWd+a.y4a-b;0>a&&(a=0);return a}
function wac_fMb(a,b,c,d,e){wac_(17956952,500,50,"Retrieving Rtc MachineId from server. Getting from last findsession, connectionString is [{0}] OrderlyShutdownInprogress is [{1}]",a.dL,a.Jwb);if(a.dL)b();else{var f=wac_eMb(a);window.setTimeout(function(){d(e,"RequestMachineId")&&(a.qWd=(new Date).getTime(),a.OQb(function(c){wac_4Lb(a,c);wac_6Lb(a);b()},function(b){a.dL=null;wac_dMb(a);wac_oS&&wac_pS(wac_oS,2,3);c(b)},!1))},f)}}
function wac_gMb(a,b,c,d,e,f){wac_fMb(a,function(){e(f,"GetMachineIdSuccess")&&(wac_(17956951,500,50,"Successfully retrieved Rtc MachineId [{0}] for [{1}]",a.dL,a.Ao),b(a.x4d),d(new wac_hMb(a.RHa.mnd,a.RHa.lnd,a.RHa.knd,a.RHa.qld)))},function(b){e(f,"GetMachineIdFailure")&&(wac_(4060129,500,15,"Failed to retrieve Rtc MachineId for [{0}]",a.Ao),c(b))},e,f)}function wac_iMb(a,b){b.val=a.RHa.g2;return String.format("{0}&{1}={2}",a.RHa.awa,"corrid",wac_gg(b.val))}
function wac_jMb(a){this.ire=Function.createDelegate(this,this.D7e);this.Ed=a;this.qr=Array(3);for(a=0;3>a;a++){this.qr[a]=Array(7);for(var b=0;7>b;b++)this.qr[a][b]=0}this.hKb=this.iRc=this.i7b=!1;this.L7a=0}
wac_jMb.prototype={hKb:!1,$kd:null,ekd:null,Nkd:0,qr:null,Ed:null,i7b:!1,iRc:!1,xXc:0,bYd:0,L7a:0,D7e:function(){if(this.i7b){this.L7a++;if((new Date).getTime()-this.xXc<5E3+this.bYd){for(var a={},b=0;3>b;b++)for(var c=0;7>c;c++)if(2!==b||3===c||!c){var d=window.AppRealtimeChannel.ApiType.toString(b)+window.AppRealtimeChannel.EventCountType.toString(c);a[d]=this.qr[b][c]}a.FSDomain=this.$kd;a.ConnectionDomain=this.ekd;a.FSRetryInterval=this.Nkd;a.LogNumber=this.L7a;1===this.L7a&&(b=wac_kMb().c3b.toString(),
a.FSLatencies=b,b=wac_kMb().gsb.toString(),a.ConLatencies=b);a=wac_zn(a);wac_(50644352,500,15,a)}this.xXc=(new Date).getTime();for(a=0;3>a;a++)for(b=0;7>b;b++)this.qr[a][b]=0;this.i7b=!1}}};function wac_pS(a,b,c){2!==b&&!a.iRc||a.hKb||!window.navigator.onLine||a.Ed.FY||(a.qr[b][c]++,a.i7b=!0)}function wac_lMb(a,b){a.bYd=b;window.setInterval(a.ire,b);a.xXc=(new Date).getTime()}
function wac_mMb(a,b,c,d,e,f,g,h,k,l,m,n){this.See=Function.createDelegate(this,this.iRe);this.IIe=Function.createDelegate(this,this.eGd);this.Xhd=Function.createDelegate(this,this.VHd);this.Mue=Function.createDelegate(this,this.$Ad);this.Cfe=Function.createDelegate(this,this.mSe);this.Dye=Function.createDelegate(this,this.Mff);this.Cye=Function.createDelegate(this,this.Lff);this.Hye=Function.createDelegate(this,this.Qff);this.dKe=Function.createDelegate(this,this.Guf);this.Nze=Function.createDelegate(this,
this.Mgf);this.Oze=Function.createDelegate(this,this.Ngf);this.Cke=Function.createDelegate(this,this.HPb);this.NM=new (wac_La.$$(wac_Ha.$$(wac_Zn.pnb,wac_nMb)));this.tWc=(new Date(0)).getTime();this._clientId=a;this.UDb=b;this.qP=0;this.lc=d;this.A0b=h;this.ASa=g;this.Az=k;this.eMd=e;this.nAa=f;this.Ao=c;this.qr=l;this.Xc=m;this.Ed=n}function wac_oMb(a,b,c,d,e,f,g,h){return wac_pMb(a,b,c,d,e,f,g,h)}
wac_mMb.prototype={_clientId:null,b4c:!1,HW:null,qP:0,Xc:null,dGb:function(){return this.nAa.dGb()},eMd:null,jsb:1,GW:null,UDb:null,lc:null,A0b:null,nAa:null,ASa:null,Ao:null,qr:null,Ed:null,Az:null,pb:function(){this.Az.va.jb("RC",this.Cke);this.Az.va.jb("UPSR",this.Oze);this.Az.va.jb("UPSC",this.Nze);wac_Pi(this.Ed,this.qr);var a=this;wac_Hh(function(){a.qr.aDd()});wac_qMb(this);wac_rMb();this.Az.va.jb("SPC",this.dKe)},VHd:function(a,b){return a!==this.jsb?(wac_(4309017,500,15,"ConnectionToken verification failed for {0}",
b),!1):!0},XOb:function(){if(2!==this.qP&&1!==this.qP){wac_(4539721,500,50,"Starting a new RTC connection for client [{0}]",this.Ao);wac_0Lb(this.A0b);var a=wac_kMb();a.n0c=a.Fkc();this.SZ(1,this.qP);this.eGd()}},eGd:function(){var a=this.jsb;this.b4c=!1;this.qr.TCd();wac_gMb(this.nAa,this.Cfe,this.Mue,this.ASa.wpe,this.Xhd,a)},$Ad:function(a){this.qr.VCd();var b=null;!a||"documentsessiondeleted"!==(b=a.toLowerCase())&&"documentsessionexpired"!==b?this.HPb(null,null):(wac_(41788292,500,15,"In RealtimeChannel method OnFailureToConnect: Disconnect was called for [{0}], due to non-retriable RtcErrorCode:{1}",
this.Ao,a),this.KZa())},HPb:function(a,b){wac_(4309018,500,50,"Disconnecting the connection [{0}]",this.HW);a=(a=2===this.qP||1===this.qP)&&!this.ASa.BWa;var c=!0,d=0;b&&Object.getType(b)!==Object.getType(Sys.EventArgs.Empty)&&b.jMb&&""!==b.jMb&&(a=!0,this.nAa.Kfb=b.jMb,c=b.dpd,d=b.fnc);a&&this.SZ(1,this.qP);++this.jsb;this.ASa.mS();wac_sMb(this,c);b=this.nAa;b.dL=null;wac_dMb(b);b.y4a+=3E3;b.y4a=Math.min(b.y4a,3E5);wac_qMb(this);a&&window.setTimeout(this.IIe,Math.min(d,3E4))},Guf:function(){var a=
null,b,c,d=(c=wac_iMb(this.nAa,b={val:a}),a=b.val,c);this.GW.qs=d;wac_(40768457,500,50,"Connection parameters refresh finished for client [{0}], CorrelationId:{1}",this.Ao,a)},mSe:function(a){this.tWc=(new Date).getTime();var b=null,c,d;this.GW.qs=(d=wac_iMb(this.nAa,c={val:b}),b=c.val,d);this.Xc.Lic&&(this.GW.url=a,wac_oS&&(wac_oS.ekd=wac_Ci(a)));var e=null;this.lc&&(e=this.lc.Je("WebServiceCall","ConnectToServer"));wac_(3290048,500,50,"Connecting to server for client [{0}]",this.Ao);a={};this.UDb&&
(a.transport=1===this.UDb.length?this.UDb[0]:this.UDb);wac_qS(1,0,!1);var f=this,g=this;this.GW.start(a,null).done(function(a){f.qr.WCd();wac_qS(1,1,!0);wac_(3457857,500,50,"Successfully connected to server using connection [{0}], CorrelationId:{1}",a.id,b)}).fail(function(a){wac_(3457858,500,15,"Failed to connect to server : connection string: {0}, CorrelationId:{1}, callback parameter:{2} for [{3}]",g.nAa.dL,b,wac_rS(a),g.Ao);g.$Ad(null);g.qr.UCd(a);wac_qS(1,1,!1);a={CorrelationId:b,ErrorDetails:a,
ConnectionState:wac_g.oOb.toString(g.qP)};g.Az.va.Ya("RCF",new wac_aMb(0,a),null)}).always(function(){e&&e.Vc();wac_oS&&(wac_oS.hKb=!1)})},KZa:function(){this.qP?(this.qr.XCd(),wac_oS&&(wac_oS.hKb=!0),wac_(36545633,500,50,"Starting explicit disconnect for [{0}]",this.Ao),this.ASa.BWa=!0,this.A0b.jZ(),this.SZ(0,this.qP),this.HPb(null,null),this.ASa.BWa=!1):wac_(36545632,500,50,"Disconnect for [{0}] was called but the channel is already Disconnected",this.Ao)},Rta:function(){return this.qP},Hta:function(a){this.Az.Hta(a)},
vHb:function(a){this.Az.vHb(a)},KEd:function(a){return this.sob(0,a)},sob:function(a,b){var c=new (wac_ab.$$(Object));this.Az.va.Ya("SP",new wac_tMb(a,b,c),null);return c.Lc},bFa:function(a){this.Az.bFa(a)},bVa:function(a){this.Az.bVa(a)},Xcc:function(a){this.Az.Xcc(a)},kfc:function(a){this.Az.kfc(a)},Wcc:function(a){this.Az.Wcc(a)},jfc:function(a){this.Az.jfc(a)},v2e:function(a){return this.NM.gb(a)&&this.NM.B(a).gb(0)?this.NM.B(a).B(0).bda:null},f_a:function(){return this.Ruc(0)},Ruc:function(a){for(var b=
{},c=this.NM.GetEnumerator();c.$$mn();){var d=c.$$cu();d.pa().gb(a)&&(b[d.se()]=d.pa().B(a).bda)}return b},Ngf:function(a,b){for(a=b.xqd.GetEnumerator();a.$$mn();){var c=a.$$cu();this.NM.gb(c.se())||this.NM.Z(c.se(),new (wac_Ha.$$(wac_Zn.pnb,wac_nMb)));var d=c.pa();this.NM.B(c.se()).Z(b.pc,new wac_nMb(d.Presence,new Date(d.TimeStamp)));c.se()!==this._clientId||b.pc||this.Az.va.Ya("MPU",new wac_Eka(d.Presence),null)}},Mgf:function(a,b){a=b.cWa;b=a.length;for(var c=0;c<b;++c)this.NM.Bb(a[c])},OL:function(a,
b,c){var d=new (wac_ab.$$(Object));this.Az.va.Ya("SUN",new wac_uMb(a,b,c,d),null);return d.Lc},i6:function(a){this.Az.i6(a)},wHb:function(a){this.Az.wHb(a)},Swd:function(a){var b,c,d,e,f,g;(e=this.NM.Xb(a,d={val:b},null),b=d.val,e)&&(g=b.Xb(0,f={val:c},null),c=f.val,g)?(a=(a=c)&&a.UMb?(new Date).getTime()-a.UMb.getTime()>(this.Xc.ejc?6E4:this.Xc.djc)?2:1:1,c=new wac_Gka(a,c.UMb)):c=null;return c},ojb:function(){for(var a={},b=this.NM.GetEnumerator();b.$$mn();){var c=b.$$cu(),d,e,f;if(f=c.pa().Xb(0,
e={val:d},null),d=e.val,f)a[c.se()]=this.Swd(c.se())}return a},Gh:function(){return this._clientId},SZ:function(a,b){if((1!==this.qP||b||1!==a)&&this.qP!==b){var c=String.format.apply(null,["Unexpected connection state change : Current state is '{0}' while the event indicates ('{1}'->'{2}') transition"].concat([this.qP,b,a]));wac_(3290053,500,10,c)}if(this.qP!==a){switch(a){case 2:wac_oS&&(wac_oS.iRc=!0);this.HW=this.GW.id;wac_(3249539,500,50,"Established connection [{0}] for client [{1}]",this.HW,
this.Ao);if((c=this.GW)&&c.transport&&c.transport.name){var c=c.transport.name,d=c.toLowerCase();"websockets"===d?wac_(4290723,500,50,"Transport name - {0} for [{1}]",c,this.Ao):"serversentevents"===d?wac_(4290752,500,50,"Transport name - {0} for [{1}]",c,this.Ao):"foreverframe"===d?wac_(4290753,500,50,"Transport name - {0} for [{1}]",c,this.Ao):"longpolling"===d?wac_(4290754,500,50,"Transport name - {0} for [{1}]",c,this.Ao):"mocktransport"!==d&&wac_(4290755,500,15,"Unknown transport protocol encountered - '{0}'",
c)}else wac_(4290722,500,10,"Transport protocol name is missing");wac_(4298369,500,50,"Retrieving complete session state");c=null;this.lc&&(c=this.lc.Je("WebServiceCall","Receive First Presence"));var d=this.Az,e=this.Xhd,f=this.jsb,g=this.A0b,h=this.See;var k=new (wac_Ha.$$(wac_Zn.pnb,Object));if(this.NM.gb(this._clientId))for(var l=this.NM.B(this._clientId).$$ge();l.$$mn();){var m=l.$$cu();k.Z(m.se(),m.pa().bda)}d.va.Ya("RPS",new wac_vMb(e,f,g,h,k,c),null);break;case 1:2===b&&wac_(4298644,500,50,
"Lost connection [{0}] to the server ...trying to re-establish it",this.HW);break;case 0:if(this.ASa.BWa)wac_(3249543,500,50,"Connection [{0}] has been explicitly closed",this.HW);else{1===b&&(wac_(7672737,500,50,"Signalr detected an unexpected disconnect event while attempting to re-establish connection [{0}]. Kicking off global reconnect logic ...",this.HW),this.qr.YCd());2===b&&wac_(36574532,500,50,"Signalr detected a disconnect event triggered by a period of client inactivity for connection [{0}]. Kicking off global reconnect logic ...",
this.HW);this.HPb(null,null);return}}this.qP=a;this.Az.va.Ya("CSC",new wac_Dka(a,b),null)}},Qff:function(){wac_(3249544,500,50,"Detected that the connection [{0}] is slow",this.HW)},Lff:function(a){wac_(3249545,600,10,"SignalR ERROR for connection [{0}]: {1}",this.HW,wac_rS(a)||"<empty>")},Mff:function(){},iRe:function(){var a,b=[],c,d;(d=this.NM.Xb(this._clientId,c={val:a},null),a=c.val,d)&&this.NM.Bb(this._clientId);for(d=this.NM.zg().$$ge();d.$$mn();)c=d.$$cu(),Array.add(b,c);d=b.length;for(var e=
0;e<d;++e)c=b[e],this.NM.Bb(c);a&&this.NM.Z(this._clientId,a);this.Az.va.Ya("IPSC",new wac_Oi(b),null)}};function wac_wMb(a){switch(a){case 0:return 1;case 2:return 1;case 1:return 2;case 4:return 0;default:throw Error.argumentOutOfRange("state",a,"Unknown SignalR state");}}function wac_xMb(a){var b=0;a.GW.state||(b=a.tWc+15E3-(new Date).getTime(),0>b&&(b=0));return b}
function wac_sMb(a,b){function c(){if(a.b4c)wac_(591692192,500,15,"Stop connection was called twice, possibly on the same connection.");else try{a.b4c=!0,e.stop(!0,b)}catch(c){wac_(591692191,500,15,"Stopping connection failed: {0}",c.message)}}var d=wac_xMb(a),e=a.GW,f=a.HW;0<d?(wac_(4309020,500,50,"Waiting to stop connection [{0}]: [{1}] ms.",f,d),window.setTimeout(c,d)):(wac_(36804372,500,50,"Stopping connection [{0}].",f),c())}
function wac_qMb(a){var b=++a.jsb;a.tWc=(new Date(0)).getTime();a.GW=a.eMd();a.Az.va.Ya("RP",new wac_yMb(a.GW),null);a.GW.stateChanged(function(c){a.VHd(b,"StateChangedSignalR")&&a.SZ(wac_wMb(c.newState),wac_wMb(c.oldState))});a.GW.connectionSlow(a.Hye);a.GW.error(a.Cye);a.GW.log=a.Dye}function wac_zMb(){return function(){return!1}}
function wac_rMb(){try{var a=$.signalR;if(!a)throw Error.invalidOperation("Failed to retrieve Signalr object");var b=a.version;if(!b)throw Error.invalidOperation("Signalr object is missing version information");if("2.1.1"===b){var c=a.transports;if(!c)throw Error.invalidOperation("Failed to retrieve transports object");var d=c.longPolling;if(!d)throw Error.invalidOperation("Failed to retrieve longPolling object");if(!d.supportsKeepAlive)throw Error.invalidOperation("LongPolling object does not have a field called supportsKeepAlive");
d.supportsKeepAlive=wac_zMb()}}catch(e){wac_(6432339,500,15,"Failed to disable longPolling KeepAlives: {0}",e.message)}}function wac_nMb(a,b){this.bda=a;this.UMb=b}wac_nMb.prototype={bda:null,UMb:null};
function wac_pMb(a,b,c,d,e,f,g,h){var k=null,l=null,m=wac_AMb(),n=wac_q.Br?wac_q.Br:"1.0",p=wac_BMb(a,b),q=m.Bjc?wac_CMb(p):new wac_DMb,r;wac_oS||(wac_oS=new wac_jMb(d));r=wac_oS;m.Xod&&wac_lMb(r,m.Wod);var t="",t=g&&""!==g?g:"/rtc2/";r.$kd=wac_Ci(t);var u=t+"signalr";g=t+"findsession";t=new wac_EMb;l=l||wac_FMb||(wac_FMb=new wac_GMb);r=new wac_HMb(m,new wac_IMb(t),a,p,function(a){return new wac_JMb(a.createHubProxy("realtimeChannelHub"))},f,l,q,r);k||(k=wac_3Lb(b,d,g,f,n,a,p,l,e,h));k.WGa=m.WGa;
b=new wac_XLb(p);c=c?c.split(","):null;a=new wac_mMb(a,c,p,f,function(){return window.$.hubConnection(u)},k,r,b,l,q,m,d);a.pb();return a}function wac_BMb(a,b){return String.format("ClientID={0}, App={1}, ClientType={2}, SessionId={3}",a,wac_KMb(wac_Zn.dGc.toString(1)),wac_KMb(wac_Zn.eGc.toString(1)),b)}function wac_KMb(a){return a?a.charAt(0).toLocaleUpperCase()+a.substring(1,a.length):a}function wac_LMb(){}
function wac_CMb(a){wac_MMb||(wac_MMb=new wac_LMb,wac_(39321870,500,50,"RealtimeChannelMetrics initialized for client {0}",a));return wac_MMb}
wac_LMb.prototype={RYc:0,Vyb:0,PZd:0,NZd:0,OZd:0,SZd:0,RZd:0,QZd:0,z5a:null,e3b:null,rWc:null,i7a:null,mxb:null,ECa:null,sWc:null,EWc:null,DWc:null,xxb:null,NWc:null,h3b:null,xLd:0,u4d:0,dyb:0,JXc:0,TCd:function(){this.RYc++;this.rWc=new Date;this.z5a||(this.z5a=new Date)},WCd:function(){this.Vyb++;this.ECa=new Date;this.e3b||(this.e3b=this.ECa);this.xxb=this.ECa;this.z5a&&1===this.Vyb&&(this.dyb=Math.max(this.dyb,this.ECa.getTime()-this.z5a.getTime()));this.i7a&&1<this.Vyb&&(this.dyb=Math.max(this.dyb,
this.ECa.getTime()-this.i7a.getTime()));this.mxb&&1<this.Vyb&&(this.JXc=Math.max(this.JXc,this.ECa.getTime()-this.mxb.getTime()))},VCd:function(){this.PZd++;this.sWc=new Date},YCd:function(){this.NZd++;this.i7a=new Date},XCd:function(){this.OZd++;this.mxb=new Date},TEc:function(){this.EWc=new Date;this.SZd++},Inb:function(){this.h3b||(this.h3b=new Date);this.RZd++},PLa:function(){this.DWc=new Date;this.QZd++},IYd:!1,aDd:function(){!this.IYd&&this.RYc&&(wac_(39321871,500,15,wac_zn({numberOfConnectionAttempts:this.RYc,
numberOfSuccessfulConnections:this.Vyb,numberOfFailedConnections:this.PZd,numberOfDisconnectedConnections:this.NZd,numberOfExplicitDisconnectedConnections:this.OZd,numberOfSentMessages:this.SZd,numberOfReceivedMessages:this.RZd,numberOfLostMessages:this.QZd,firstConnectionAttempt:this.z5a?this.z5a:null,firstMessageReceived:this.h3b?this.h3b:null,firstConnectionSuccess:this.e3b?this.e3b:null,lastConnectionAttempt:this.rWc?this.rWc:null,lastConnectionSuccess:this.ECa?this.ECa:null,lastConnectionFailure:this.sWc?
this.sWc:null,lastMessageSent:this.EWc?this.EWc:null,lastMessageLost:this.DWc?this.DWc:null,lastDisconnect:this.i7a?this.i7a:null,lastExplicitDisconnect:this.mxb?this.mxb:null,lastTimeOnline:this.xxb?this.xxb:null,lastTimeOffline:this.NWc?this.NWc:null,maxDisconnectedTimeMs:this.dyb,maxExplicitDisconnectedTimeMs:this.JXc,clientConnectionErrors:this.xLd,serverConnectionErrors:this.u4d})),this.IYd=!0)},UCd:function(a){var b,c,d,e=b={val:b},f=c={val:c},g=d={val:d};e.val=0;f.val=null;g.val=null;if(a)try{var h=
a.source;h&&Object.getType(h)===String&&(g.val=h);var k=a.context;k&&(a=k,e.val=a.status?a.status:0,f.val=a.statusText?a.statusText:null)}catch(l){}b=b.val;c=c.val;d=d.val;b&&200!==b&&(wac_(40157596,500,15,wac_zn({HttpErrorCode:b,HttpErrorStatus:c,Exception:d})),400<=b&&499>=b&&this.xLd++,500<=b&&599>=b&&this.u4d++)},uya:function(){this.NWc=new Date},vya:function(){this.i7a=this.xxb=new Date}};function wac_DMb(){}
wac_DMb.prototype={TCd:function(){},WCd:function(){},VCd:function(){},YCd:function(){},XCd:function(){},TEc:function(){},Inb:function(){},PLa:function(){},aDd:function(){},UCd:function(){},uya:function(){},vya:function(){}};function wac_JMb(a){this.vq=a}wac_JMb.prototype={vq:null,OL:function(a,b){return this.vq.invoke("SendUpdateNotification",a,b)}};function wac_NMb(){}
function wac_AMb(){var a=wac_q.W;if(!a){var b;return b=new wac_NMb,b.ljd=!1,b.ejc=!1,b.djc=9E5,b.Lic=!1,b.zod=5E3,b.bmc=!0,b.Qnc=!1,b.Bjc=!1,b.WGa=9E4,b}var c;return c=new wac_NMb,c.ljd=a.fa("AwayStatusManagerIsEnabled"),c.ejc=a.fa("AwayStatusOneMinuteTimeoutIsEnabled"),c.djc=a.ac("AwayCoauthorThresholdMs",9E5),c.Lic=a.fa("RtcAllowCrossDomainAccessEnabled"),c.zod=a.ac("RTCReconnectionSlowDurationMilliseconds",5E3),c.bmc=a.fa("RTCLogUpdateNotificationHintOnDeserializationFailure"),c.Qnc=a.fa("ShouldLogOnContentNotification"),
c.Bjc=a.fa("RtcClientMetricsEnabled"),c.WGa=a.ac("RtcFindSessionRequestTimeoutInMS",6E4),c.Xod=a.fa("RtcJsClientFrequentlyLogsMetrics"),c.Cnc=a.ac("RtcJsClientFrequentMetricsLatencyThresholdInMS",1E3),c.Wod=a.ac("RtcJsClientFrequentMetricsLogIntervalInMS",3E5),c}wac_NMb.prototype={ljd:!1,ejc:!1,djc:0,Lic:!1,zod:0,bmc:!1,Qnc:!1,Bjc:!1,WGa:0,Xod:!1,Cnc:0,Wod:0};function wac_GMb(){this.va=new wac_hf}
wac_GMb.prototype={va:null,Hta:function(a){this.va.jb("CSC",a)},vHb:function(a){this.va.hd("CSC",a)},bFa:function(a){this.va.jb("PU",a)},bVa:function(a){this.va.hd("PU",a)},i6:function(a){this.va.jb("UNR",a)},wHb:function(a){this.va.hd("UNR",a)},Xcc:function(a){this.va.jb("PSU",a)},kfc:function(a){this.va.hd("PSU",a)},Wcc:function(a){this.va.jb("PSC",a)},jfc:function(a){this.va.hd("PSC",a)}};function wac_WLb(a,b){a.va.Ya("RC",b,null)}
function wac_tMb(a,b,c){wac_tMb.initializeBase(this);this.pc=a;this.qE=b;this.bgb=c}wac_tMb.prototype={pc:0,qE:null,bgb:null};function wac_uMb(a,b,c,d){wac_uMb.initializeBase(this);this.pc=a;this.wqd=b;this.vkd=c;this.bgb=d}wac_uMb.prototype={pc:0,wqd:null,vkd:!1,bgb:null};function wac_yMb(a){wac_yMb.initializeBase(this);this.Kld=a}wac_yMb.prototype={Kld:null};function wac_vMb(a,b,c,d,e,f){wac_vMb.initializeBase(this);this.Roc=a;this.EJb=b;this.dkd=c;this.qkc=e;this.Ujd=d;this.kYa=f}
wac_vMb.prototype={kYa:null,qkc:null,Ujd:null,dkd:null,EJb:0,Roc:null};function wac_OMb(a,b){wac_OMb.initializeBase(this);this.pc=a;this.xqd=b}wac_OMb.prototype={pc:0,xqd:null};function wac_PMb(a){wac_PMb.initializeBase(this);this.cWa=a}wac_PMb.prototype={cWa:null};function wac_QMb(a,b,c,d){wac_QMb.initializeBase(this);this.jMb=a;this.fnc=b;this.yod=c;this.dpd=d}wac_QMb.prototype={jMb:null,fnc:0,yod:null,dpd:!1};function wac_5Lb(a,b){wac_5Lb.initializeBase(this);this.YLe=a;this.TMe=b}
wac_5Lb.prototype={YLe:!1,TMe:!1};function wac_aMb(a,b){wac_aMb.initializeBase(this);this.lMe=a;this.ska=b}wac_aMb.prototype={lMe:0,ska:null};function wac_RMb(a){wac_RMb.initializeBase(this);this.jNe=a}wac_RMb.prototype={jNe:null};
function wac_HMb(a,b,c,d,e,f,g,h,k){this.Xja=Function.createDelegate(this,this.Mya);this.Hcb=Function.createDelegate(this,this.fVb);this.Icb=Function.createDelegate(this,this.Omb);this.oY=Function.createDelegate(this,this.O9);this.gGe=Function.createDelegate(this,this.sob);this.Wve=Function.createDelegate(this,this.Ccf);this.Xve=Function.createDelegate(this,this.Dcf);this.Zve=Function.createDelegate(this,this.Fcf);this.Yve=Function.createDelegate(this,this.Ecf);this.kic=Function.createDelegate(this,
this.OL);this.Exe=Function.createDelegate(this,this.Aef);this.K_c=new (wac_Ha.$$(wac_Zn.Zpb,Object));wac_HMb.initializeBase(this,[g]);this.Xc=a;this.QYc=this.OYc=0;this.K$a=b;this.K$a.Ycc(this.Cze);this._clientId=c;this.R1d=e;this.at.va.jb("RP",this.Hxe);this.at.va.jb("RPS",this.Exe);this.at.va.jb("SUN",this.kic);this.at.va.jb("IPU",this.Yve);this.at.va.jb("IUNR",this.Zve);this.at.va.jb("IPSU",this.Xve);this.at.va.jb("IPSC",this.Wve);this.at.va.jb("SP",this.gGe);this.lc=f;this.Ao=d;this.qr=h;this.mK=
k}
wac_HMb.prototype={Xc:null,vq:null,OYc:0,QYc:0,WXd:!1,_clientId:null,R1d:null,lc:null,h7b:0,Ao:null,qr:null,mK:null,Cef:function(a,b){this.vq=this.R1d(b.Kld);this.K$a.Wc();this.vq.vq.on("presenceUpdated",this.oY);this.vq.vq.on("persistentStateUpdated",this.Icb);this.vq.vq.on("persistentStateCleared",this.Hcb);this.vq.vq.on("updateNotification",this.Xja)},SZ:function(a,b){this.Fda=b.aB;if(2===b.aB){for(a=this.K_c.$$ge();a.$$mn();)b=a.$$cu(),this.OL(null,new wac_uMb(b.se(),b.pa(),!1,new (wac_ab.$$(Object))));this.K_c=
new (wac_Ha.$$(wac_Zn.Zpb,Object))}},Aef:function(a,b){b.Ujd();for(a=0;2>a;++a)wac_SMb(this,a,b)},sob:function(a,b){a=b.qE;var c=wac_TMb(a),d=b.bgb,e=new (wac_La.$$(window.Common.PresenceDataEntryForClients)),f;e.Z(this._clientId,(f=new window.Common.PresenceDataEntryForClients,f.Presence=a,f.TimeStamp=(new Date).getTime(),f));this.at.va.Ya("UPSR",new wac_OMb(b.pc,e),null);wac_pS(this.mK,1,0);if(2!==this.Fda)this.qr.PLa(),wac_pS(this.mK,1,2),d.af(null);else{var g=this.h7b.toString();++this.h7b;var h=
this;f=new wac_UMb(function(){return wac_VMb(h,b.pc,c,g)},g);f=wac_WMb(this.K$a,"0,"+b.pc).U(f);var k=this;wac_XMb(f,function(a){2===a&&wac_pS(k.mK,1,6);d.af(null)});wac_YMb(f,function(){})}},OL:function(a,b){var c=b.pc;a=b.wqd;var d=b.vkd,e=b.bgb,f=wac_TMb(a);wac_pS(this.mK,0,0);if(2!==this.Fda)d?this.K_c.Z(c,a):(this.qr.PLa(),wac_pS(this.mK,0,2)),e.af(null);else{var g=this.h7b.toString();++this.h7b;var h=this;b=new wac_UMb(function(){return wac_ZMb(h,c,f,g)},g);b=wac_WMb(this.K$a,"1,"+c).U(b);var k=
this;wac_XMb(b,function(a){2===a&&wac_pS(k.mK,0,6);e.af(null)});wac_YMb(b,function(){})}},mS:function(){this.vq.vq.off("presenceUpdated",this.oY);this.vq.vq.off("persistentStateUpdated",this.Icb);this.vq.vq.off("persistentStateCleared",this.Hcb);this.vq.vq.off("updateNotification",this.Xja)},Ecf:function(a,b){this.O9(b.r8,b.Ndb)},O9:function(a){this.qr.Inb();this.Omb(0,a)},Dcf:function(a,b){this.Omb(b.pc,b.r8)},Omb:function(a,b){this.qr.Inb();wac__Mb(this,a,b,null)},Ccf:function(a,b){this.fVb(b.cWa)},
fVb:function(a){this.qr.Inb();if(wac_ha.c4(500,100))for(var b=0;b<a.length;++b);a.length&&(this.at.va.Ya("UPSC",new wac_PMb(a),null),this.at.va.Ya("PSC",new wac_Oi(a),null),this.at.va.Ya("PU",new wac_Mi({},a),null))},Fcf:function(a,b){this.Mya(b.Qg,b.tta)},Mya:function(a,b){this.Xc.Qnc&&!a&&wac_(40128990,500,100,"Received ContentUpdate notification from the server");this.qr.Inb();if(5===a){var c;try{if(b&&""!==b){var d=JSON.parse(b);c=new wac_QMb(d.rr,d.rbp,d.rd,d.sa)}else c=null}catch(e){wac_(593844380,
500,15,"Error when parsing reconnect hint: {0}",e.message),c=null}a=c?String.format("Received client reconnection request from the server. Reason: {0}, Backoff time: {1} ",c.yod,c.fnc):"Received client reconnection request from the server without params.";wac_(18637071,500,50,a);wac_WLb(this.at,c)}else c=wac_cMb(b,String.format("UpdateNotification-{0}",wac_Zn.Zpb.toString(a)),null,this.Xc.bmc),this.at.va.Ya("UNR",new wac_Fka(a,c),null)}};
function wac__Mb(a,b,c,d){if(wac_ha.c4(500,100))for(var e in c);delete c[a._clientId];if(!wac_Qf(c)){for(var f in c){e={key:f,value:c[f]};var g=e.key;c[g]=wac_cMb(e.value,"Presence",g,!1)}f=new (wac_La.$$(window.Common.PresenceDataEntryForClients));var h=(new Date).getTime(),k;for(k in c){e={key:k,value:c[k]};var g=e.key,l;if(d)l=d[g],l.Presence=e.value;else{var m;l=(m=new window.Common.PresenceDataEntryForClients,m.Presence=e.value,m.TimeStamp=h,m)}f.Z(g,l)}a.at.va.Ya("UPSR",new wac_OMb(b,f),null);
b?a.at.va.Ya("PSU",new wac_Ni(b,c),null):(a.WXd||(wac_(4539734,500,50,"Raising first presence update notification for [{0}]",a.Ao),a.WXd=!0,wac_q.Xk&&(wac_q.Xk.IsCoauthSession=!0)),a.at.va.Ya("PU",new wac_Mi(c,[]),null))}}
function wac_ZMb(a,b,c,d){var e=null,f=new wac_0Mb,g=new wac_sS;wac_(3249505,500,50,"Sending update notification for [{0}]",a.Ao);if(2!==a.Fda)return a.qr.PLa(),wac_pS(a.mK,0,2),wac_(7934172,500,15,"Connection is lost - unable to send the message for [{0}]",a.Ao),wac_1Mb(g),g;a.lc&&3===b&&20>a.QYc&&(e=a.lc.Je("WebServiceCall","Send WetContent Update"),a.QYc++);f.fe();wac_tS(g.bRa,1);a.vq.OL(b,c).done(function(){a.qr.TEc();wac_pS(a.mK,0,1);wac_(3249506,500,50,"Successfully delivered update notification message [{0}] for [{1}]",
d,a.Ao);wac_tS(g.Tha,1);f&&(f.Vc(),f.mh()>a.Xc.Cnc?wac_pS(a.mK,0,4):wac_pS(a.mK,0,5))}).fail(function(b){a.BWa||(a.qr.PLa(),wac_pS(a.mK,0,3),wac_(3249507,500,15,"Server failed to process the update notification message [{0}] : [{1}] for [{2}]",d,wac_rS(b),a.Ao));wac_tS(g.Tha,2)}).always(function(){e&&e.Vc()});return g}
function wac_VMb(a,b,c,d){var e=null,f=new wac_0Mb,g=new wac_sS;wac_(3249501,500,50,"Sending presence update for [{0}]",a.Ao);if(2!==a.Fda)return a.qr.PLa(),wac_pS(a.mK,1,2),wac_(7934171,500,15,"Connection is lost - unable to send the message for [{0}]",a.Ao),wac_1Mb(g),g;a.lc&&20>a.OYc&&(e=a.lc.Je("WebServiceCall","Send Presence Message"),a.OYc++);f.fe();wac_tS(g.bRa,1);try{a.vq.vq.invoke("UpdatePersistentState",b,c).done(function(){a.qr.TEc();wac_pS(a.mK,1,1);wac_(3249502,500,50,"Successfully delivered presence update message [{0}] for [{1}]",
d,a.Ao);wac_tS(g.Tha,1);f&&(f.Vc(),f.mh()>a.Xc.Cnc?wac_pS(a.mK,1,4):wac_pS(a.mK,1,5))}).fail(function(b){a.BWa||(a.qr.PLa(),wac_pS(a.mK,1,3),wac_(3249503,500,15,"Server failed to process the presence update message [{0}]: [{1}] for [{2}]",d,wac_rS(b),a.Ao));wac_tS(g.Tha,2)}).always(function(){e&&e.Vc()})}catch(h){wac_(593072906,500,15,"Exception when invoking hub method UpdatePersistentState, error: {1}",h.message),wac_pS(a.mK,1,3),wac_tS(g.Tha,2)}return g}
function wac_SMb(a,b,c){try{a.vq.vq.invoke("GetCompletePersistentStateWithMetadata",b).done(function(d){if(c.Roc(c.EJb,"GetCompletePresenceSuccess")){wac__Lb(c.dkd);wac_(3249540,500,50,"Successfully retrieved complete session state for [{0}]",a.Ao);a.at.va.Ya("RMID",null,null);var e={},f;for(f in d){var g={key:f,value:d[f]};e[g.key]=g.value.Presence}wac__Mb(a,b,e,d);a.at.va.Ya("CPSWM",new wac_RMb(d),null);c.qkc.gb(b)&&(d=c.qkc.B(b),e=new (wac_ab.$$(Object)),a.at.va.Ya("SP",new wac_tMb(b,d,e),null))}}).fail(function(b){c.Roc(c.EJb,
"GetCompletePresenceFail")&&(wac_(3249541,500,15,"Failed to retrieve complete session state : {0} for [{1}]",wac_rS(b),a.Ao),wac_WLb(a.at,null))}).always(function(){c.kYa&&c.kYa.Vc()})}catch(d){wac_(595132428,500,10,"Exception thrown while calling hub method GetCompletePersistentStateWithMetadata. Promise not even created. Current event token: {0}, Exception message: {1}",c.EJb,d.message)}}
function wac_TMb(a){var b;try{b=wac__i(a)}catch(c){throw a=String.format("Failed to JSON-serialize payload : {0}",c),wac_(18637072,500,10,a),Error.argument("payload",a);}if(8E3<b.length)throw a=String.format("Payload exceeds maximum length: {0} > {1} : {2}",b.length,8E3,b),wac_(18637074,500,10,a),Error.argument("payload",a);return b}
function wac_cMb(a,b,c,d){if(!a)return null;if(Object.getType(a)!==String){var e;if(d)try{e=wac_TMb(a)}catch(f){e=String.format("Failed to JSON serialize the object with exception [{0}]",f)}else e="not allowed to log the object";a=String.format("Failed to deserialize [{0}] - object is not of type [String] and is instead of type [{1}]. ExtraInfo: [{2}]. Object: [{3}].",b,Object.getType(a).getName(),c,e);wac_(18637075,500,10,a);return null}e=null;try{e=wac_Ki(a)}catch(f){a=String.format("Failed to deserialize [{0}]. Exception deserializing the object : [{1}]. ExtraInfo: [{2}]. Object: [{3}]",
b,f,c,d?a:"not allowed to log the object"),wac_(18637077,500,10,a)}return e}function wac_rS(a){if(!a)return"";if(String.isInstanceOfType(a))return a.toString();try{return wac__i(a)}catch(b){return a.toString()}}function wac_0Mb(){}wac_0Mb.prototype={Lg:null,d4c:null,mh:function(){return this.Lg?this.d4c?this.d4c.getTime()-this.Lg.getTime():(new Date).getTime()-this.Lg.getTime():0},fe:function(){this.Lg=new Date},Vc:function(){this.d4c=new Date}};
function wac_sS(){this.bRa=new (wac_uS.$$(wac_g.tzc));this.Tha=new (wac_uS.$$(wac_g.szc))}wac_sS.prototype={bRa:null,Tha:null};function wac_1Mb(a){wac_tS(a.bRa,2);wac_tS(a.Tha,2)}function wac_YMb(a,b){a.Tha.CL(b)}function wac_XMb(a,b){a.bRa.CL(b)}function wac_uS(){this.bMd=this.Ub["AppRealtimeChannel.CompletionTask$1"].T===Number||Type.isEnum(this.Ub["AppRealtimeChannel.CompletionTask$1"].T)?0:this.Ub["AppRealtimeChannel.CompletionTask$1"].T===Boolean?!1:null}
wac_uS.$$=function(a){var b=wac_Zn.__tc=wac_Zn.__tc||{},c="CompletionTask$1$"+a.getName().replace(/\./g,"_");if(!b[c]){var d=b[c]=function(){for(var a=[],b=0;b<arguments.length;++b)a[b]=arguments[b];wac_uS.apply(this,a)};d.registerClass("AppRealtimeChannel.__tc."+c);d.prototype.Ub={"AppRealtimeChannel.CompletionTask$1":{T:a},ctor:wac_uS};a=wac_uS.prototype;for(var e in a){var f={key:e,value:a[e]};"constructor"!==f.key&&(d.prototype[f.key]=f.value)}}return b[c]};
wac_uS.prototype={CL:function(a){this.lG=a;wac_2Mb(this)},DNc:!1,VKd:!1,lG:null};function wac_2Mb(a){a.DNc&&a.lG&&!a.VKd&&(a.VKd=!0,a.lG(a.bMd))}function wac_tS(a,b){a.DNc||(a.DNc=!0,a.bMd=b,wac_2Mb(a))}function wac_UMb(a,b){this.i4d=a;this.WMe=b}wac_UMb.prototype={LL:function(){return this.i4d()},WMe:null,i4d:null};function wac_3Mb(a,b){this.y2c=a;this.toc=b;this.aIa=wac_4Mb;this.IEa=this.zDb=this.Atb=0}function wac_4Mb(a,b){return window.setTimeout(a,b)}
wac_3Mb.prototype={IEa:0,zDb:0,Atb:0,y2c:null,qCa:!1,nbc:null,J$a:null,Y6a:!1,toc:null,aIa:null};function wac_5Mb(a,b){a.qCa=!1;a.J$a&&b&&(a.Atb++,wac_1Mb(a.J$a));a.nbc=null;a.J$a=null}function wac_6Mb(a,b,c){a.zDb++;wac_5Mb(a,!0);a.qCa=!0;a.nbc=b;a.J$a=c}
function wac_7Mb(a){0<a.IEa&&0<a.Atb&&wac_(36545635,500,50,"Throttler [{0}] dropped [{1}] messages out of [{2}]",a.toc,a.Atb,a.IEa);0<a.IEa&&0<a.zDb&&wac_(36545634,500,50,"Throttler [{0}] throttled [{1}] messages out of [{2}]",a.toc,a.zDb,a.IEa)}function wac_8Mb(a,b){this.kGe=Function.createDelegate(this,this.apf);wac_8Mb.initializeBase(this,[a,b]);this.p7a=(new Date(0)).getTime();this.Xjc=function(){return(new Date).getTime()}}
wac_8Mb.prototype={mmc:0,p7a:0,Xjc:null,pb:function(a){this.Y6a||(this.mmc=a,this.Y6a=!0)},U:function(a){this.Y6a||this.pb(200);this.IEa++;var b=this.Xjc(),c=new wac_sS;this.p7a>b&&(this.p7a=b);this.qCa?(wac_5Mb(this,!0),wac_6Mb(this,a,c)):this.p7a+this.mmc<=b?this.rob(a,c):(wac_6Mb(this,a,c),this.aIa(this.kGe,this.p7a+this.mmc-b));return c},apf:function(){if(this.qCa){var a=this.nbc,b=this.J$a;wac_5Mb(this,!1);this.rob(a,b)}},rob:function(a,b){this.p7a=this.Xjc();a=this.y2c(a);wac_XMb(a,function(a){wac_tS(b.bRa,
a)});wac_YMb(a,function(a){wac_tS(b.Tha,a)})}};function wac_9Mb(a,b){this.lGe=Function.createDelegate(this,this.bpf);this.Fwe=Function.createDelegate(this,this.jdf);this.va=new wac_hf;wac_9Mb.initializeBase(this,[a,b]);this.Uyb=0;this.EDb=[];this.EGa=wac_$Mb}function wac_$Mb(a){window.clearTimeout(a)}
wac_9Mb.prototype={QGd:0,imc:0,EGa:null,Uyb:0,EDb:null,X6a:!1,$4c:0,B0b:0,Y0b:0,U:function(a){this.Y6a||this.pb(15E3,5);this.IEa++;var b=new wac_sS;this.qCa?wac_6Mb(this,a,b):this.Uyb<this.imc?this.rob(a,b):(wac_6Mb(this,a,b),this.X6a=!1);return b},rob:function(a,b){a=this.y2c(a);var c=this.aIa(this.Fwe,this.QGd);++this.Uyb;Array.add(this.EDb,c);var d=this.B0b;wac_XMb(a,function(a){wac_tS(b.bRa,a)});var e=this;wac_YMb(a,function(a){e.B0b===d&&(e.B0b===d&&(--e.Uyb,e.EGa(c),Array.remove(e.EDb,c),e.qCa&&
e.qCa&&!e.X6a&&(e.$4c=e.aIa(e.lGe,0),e.X6a=!0)),wac_tS(b.Tha,a))})},bpf:function(){this.X6a=!1;if(this.qCa){var a=this.nbc,b=this.J$a;wac_5Mb(this,!1);this.rob(a,b)}},jdf:function(){++this.Y0b;var a=Math.floor(this.imc/2);this.Y0b>a&&(this.Y0b=-1E9,this.va.Ya("TMUDM",null,null))},Ycc:function(a){this.va.jb("TMUDM",a)},Wc:function(){this.IEa=this.zDb=this.Atb=this.Y0b=0;++this.B0b;for(var a=this.EDb,b=a.length,c=0;c<b;++c)this.EGa(a[c]);this.Uyb=0;this.EDb=[];wac_5Mb(this,!0);this.X6a&&(this.EGa(this.$4c),
this.$4c=0,this.X6a=!1)},pb:function(a,b){this.Y6a||(this.QGd=a,this.imc=b,this.Y6a=!0)}};function wac_EMb(){}wac_EMb.prototype={};function wac_aNb(a,b){return new wac_8Mb(a,b)}function wac_bNb(a,b){return new wac_9Mb(a,b)}function wac_IMb(a){this.va=new wac_hf;this.Z6b=new (wac_La.$$(wac_RLb));this.X6b=new (wac_La.$$(wac_SLb));this.HAf=a;this.U5a=wac_bNb(function(a){return a.LL()},"GlobalMaxOustandingThrottler");var b=this;this.U5a.Ycc(function(){b.va.Ya("TMUDM",null,null)})}
wac_IMb.prototype={HAf:null,Z6b:null,X6b:null,U5a:null,Xc:null,uv:!1,pb:function(a){this.uv||(this.Xc=a,this.U5a.pb(this.Xc.voc,this.Xc.pld),this.uv=!0)},Wc:function(){for(var a=this.Z6b.GetEnumerator();a.$$mn();){var b=a.$$cu();wac_7Mb(b.pa())}for(a=this.X6b.GetEnumerator();a.$$mn();)b=a.$$cu(),wac_7Mb(b.pa()),b.pa().Wc();wac_7Mb(this.U5a);this.U5a.Wc()},Ycc:function(a){this.va.jb("TMUDM",a)}};
function wac_WMb(a,b){a.uv||a.pb(new wac_hMb(200,15E3,5,1E3));var c,d,e;if(e=a.Z6b.Xb(b,d={val:c},null),c=d.val,!e){var f,g,h;(h=a.X6b.Xb(b,g={val:f},null),f=g.val,h)||(f="MaxOutstandingThrottler-"+b,c=a.U5a,f=wac_bNb(c.Ifc||(c.Ifc=Function.createDelegate(c,c.U)),f),f.pb(a.Xc.voc,a.Xc.jnd),f.Ycc(function(){a.va.Ya("TMUDM",null,null)}),a.X6b.U(b,f));c="MaxRateThrottler-"+b;c=wac_aNb(f.Ifc||(f.Ifc=Function.createDelegate(f,f.U)),c);c.pb(a.Xc.tnd);a.Z6b.U(b,c)}return c}
function wac_hMb(a,b,c,d){this.tnd=a;this.voc=b;this.jnd=c;this.pld=d}wac_hMb.prototype={tnd:0,voc:0,jnd:0,pld:0};function wac_cNb(){this.oOc=0;this.c3b=wac_dNb();this.gsb=wac_dNb();this.IAa=this.kPa=0;this.Fkc=function(){return new Date}}function wac_kMb(){wac_eNb||(wac_eNb=new wac_cNb);return wac_eNb}wac_cNb.prototype={Ppd:!1,n0c:null,c3b:null,gsb:null,kPa:0,IAa:0,oOc:0,Fkc:null};function wac_fNb(a,b){var c=b.getTime()-a.n0c.getTime();a.n0c=b;return c}
function wac_qS(a,b,c){var d=wac_kMb();d.Ppd||(c&&(d.Ppd=!0),c=d.Fkc(),!a&&5<d.kPa||1===a&&5<d.IAa||(d.oOc<a?(1===d.kPa%2&&(d.c3b[d.kPa]=-1,d.kPa++),d.oOc=a,1===b&&(d.gsb[d.IAa]=-1,d.IAa++),d.gsb[d.IAa]=wac_fNb(d,c),d.IAa++):a?(d.gsb[d.IAa]=wac_fNb(d,c),d.IAa++):(d.c3b[d.kPa]=wac_fNb(d,c),d.kPa++)))}function wac_dNb(){for(var a=Array(6),b=0;b<a.length;b++)a[b]=0;return a}wac_VLb.registerClass("AppRealtimeChannel.ARtcMessageHandler");
wac_XLb.registerClass("AppRealtimeChannel.ConnectedUsageKpiLogger",null,wac_GLb);wac_1Lb.registerClass("AppRealtimeChannel.FindSessionResponse");wac_2Lb.registerClass("AppRealtimeChannel.FindSessionStrategy",null,wac_HLb);wac_jMb.registerClass("AppRealtimeChannel.FrequentLoggingMetrics");wac_mMb.registerClass("AppRealtimeChannel.RealtimeChannel",null,wac_ILb,wac_vc);wac_nMb.registerClass("AppRealtimeChannel.RealtimeChannel.PresenceData");(function(){}).registerClass("AppRealtimeChannel.RealtimeChannel.RealtimeChannelFactory");
wac_LMb.registerClass("AppRealtimeChannel.RealtimeChannelMetrics",null,wac_JLb,wac_Rc);wac_DMb.registerClass("AppRealtimeChannel.NoopRealtimeChannelMetrics",null,wac_JLb,wac_Rc);wac_JMb.registerClass("AppRealtimeChannel.RealtimeChannelProxy",null,wac_KLb,wac_LLb);wac_NMb.registerClass("AppRealtimeChannel.RealtimeChannelSettings",null,wac_NLb);wac_GMb.registerClass("AppRealtimeChannel.RtcEventHub",null,wac_MLb);wac_tMb.registerClass("AppRealtimeChannel.SendPersistentStateEventArgs",Sys.EventArgs);
wac_uMb.registerClass("AppRealtimeChannel.SendUpdateNotificationEventArgs",Sys.EventArgs);wac_yMb.registerClass("AppRealtimeChannel.RefreshProxyEventArgs",Sys.EventArgs);wac_vMb.registerClass("AppRealtimeChannel.RefreshAllPersistentStateEventArgs",Sys.EventArgs);wac_OMb.registerClass("AppRealtimeChannel.UpdatePersistentStateRequestEventArgs",Sys.EventArgs);wac_PMb.registerClass("AppRealtimeChannel.UpdatePersistentStateClearedRequestEventArgs",Sys.EventArgs);
wac_QMb.registerClass("AppRealtimeChannel.RefreshConnectionReconnectArgs",Sys.EventArgs);wac_5Lb.registerClass("AppRealtimeChannel.SessionPropertiesChangedEventArgs",Sys.EventArgs);wac_aMb.registerClass("AppRealtimeChannel.RtcConnectFailedEventArgs",Sys.EventArgs);wac_RMb.registerClass("AppRealtimeChannel.GotCompletePersistentStateWithMetadataEventArgs",Sys.EventArgs);wac_HMb.registerClass("AppRealtimeChannel.RtcMessageHandler",wac_VLb);(function(){}).registerClass("AppRealtimeChannel.RtcUtils");
wac_0Mb.registerClass("AppRealtimeChannel.SimpleStopwatch");wac_sS.registerClass("AppRealtimeChannel.MessageStatus",null,wac_OLb);wac_UMb.registerClass("AppRealtimeChannel.MessageHandler",null,wac_PLb);wac_3Mb.registerClass("AppRealtimeChannel.ThrottlerBase");wac_8Mb.registerClass("AppRealtimeChannel.MaxRateThrottler",wac_3Mb,wac_RLb,wac_QLb);wac_9Mb.registerClass("AppRealtimeChannel.MaxOutstandingThrottler",wac_3Mb,wac_SLb,wac_QLb);
wac_EMb.registerClass("AppRealtimeChannel.ThrottlerFactory",null,wac_TLb);wac_IMb.registerClass("AppRealtimeChannel.ThrottlerManager",null,wac_ULb);wac_hMb.registerClass("AppRealtimeChannel.ThrottlerManagerSettings");wac_cNb.registerClass("AppRealtimeChannel.LatencyMetrics");var wac_oS=null,wac_MMb=null,wac_FMb=null,wac_eNb=null;Type.registerNamespace("RealtimePresenceUI");
function wac_gNb(a,b,c,d){this.JAe=Function.createDelegate(this,this.nif);this.QKe=Function.createDelegate(this,this.xvf);this.SAe=Function.createDelegate(this,this.Aif);this.lfe=Function.createDelegate(this,this.ORe);this.mfe=Function.createDelegate(this,this.PRe);this.ADe=Function.createDelegate(this,this.wlf);this.tqe=Function.createDelegate(this,this.F5e);this.RKe=Function.createDelegate(this,this.yvf);this.TAe=Function.createDelegate(this,this.Bif);this.BDe=Function.createDelegate(this,this.xlf);
wac_gNb.initializeBase(this,[a,c,d,null]);this.Vga=function(){return!0};this.ga=b}
wac_gNb.prototype={Vga:null,ga:null,xlf:function(a){if(this.H5b){this.XKb||(a[wac_vS.Visible]=!0);var b,c,d,e,f,g=b={val:b},h=c={val:c},k=d={val:d},l=e={val:e},m=f={val:f},n,p,q,r;2<=this.x_.p4.ma()?r=[String.format(CommonUIStrings.l_PeoplesWellStateNumberOfOtherPeopleEditingHere,this.x_.p4.ma())]:1===this.x_.p4.ma()?(n=wac_DLb(this.x_)[0],r=(p=this.$n.HWa(n.Gh()))&&2===p.$c?[CommonUIStrings.l_PeoplesWellStateUserIsInactive,n.Jp]:[n.Wt?CommonUIStrings.l_PeoplesWellStateUserIsAlsoViewing:CommonUIStrings.l_PeoplesWellStateUserIsAlsoEditing,
n.Jp]):r=[CommonUIStrings.l_PeoplesWellStateYouAreAllByYourself];this.x_.p4.ma()?1===this.x_.p4.ma()?(n=!0,p=this.$n.Dae().MJb,q=wac_DLb(this.x_)[0].xQ()):(n=!0,p=this.$n.gae().MJb,q=""):(n=!1,q=p="");g.val=r[0];h.val=r.slice(1);k.val=n;l.val=p;m.val=q;b=b.val;c=c.val;d=d.val;e=e.val;f=f.val;a[wac_vS.LabelText]=b;c&&c.length&&(a[wac_vS.LabelTextUserGeneratedPlaceholderReplacements]=c);a.ImageIsVisible=d;a[wac_vS.Image16by16Class]=e;a.ImageBackColor=f;this.H5b=!1}return!0},Bif:function(a){if(0>=this.x_.p4.ma())a=
!1;else{var b=wac_DLb(this.x_),c=[];Array.addRange(c,b);c.sort(wac_pLb);for(var b=[],d=c.length,e=0;e<d;++e){var f=c[e],g=String.format("buttonPeoplesWellUser-{0}",f.Gh()),h=f.Gh(),k=wac_wLb(this,f),l=f.Jp,m=f.xQ(),n=void 0,g=(n=new wac_bn,n.Id=g,n.Command=this.$n.Xc.Dic.toString(),n.LabelText="{0}",n.Image32by32=this.$n.t9c().Xjd,n.Image32by32Class=this.$n.t9c().MJb,n.MenuItemId=h,n.CommandValueId=h,n.Alt=l,n.DisplayMode=wac_uLb(),n.LabelCss="display:block; max-width:160px; padding:0px; white-space:normal; word-wrap:break-word",
n.Description=k,n.ImageBackColor=m,n.IsAnonymous=f.Iv,n.LabelTextUserGeneratedPlaceholderReplacements=wac_hNb([l]),n.Upn=f.Hv,n);wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled")&&this.FLa&&(n=f,n=this.FLa.Sdc()?this.FLa.iib(n.Hv,"O365",wac_q.hl,0):void 0,h=this.$n.HWa(f.Gh()),h=!h||h&&1===h.$c?!0:!1,g.ImageUrl=n,g.ActiveStatus=h,g.JoinTimeInMS=f.H7,h=wac_qLb(this,f.Gh(),this.$n.rKb(f.Gh()),!1),f=this.LNa?this.LNa.pKf(f.Gh()):f.St.v3(4),g.CanJump=h,g.ChatCapable=f,""===n&&wac_(40969413,302,50,"ImageURL collection failed"));
Array.add(b,g)}var p,c=(p=new wac_Mf,p.Id="menuCoauthors",p.MaxWidth="220px",p.MenuSectionList=[],p),q;p=(q=new wac_Tf,q.Id="msCoauthors",q.ControlsId="msCoauthorsControls",q.DisplayMode=wac_uLb(),q.ControlList=b,q);wac_q.W.fa("WordEditorDisplayPeoplesWellLabelIsEnabled")&&this.FLa&&(p.Title=CommonUIStrings.l_PeoplesWellFlyoutLabel,p.TitleId="menuCoauthorsTitle",p.Theme="Light");Array.add(c.MenuSectionList,p);if(wac_q.W.fa("DocChatIsEnabled")&&wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled")&&wac_s()&&
wac_5g().jy()){q=[];Array.add(q,wac_vLb());var r;q=(r=new wac_Tf,r.Id="msGroupChat",r.ControlsId="msGroupChatControl",r.ControlList=q,r);Array.add(c.MenuSectionList,q)}wac_s()&&wac_5g().jy()?a.MenuItems=c:a.PopulationXML=wac_pn(c);a=!0}return a},yvf:function(a){return this.zJc(a)},Vma:function(a,b,c,d,e,f,g){a=!1;switch(c){case 1:a=f(e);break;case 2:a=g(e)}return a?32:8},F5e:function(a,b,c,d,e){var f=this;return this.Vma(a,b,c,d,e,function(){return f.xSb()},this.Vga)},wlf:function(a,b,c,d,e){return this.Vma(a,
b,c,d,e,this.BDe,this.Vga)},Aif:function(a,b,c,d,e){return this.Vma(a,b,c,d,e,this.Vga,this.TAe)},PRe:function(a,b,c,d,e){return this.Vma(a,b,c,d,e,this.Vga,this.Vga)},ORe:function(a,b,c,d,e){return this.Vma(a,b,c,d,e,this.Vga,this.Vga)},xvf:function(a,b,c,d,e){return this.Vma(a,b,c,d,e,this.Vga,this.RKe)},nif:function(a,b,c,d,e){var f=this;return this.Vma(a,b,c,d,e,this.Vga,function(){wac_nLb(f);return!0})},ja:function(){wac_mLb.prototype.ja.call(this)}};
wac_gNb.registerClass("RealtimePresenceUI.ABox4PeoplesWell",wac_mLb);Type.registerNamespace("BPr");function wac_iNb(){}wac_iNb.registerInterface("BPr.IMyPresenceUser");window.BPr.SerializablePresenceData=function(a,b){this.ip=a;this.user=b};window.BPr.SerializablePresenceIpData=function(a,b,c,d,e){this.paragraphId=a;this.cp=b;this.length=c;this.shapeId=d;this.dryDeletion=e};
function wac_jNb(a,b,c,d,e,f,g,h){this.Tye=Function.createDelegate(this,this.Yff);this.EFe=Function.createDelegate(this,this.Unf);this.Vod=a;this.F3b=b;this.MLd=c;this.H7d=e;this.xOd=f;this.STc=g;this.vCa=d;this.pGd=h;this.Vod.i6(this.EFe)}
wac_jNb.prototype={Vod:null,pGd:null,F3b:null,MLd:null,H7d:!1,xOd:0,STc:null,vCa:null,Unf:function(a,b){b.Qg||(this.STc.Se("CU"),a=this.MLd,a=(a.xG?a.xG.Ry:0)>=this.xOd,this.H7d&&a?(a=this.F3b())?(a.TNc=!0,b=a.RM.Ada,wac_Z0a(a.RM,a.F2d),b&&this.STc.Se("PI")):wac_(19682513,500,15,"ActivePage ContentReplicator was null, we are abandoning the inbound attempt."):this.Iw())},Iw:function(){var a=this.F3b();if(!a)wac_(19682514,500,15,"ActivePage ContentReplicator was null, we are abandoning the inbound attempt.");
else if(!this.vCa()&&!a.vX.VQ){var b=-1;wac_oE.isInstanceOfType(a)&&(b=a.Sg.lfa());var c=this.pGd.Je("Task","ShoulderTapInboundReplicationTimer");a.Iw(this.Tye,null,new wac_kNb(b,c,a.Vp))}},Yff:function(a){var b=window.$$as(wac_kNb,a);if(b){a=b.Xxd.mh().toString();var c=this.F3b(),d=c.Vp,e="";if(d!==b.Hyc)if(wac_(19964236,500,50,"Time saved due to force inbound on update notification message = {0} ms",b.pEd.toString()),b=b.Hyc,e=new Sys.StringBuilder,c=wac_Tv(wac_vv(c.Vf().ed()),d)){for(e.append(c.ia().jB);d!==
b;){e.append(", ");e.append(d.jB);c=c.Rk;if(!c)break;d=c.ia()}e=e.toString()}else wac_(19964238,500,10,"The revision we got from the last replicator revisionId was null - {0}",{lastRevisionId:d}),e="";wac_(19964237,500,50,"Revisions: {0}, InboundDuration: {1}",e,a)}else wac_(19964235,500,10,"The callback data was null")}};function wac_lNb(a){this.dispose=this.ja;this.mk=a;wac_mNb(this.mk,this)}
wac_lNb.prototype={_started:!1,mk:null,fe:function(){this._started||(this._started=!0,wac_q.W.fa("SendEditorsTableUpdateNotificationIsEnabled")&&this.mk.OL(1,null,!1))},Vc:function(){this._started&&(this._started=!1)},ja:function(){wac_nNb(this.mk,this)}};function wac_wS(){wac_wS.initializeBase(this)}wac_wS.prototype={amc:null,TXa:null};
function wac_oNb(a){var b=wac_q.Ny,c=wac_q.W.ob("UserPrincipalName"),d=a.amc?a.amc.tz:null,e=wac_q.RMa||wac_q.NZ,f;a.TXa?(f=a.TXa,f=f.lF.Cm()&&f.lF.mc()?f.lF.mc().sdc().toString():"0"):f=null;return new wac_xS(a.Sk,b,a.it,a.St,d,a.$Va,c,a.FGa,a.ZVa,e,a.Bva,a.Wt,f)}function wac_pNb(a,b,c,d){this.U6=Function.createDelegate(this,this.P9);this.hfd=Function.createDelegate(this,this.pef);this.dispose=this.ja;this.mk=d;this.ta=b;this.v1b=a;this.yi=c;wac_mNb(this.mk,this)}
wac_pNb.prototype={ta:null,v1b:null,E4a:null,OUc:!1,yi:null,mk:null,_started:!1,LTa:null,fe:function(){this._started||(this._started=!0,this.LTa={},this.v1b.jb("PPC",this.hfd),wac_PA(this.ta,this.U6),wac_qNb(this,this.ta.lb()))},Vc:function(){this._started&&(this._started=!1,this.LTa=null,this.v1b.hd("PPC",this.hfd),wac_$D(this.ta,this.U6))},P9:function(a,b){if(!wac_q.qh&&(a=wac_qNb(this,b.Ml),this.E4a&&a)){a=wac_rNb(this.v1b,this.E4a.toString(),-1,-1,!0);for(b=0;b<a.length;b++)this.LTa[a[b].ff.Gh()]=
a[b];if(!(0>=a.length)){if(1===a.length)a=String.format(Box4Intl.Box4Strings.l_OtherUsersEditingParagraphSingle,a[0].ff.Jp);else{b=[];for(var c=a.length,d=0;d<c;d++)Array.add(b,a[d].ff.Jp);a=String.format(Box4Intl.Box4Strings.l_OtherUsersEditingParagraphMany,b.join(Box4Intl.Box4Strings.l_DisplayNameSeparator))}this.yi.Sx(a,!0)}}},pef:function(a,b){this.ta.lb()&&!wac_q.qh&&this.OUc&&this.E4a&&this.E4a.Ba(b.Jv)&&(a=null,!b.GKb||b.qE.ff.Gh()in this.LTa?b.GKb||(a=String.format(Box4Intl.Box4Strings.l_UserLeavingParagraph,
b.qE.ff.Jp),delete this.LTa[b.qE.ff.Gh()]):(a=String.format(Box4Intl.Box4Strings.l_UserJoiningParagraph,b.qE.ff.Jp),this.LTa[b.qE.ff.Gh()]=b.qE),a&&this.yi.Sx(a,!0))},ja:function(){wac_nNb(this.mk,this);this.Vc()}};function wac_qNb(a,b){if(!b)return!1;b=b.mb();if(!b)return!1;b=b.Ea();if(!b)return!1;a.OUc=wac__A(b);b=b.ea.ia();if(b.Ba(a.E4a)||!a.OUc)return!1;a.E4a=b;a.LTa={};return!0}function wac_sNb(a,b){wac_sNb.initializeBase(this);this.Jv=a;this.Tmd=b}wac_sNb.prototype={Jv:null,Tmd:!1};
function wac_yS(a,b,c,d,e,f,g){wac_yS.resolveInheritance();this.dispose=this.ja;wac_yS.initializeBase(this,[null]);this.Ll=a;this.zTa=b;this.Gj=c;this.Rf=d;this.GS=e;wac_zS=0;this.t7c=new (wac_La.$$(Boolean));this.tad=new (wac_La.$$(Boolean));this.zm=f;this.ya=g;this.GP=this.ya.ac("PresenceIpRenderedFloodgateTimeLapseSec",30);this.nQ=this.ya.ac("PresenceIpRenderedFloodgateTriggerThreshold",3);this.Aga=0}
function wac_tNb(){wac_uNb||(wac_uNb=!0,wac_(4006594,302,50,"First presence ip rendered on the page"))}wac_yS.prototype={zTa:null,Gj:null,Rf:null,kj:null,pTc:null,GS:null,QMd:0,ya:null,GP:0,nQ:0,zm:null,Aga:0,Ieb:!1,Ll:null,t7c:null,tad:null,$U:0};function wac_vNb(a){!a.zm||a.Aga>=a.nQ||a.zm.CW(function(){a.zm.mc().Jq("PresenceIpRendered","PresenceIpRenderedFloodgateEnabled",a.GP)&&a.Aga++})}
function wac_wNb(a){if(wac_hS.isInstanceOfType(a.kj)){var b=window.$$as(wac_hS,a.kj);wac_zS=0<wac_zS?wac_zS+1:b.dda+1;wac_fS(b,wac_zS);a._element.style.zIndex=wac_zS}}function wac_xNb(a){a.Ya("CR",new wac_sNb(a.Ll.Ul().$D(),a.Ieb),null)}function wac_AS(){return wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled")}function wac_yNb(a,b,c,d,e,f){this.B4a={};this.A4a={};this.ALd={};this.zTa=a;this.Gj=b;this.Fg=c;this.GS=d;this.zm=e;this.ya=f}wac_yNb.prototype={zTa:null,Gj:null,Fg:null,GS:null,zm:null,ya:null};
function wac_BS(a,b,c){wac_BS.initializeBase(this);this.Jv=a;this.qE=b;this.GKb=c}wac_BS.prototype={Jv:null,qE:null,GKb:!1};function wac_CS(){this.Nzb={};this.xpa={};wac_CS.initializeBase(this)}
wac_CS.prototype={IPd:!1,x_a:function(a){return a.Ul().$D().toString()},Cpc:function(a,b){this.IPd||(this.IPd=!0,wac_(4289312,302,50,"First presence added to data manager"));var c,d;c=d={val:!1};var e=this.xpa[a.ff.Gh()],f=!e||0>=e.length?null:e[e.length-1],e=!!f&&this.x_a(f)===this.x_a(a);c.val=e&&f.Ul().nJ.Ba(a.Ul().nJ)&&f.ff.Ba(a.ff);wac_zNb()&&c.val&&f.Ul().Dw&&a.Ul().Dw&&f.Ul().Dw!==a.Ul().Dw&&(c.val=!1);d=(c=d.val,e);c&&!b?(d=this.xpa[a.ff.Gh()])&&0<=d.length&&d[d.length-1].Ul().zce(a.Ul().TU):
(d||wac_ANb(this,a.ff.Gh()),wac_zNb()&&d&&(b=this.xpa[a.ff.Gh()],!(b=!b||0>=b.length?null:b[b.length-1])||!b.Ul().Dw||a.Ul().Dw&&a.Ul().Dw===b.Ul().Dw||(c=b.Ul().$D(),this.Ya("PPC",new wac_BS(c,b,!1),null))),b=this.x_a(a),c=a.ff.Gh(),e=this.Nzb[b]||[],f=this.xpa[c]||[],f.length>=wac_BNb&&(f=f.splice(-wac_CNb,wac_BNb)),d||Array.add(e,c),Array.add(f,a),this.Nzb[b]=e,this.xpa[c]=f,a.Ul().$D().Ba(wac_w())||(d=a.Ul().$D(),this.Ya("PPC",new wac_BS(d,a,!0),null)))},evc:function(a){return this.Nzb[a]},T0e:function(a){if(!a||
!a.Ea()||!a.Ea().ea)return null;a=a.Ea().ea;a=wac_rNb(this,a.ia().toString(),0,0,!0);a=wac_DNb(a);a.sort(function(a,c){return a.Jp.localeCompare(c.Jp)-wac_3f});return a}};function wac_DNb(a){if(!a||!a.length)return[];for(var b=[],c=new (wac_Ca.$$(String))(wac_qa()),d=0;d<a.length;d++){var e=a[d].ff;e.Iv&&c.Db(e.Gh())||!e.Iv&&e.Hv&&c.Db(e.Hv)||(b.push(e),c.U(e.Iv?e.Gh():e.Hv))}return b}
function wac_rNb(a,b,c,d,e){var f=[],g=a.evc(b);if(!g)return f;for(var h=0;h<g.length;h++){for(var k=g[h],l=a.xpa[k],m=!1,n=l.length-1;0<=n;n--){var p=l[n];if(e){if(p.nda&&p.Ul().$D().Ba(wac_7l(b))){m=!0;Array.add(f,p);break}}else if(wac_DS.isInstanceOfType(p)?p.Ul().TU===c:p.Ul().TU===d){m=!0;p.wce(!0);Array.add(f,p);a.xpa[k]=l.splice(n,l.length);break}}!m&&0<l.length&&l[0].bae()&&l[0].Ul().$D().Ba(wac_7l(b))&&Array.add(f,l[0])}return f}
function wac_ANb(a,b){var c=a.xpa[b];if(c&&0<c.length){var d=c[0].Ul().$D(),e=a.x_a(c[0]);delete a.xpa[b];Array.remove(a.Nzb[e],b);d.Ba(wac_w())||a.Ya("PPC",new wac_BS(d,c[0],!1),null)}}function wac_zNb(){return!!wac_q.W&&wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled")}function wac_DS(a,b){this.Jaa=b;this.ff=a}
wac_DS.prototype={Jaa:null,Ul:function(){return this.Jaa},xLb:!1,bae:function(){return this.xLb},wce:function(a){return this.xLb=a},nda:!1,JHb:function(a){return this.nda=a},lla:!1,xfc:function(a){return this.lla=a},ff:null,Ace:function(a){return this.ff=a},Tvc:function(){return new window.BPr.SerializablePresenceData(this.Jaa?this.Jaa.Jz():null,this.ff.Jz())},Ejb:function(){return this.ff.Gh()+(this.Jaa?this.Jaa.$D().toString():wac_w().toString())},Sj:function(){var a=!!this.ff&&this.ff.Sj(),b=!this.Jaa||
this.Jaa.Sj();return a&&b},Ic:function(){var a=new wac_DS;a.ff=this.ff?this.ff.Ic():null;a.Jaa=this.Jaa?this.Jaa.Ic():null;a.nda=this.nda;a.xLb=this.xLb;a.lla=this.lla;return a}};function wac_ENb(a){this.La=a}wac_ENb.prototype={La:0,nf:function(){return this.La},Ba:function(a){return a?this.La===a.La:!1},Ic:function(){return new wac_ENb(this.La)}};function wac_ES(a,b,c,d,e){a&&(this.Jv=wac_7l(a));this.nJ=new wac_ENb(b);this.TU=c;this.Dw=d;this.UQ=e}
wac_ES.prototype={Jv:null,$D:function(){return this.Jv},nJ:null,TU:0,zce:function(a){return this.TU=a},Dw:0,UQ:0,Sj:function(){return 0<=this.nJ.nf()&&!!this.Jv&&!this.Jv.Ba(wac_w())},Jz:function(){return new window.BPr.SerializablePresenceIpData(this.Jv.toString(),this.nJ.nf(),this.TU,this.Dw,this.UQ)},Ic:function(){var a=new wac_ES;a.Jv=this.Jv;a.nJ=this.nJ?this.nJ.Ic():null;a.TU=this.TU;a.Dw=this.Dw;a.UQ=this.UQ;return a}};
function wac_FNb(a,b,c,d,e,f,g){this.NIb=Function.createDelegate(this,this.BCc);this.WI=Function.createDelegate(this,this.N9);wac_FNb.initializeBase(this,[a,b,c,d,e,f,g])}
wac_FNb.prototype={y0d:null,doa:function(a){this.kj&&this.kj.doa(a)},wbd:function(a){if(this._element&&this._element.parentNode){var b=wac_GNb(this,a);if(b){var c,d,e,f,g=Sys.UI.DomElement.getBounds(this._element.parentNode),h=this._element.parentNode,k=this.Rf.Ha(),l=c={val:c},m=d={val:d},n=e={val:e},p=f={val:f};m.val=b.y;l.val=b.x;n.val=b.height;p.val=b.width;(1<Math.abs(g.width-h.offsetWidth)||1<Math.abs(g.height-h.offsetHeight))&&k&&(m.val=Math.round(m.val/k.Ng),l.val=Math.round(l.val/k.Ng),n.val=
Math.round(n.val/k.Ng),p.val=Math.round(p.val/k.Ng));c=c.val;d=d.val;e=e.val;f=f.val;this._element.style.top=d+"px";this._element.style.left=c+"px";this._element.style.height=e+"px";this._element.style.width=f+"px";b=wac_HNb(this,a);wac_Fl(this._element,b);a=wac_INb(this,a,this.Ll.Ul().Dw);wac_JNb(this,b,f,this.XV(a));this.uMa()}}},hv:function(a){a&&this._element&&a===this.y0d&&(wac_vd(this._element),this.kj.doa(this.Ll.ff.Gh()),wac_xNb(this))},Jtd:function(a,b,c){var d=new wac_KNb;if(!c||!b)return d;
b=wac_GNb(this,a);if(!b)return d;d.Fza=b.y;d.eya=b.x;d.un=b.height;d.jo=b.width;a=this._element&&this._element.parentNode&&wac_LNb(wac_hKb(this._element.parentNode))?wac_LNb(wac_hKb(this._element)):wac_HNb(this,a);d.RWb=a;d.Pob=!0;return d},HDd:function(a,b,c,d){wac_tNb();this.pTc=a;if(d){var e=wac_INb(this,a,this.Ll.Ul().Dw);if(!e)return;var f=!this._element;f&&this.Jrc(b.ownerDocument);f||!this._element.parentNode?e.appendChild(this._element):this._element.parentNode!==e&&(this._element.parentNode.removeChild(this._element),
e.appendChild(this._element));this.kj.jV(this.Ll.ff);this.y0d=b;this.QMd=a.Fc();this._element.style.borderColor=this.Ll.ff.xQ();this._element.id="ipId_"+this.Ll.Ejb();c.Pob&&(this._element.style.height=c.un+"px",this._element.style.top=c.Fza+"px",this._element.style.left=c.eya+"px",this._element.style.width=c.jo+"px",wac_Fl(this._element,c.RWb),wac_Fl(this.kj.Cb(),-1*c.RWb),wac_JNb(this,c.RWb,c.jo,this.XV(e)),this.uMa())}this.Ieb=!d;wac_xNb(this)},Mce:function(a){this._element.style.borderColor=this.Ll.ff.xQ();
this._element.id="ipId_"+this.Ll.Ejb();this.wbd(a)},Jrc:function(a){this._element=a.createElement("div");this._element.setAttribute("data-presence-control",!0);wac_wk(this._element,"OverlayControlElementOwner",this);this._element.className="WACImgPresenceHighlight";this._element.dir=wac_lh?"rtl":"ltr";this.kj=this.zTa.Irc(this.pj("div"),!0);this.kj.jV(this.Ll.ff);this.kj.pe();this.Gj.Pa("msospPointerOut",this.kj.Cb(),this.WI);this.Gj.Pa("msospPointerDown",this.kj.Cb(),this.NIb);Sys.UI.DomElement.addCssClass(this.kj.Cb(),
"WacPresence");this._element.appendChild(this.kj.Cb())},XV:function(a){return Sys.UI.DomElement.containsCssClass(a,"Selected")},Oo:function(a,b){var c=this.QQb(a,b);return c?c.hh:(a=wac_MNb(a,b))?a.Ka():null},QQb:function(a,b){a=wac_XI(a.Ra(),5);for(var c=a.length,d=0;d<c;++d){var e=a[d];if(e.hh.Ga(Number,wac_Su)===b)return e}return null},N9:function(){this.kj&&(this.kj.tMa(),this.$U=1);return!1},BCc:function(a){this.kj&&3===a.Ge&&(2!==this.$U?(wac_wNb(this),this.uMa()):this.kj&&(this.kj.tMa(),this.$U=
1));return!1},uMa:function(){for(var a=this.kj.fec(),b=a.length,c=0;c<b;++c){var d=a[c];if(d.Sk===this.Ll.ff.Gh()&&!d.Ba(this.Ll.ff)){this.kj.jV(this.Ll.ff);break}}if(this.Ll.lla||2===this.$U)this.kj.YXb(),this.Ll.xfc(!1),this.Ll.JHb(!0),this.$U=2;this.Ll.nda&&1!==this.$U||(this.kj.tMa(),this.Ll.JHb(!0),this.$U=1)}};
function wac_GNb(a,b){var c=a.Ll.Ul();if(!c||!c.Dw)return null;var d=a.Oo(b,c.Dw);a=wac_INb(a,b,c.Dw);if(!d||!a)return null;var e,f;b=e={val:e};c=f={val:f};b.val=wac_bf(wac_jL(d),0,!0);c.val=wac_bf(wac_kL(d),1,!0);e=e.val;f=f.val;c=b=1;d.Da(wac_Us)?(d=d.Ga(Array,wac_Us),b+=wac_bf(d[0],0,!0),c+=wac_bf(d[2],1,!0)):(b+=0<a.offsetWidth?(a.offsetWidth-e)/2:2,c+=0<a.offsetHeight?(a.offsetHeight-f)/2:2);return new Sys.UI.Bounds(Math.round(b),Math.round(c),Math.round(e),Math.round(f))}
function wac_HNb(a,b){a=a.Oo(b,a.Ll.Ul().Dw);return wac_tC.BZ(a)}function wac_MNb(a,b){a=wac_O(a.Ra());for(var c=a.ab(6);c;){var d=c.Ka().Ga(Number,wac_Su);if(wac_mB(c)&&d===b)return c;c=a.Ud(6)}return null}function wac_INb(a,b,c){if(a=a.QQb(b,c))if(a=a.Ima(b.Mb))return a.Cb();return(c=wac_MNb(b,c))?wac_iA(window.$$as(wac_9H,c),b.Fc()).zc():null}
function wac_JNb(a,b,c,d){var e=wac_lh;a.kj.Cb().style.left="auto";a.kj.Cb().style.top="auto";a.kj.Cb().style.right="auto";a.kj.Cb().style.bottom="auto";d=d?Math.round(10)+6:0;0<=b&&90>b||360===b?(a.kj.Cb().style.top=-10-d+"px",e?a.kj.Cb().style.right=c-10+"px":a.kj.Cb().style.left=c-10+"px"):90<=b&&180>b?(a.kj.Cb().style.left=-10-d+"px",e?a.kj.Cb().style.bottom="-10px":a.kj.Cb().style.top="-10px"):180<=b&&270>b?(a.kj.Cb().style.bottom=-10-d+"px",e?a.kj.Cb().style.left=c-10+"px":a.kj.Cb().style.right=
c-10+"px"):(a.kj.Cb().style.right=-10-d+"px",e?a.kj.Cb().style.top="-10px":a.kj.Cb().style.bottom="-10px")}function wac_LNb(a){return a&&-1<a.indexOf("deg")&&(a=window.parseInt(a.substring(a.indexOf("(")+1,a.indexOf("deg"))),!window.isNaN(a))?a:0}function wac_KNb(){}wac_KNb.prototype={eya:0,Fza:0,jo:0,un:0,RWb:0,Pob:!1};
function wac_NNb(a,b,c,d,e,f,g){this.NIb=Function.createDelegate(this,this.BCc);this.WI=Function.createDelegate(this,this.N9);this.Sca=Function.createDelegate(this,this.tLa);wac_NNb.initializeBase(this,[a,b,c,d,e,f,g])}
wac_NNb.prototype={c$a:null,gra:null,zCb:null,Jrc:function(a){this._element=a.createElement("div");this._element.setAttribute("data-presence-control",!0);wac_wk(this._element,"OverlayControlElementOwner",this);this._element.className="PresenceIpPaddingDiv";this._element.dir=wac_lh?"rtl":"ltr";this.Gj.Pa("msospPointerOver",this._element,this.Sca);wac_AS()&&(this.Gj.Pa("msospPointerOut",this._element,this.WI),this.Gj.Pa("msospPointerDown",this._element,this.NIb));this.gra=this.pj("div");this.gra.className=
"presenceIp";wac_AS()||(this.zCb=this.pj("div"),this.zCb.className="PresenceSmallBox",this.gra.appendChild(this.zCb));this.kj=this.zTa.Irc(this.pj("div"),wac_AS());this.kj.jV(this.Ll.ff);this.kj.pe();Sys.UI.DomElement.addCssClass(this.kj.Cb(),wac_AS()?"WacPresence":"WacPawn");this.gra.appendChild(this.kj.Cb());this._element.appendChild(this.gra)},tLa:function(a){!this.kj||wac_AS()&&!this.kj.Ftc(a)||(wac_wNb(this),wac_ONb(this,a));this.Mce(this.pTc);return!1},N9:function(){this.kj&&this.EZ();return!1},
BCc:function(a){this.kj&&3===a.Ge&&(2!==this.$U?(wac_wNb(this),wac_ONb(this,a)):this.EZ());return!1},uMa:function(a){for(var b=this.kj.fec(),c=b.length,d=0;d<c;++d){var e=b[d];if(e.Sk===this.Ll.ff.Gh()&&!e.Ba(this.Ll.ff)){this.kj.jV(this.Ll.ff);break}}b=!1;"0xcccccc"===this.Ll.ff.xQ()?(c=this.t7c.Xb(this.Ll.ff.Gh(),b={val:b},!1),b=b.val,c,b||(this.t7c.Z(this.Ll.ff.Gh(),!0),wac_(17954772,302,50,'{ "ClientID" : "'+this.Ll.ff.Gh()+'" , "Event" : "RenderGrayPawn"}'))):(c=this.tad.Xb(this.Ll.ff.Gh(),b=
{val:b},!1),b=b.val,c,b||(this.tad.Z(this.Ll.ff.Gh(),!0),wac_(17954773,302,50,'{ "ClientID" : "'+this.Ll.ff.Gh()+'" , "Event" : "RenderColoredPawn"}')));return a||this.Ll.lla||2===this.$U?(wac_vNb(this),this.kj.YXb(),this.Ll.xfc(!1),this.Ll.JHb(!0),this.$U=2,2E3):this.Ll.nda&&1!==this.$U?0:(wac_vNb(this),this.kj.tMa(),this.Ll.JHb(!0),this.$U=1,7E3)},EZ:function(){if(this.kj&&this.$U){if(wac_hS.isInstanceOfType(this.kj)){var a=window.$$as(wac_hS,this.kj);wac_zS=a.dda;wac_fS(a,a.dda);this._element.style.zIndex=
a.dda}this.kj.pe();this.$U=0}return!1},wbd:function(a){if(this._element&&this._element.parentNode){var b=wac_PNb(this,a);if(b){a=Sys.UI.DomElement.getBounds(this._element.parentNode);var c,d,e,b=new Sys.UI.Bounds(b.x-a.x,b.y-a.y,2,b.height),f=this._element.parentNode,g=this.Rf.Ha(),h=c={val:c},k=d={val:d},l=e={val:e};k.val=b.y;h.val=b.x;l.val=b.height;(1<Math.abs(a.width-f.offsetWidth)||1<Math.abs(a.height-f.offsetHeight))&&g&&(k.val=Math.round(k.val/g.Ng),h.val=Math.round(h.val/g.Ng),l.val=Math.round(l.val/
g.Ng));c=c.val;d=d.val;e=e.val;this._element.style.height=10+e+"px";this._element.style.top=d-5+"px";this._element.style.left=c-5+"px";this.gra.style.height=Math.max(10,e)+"px";wac_ONb(this,null)}}},hv:function(a){a&&this._element&&a===this._element.parentNode&&(wac_vd(this._element),wac_xNb(this))},Jtd:function(a,b,c,d){var e=new wac_QNb;if(!c||!b)return e;a=wac_PNb(this,a);if(!a)return e;c=new Sys.UI.Bounds(a.x-b.x,a.y-b.y,2,a.height);b=c.y;a=c.x;c=c.height;var f=this.Rf.Ha();d&&f&&(d=f.Ng,b=Math.round(b/
d),a=Math.round(a/d),c=Math.round(c/d));e.Fza=b-5;e.eya=a-5;e.un=10+c;e.nyd=Math.max(10,c);e.Pob=!0;return e},HDd:function(a,b,c,d){wac_tNb();this.pTc=a;if(d){var e=!this._element;e&&this.Jrc(b.ownerDocument);e||!this._element.parentNode?b.appendChild(this._element):this._element.parentNode!==b&&(this._element.parentNode.removeChild(this._element),b.appendChild(this._element));this.QMd=a.Fc();a=this.Ll.ff.xQ();this.gra.style.borderColor=a;wac_AS()||(this.zCb.style.borderColor=a);this._element.id=
"ipId_"+this.Ll.Ejb();c.Pob&&(this._element.style.height=c.un+"px",this._element.style.top=c.Fza+"px",this._element.style.left=c.eya+"px",this.gra.style.height=c.nyd+"px",wac_ONb(this,null))}this.Ieb=!d;wac_xNb(this)},ja:function(){this._element&&(this.hv(this._element.parentNode),this.Gj.Fb("msospPointerOver",this._element,this.Sca),wac_AS()&&(this.Gj.Fb("msospPointerOut",this._element,this.WI),this.Gj.Fb("msospPointerDown",this._element,this.NIb)),wac_Zb(this.kj),this._element=this.kj=null)},Mce:function(a){var b=
this.Ll.ff.xQ();this.gra.style.borderColor=b;wac_AS()||(this.zCb.style.borderColor=b);this._element.id="ipId_"+this.Ll.Ejb();this.wbd(a)}};function wac_PNb(a,b){a=a.Ll.Ul();if(!a)return null;var c;try{var d=a.nJ.nf();c=wac_9lb(d,b,0<d,!1,!1,!1)}catch(e){wac_(4301318,302,50,"Could not determine the bounds of IP: isYielding={0} message={1} stack={2}",wac_r().ht(),e.message,e.stack),c=null}return c}
function wac_RNb(a,b){a.c$a=new wac_Ah(2,1,b,function(){a.c$a=null;a.EZ()},56,null,!1,0);wac_r().qc(a.c$a)}function wac_ONb(a,b){a.c$a&&(wac_r().hf(a.c$a),a.c$a=null);var c=a.uMa(!!b);wac_AS()&&b&&"msospPointerOver"===b.eo||wac_RNb(a,c)}function wac_QNb(){}wac_QNb.prototype={nyd:0,eya:0,Fza:0,un:0,Pob:!1};
function wac_SNb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x,y,z,A,C,B){this.ped=Function.createDelegate(this,this.Zbf);this.Tca=Function.createDelegate(this,this.wLa);this.khc=Function.createDelegate(this,this.qef);this.wAe=Function.createDelegate(this,this.Ohf);this.oY=Function.createDelegate(this,this.O9);this.ogd=Function.createDelegate(this,this.ajf);this.Yia=Array(5);this.B1d=new (wac_Ca.$$(String))(wac_qa());this.Xzb={};this.dispose=this.ja;this.vq=a;this.ta=d;this.LF=e;this.HDa=f;this.Jzb=k;this.WPc=
l;this.isa=m;this.At=c;this.sSc=n;this.C3b=p;this.D3b=q;this.xId=g;this.yOd=h;this.uX=r;this.$g=t;this.wb=u;this.Za=v;this.yDb=z;this.sSa=C;this.l2d=B;this.c9b=x;this.ya=y;this.yzb=b;this.ax=w;wac_TNb=new (wac_La.$$(Boolean));for(a=0;a<this.yzb.length;a++)b=this.yzb[a],b.xK.Bb(this),b.xK.U(this);this.HDa.jb("PPC",this.ogd);this.vq.bFa(this.oY);A&&this.Jzb.Yba(this.wAe);wac_mNb(this.vq,this)}function wac_UNb(a){return a?a?1===a?1:2===a?2:0:2:0}
wac_SNb.prototype={vq:null,LF:null,ta:null,HDa:null,yzb:null,At:null,xId:null,yOd:null,isa:null,WPc:0,z2c:!1,C3b:null,D3b:null,sSc:null,_started:!1,uX:null,$g:null,wb:null,Za:null,yDb:!1,Jzb:null,$5c:!1,sSa:null,c9b:null,c0c:null,ya:null,ax:null,x5b:!1,g1c:!1,l2d:!1,Ohf:function(){if(!this.$5c){var a=this,b=new wac_Ah(0,1,20,function(){var b=new (wac_e.$$(wac_F)),d=a.isa.B4a,e;for(e in d){var f={key:e,value:d[e]},f=f.value;f.Ieb&&b.U(f.Ll.Ul().$D())}if(wac_VNb(a)){var d=a.isa.A4a,g;for(g in d)f={key:g,
value:d[g]},e=f.value,e.Ieb&&!b.Db(e.Ll.Ul().$D())&&b.U(e.Ll.Ul().$D())}wac_WNb(a,b,!0);a.$5c=!1},72,null,!1,0);this.Za.qc(b);this.$5c=!0}},Zbf:function(){this.z2c&&(wac_XNb(this),this.z2c=!1)},wLa:function(a,b){a=b.Ml.mb();wac_YNb(this,a,!1)},Aqc:function(a){var b=a.Ea().wa,c=a.Ea().ea.ia();a=this.C3b(a.Ea().ea);return new wac_ES(c.toString(),b,a,0,0)},O9:function(a,b){a=b.r8;for(var c in a){var d=a[c];this.ya.fa("CashTelemetryIsEnabled")&&this.Oib(d,new Date,null);d.Ul()?wac_ZNb(this,d):this.Tnb(d.ff.Gh())}b=
b.Ndb;for(c=0;c<b.length;++c){a=b[c];this.Tnb(a);if(d=this.isa.B4a[a])d.hd("CR",this.khc),d.ja();wac_VNb(this)&&(d=this.isa,a=d.A4a[d.ALd[a]],a=!a||a.kj&&a.kj.fec().length?null:a)&&(a.hd("CR",this.khc),a.ja())}this.yDb||wac__Nb(this)},Oib:function(a,b,c){if(this.c9b)if(a&&a.ff&&a.ff.Gh()){var d=a.ff.Gh();if(!this.B1d.Db(d))if(this.c0c)this.c0c.Oib(d,b,null,wac_UNb(c||a.ff.FGa)),this.B1d.U(d);else{var e=this;this.c9b.CW(function(){e.c0c=e.c9b.mc();e.Oib(a,b,c)})}}else wac_(42262876,302,15,"invalid presence")},
Tnb:function(a){wac_ANb(this.HDa,a)},cRb:function(a){if(12!==a.get_type())return new (wac_e.$$(wac_hx));a=wac_rNb(this.HDa,a.ia().toString(),this.C3b(a),this.D3b(a),!1);if(0>=a.length)a=new (wac_e.$$(wac_hx));else{for(var b=new (wac_e.$$(wac_hx)),c=0;c<a.length;c++)b.U(wac_0Nb(this,a[c]));a=b}return a},qef:function(a,b){if(b.Jv){a=b.Jv.toString();var c=b.Tmd;b=this.Xzb;var d=this.x5b,e=this.g1c;c&&e||(c?this.sSa.Se("RendersSaved-OutOfView"):(this.sSa.Se("Renders"),e&&this.sSa.Se("RendersDueToScroll"),
(c=a in b)&&delete b[a],d&&c&&this.sSa.Se("RendersSaved-ContentUpdate")))}else wac_c(8758481,302,!1,"null paraid")},ja:function(){this.Vc();this.HDa.hd("PPC",this.ogd);this.vq.bVa(this.oY);wac_nNb(this.vq,this);for(var a=0;a<this.yzb.length;a++)this.yzb[a].xK.Bb(this);wac_9ba([this.xId,this.yOd,this.vq]);var b=this.isa,c=b.B4a,d;for(d in c)a={key:d,value:c[d]},a.value.dispose();d=b.A4a;for(var e in d)a={key:e,value:d[e]},a.value.dispose()},ajf:function(a,b){b.Jv&&(a=this.At.Nb(b.Jv))&&((wac_DS.isInstanceOfType(b.qE)?
this.C3b(a):this.D3b(a))===b.qE.Ul().TU?wac_1Nb(this,b.Jv):this.sSa.Se("RendersSaved-VersionCheck"),wac_VNb(this)&&b.qE.Ul().Dw&&!b.GKb&&(a=b.qE.Ul().Dw.toString(),(a=this.isa.A4a[a])&&a.doa(b.qE.ff.Gh())))},Vc:function(){this._started&&(this._started=!1,wac_$D(this.ta,this.Tca),this.sSc.hfc(this.ped))},fe:function(){if(!this._started){this._started=!0;wac_PA(this.ta,this.Tca);this.sSc.Vcc(this.ped);var a=this.vq.f_a();delete a[this.uX.Gh()];this.O9(null,new wac_Mi(a,[]));wac_XNb(this)}}};
function wac_1Nb(a,b){b.toString()in a.Xzb&&a.sSa.Se("RendersSavedByAlreadyPending");a.Xzb[b.toString()]=null;a.yDb&&!a.x5b&&(b=new wac_Ah(0,1,200,function(){a.x5b=!1;wac__Nb(a)},70,null,!1,0),a.Za.qc(b),a.x5b=!0)}
function wac_WNb(a,b,c){if(b.ma()){var d=new (wac_e.$$(wac_gD));for(b=b.$$lge();b.$$mn();){var e=b.$$cu(),f=wac_2Nb(a,e);f?d.U(f):wac_3Nb(a,e)}if(d.ma()){b=a.wb.Uc(2,0);try{b.Set(a.$g);for(var g=d.$$lge();g.$$mn();)f=g.$$cu(),d=a,e=f,e.AC(d.Jzb.Fc(),32,!0),e.AC(d.WPc,32,!0);c&&(a.g1c=!0)}finally{b&&b.dispose()}c&&(a.g1c=!1)}}}
function wac_3Nb(a,b){b=wac_rNb(a.HDa,b.toString(),-1,-1,!0);if(!wac_sn(b)){for(var c=[],d=b.length,e=0;e<d;++e){var f=a.isa.B4a[b[e].ff.Gh()];f&&Array.add(c,f)}c.length&&a.ax.pa().QZ(function(){for(var a=c.length,b=0;b<a;++b){var d=c[b];d._element&&d.hv(d._element.parentNode)}})}}
function wac_2Nb(a,b){b=a.At.Nb(b);if(!b)return a.Yia[0]||(wac_(4281420,302,50,"Could not find the node in object space"),a.Yia[0]=!0),null;if(!wac_U(b))return a.Yia[1]||(wac_(4281421,302,50,"Not a paragraph node"),a.Yia[1]=!0),null;if(!wac_iA(b,a.Jzb.Fc()))return a.Yia[2]||(wac_(4281422,302,50,"No ViewElement found for this node"),a.Yia[2]=!0),null;if(!b.Ab)return a.Yia[3]||(wac_(4281423,302,50,"node is not anchored"),a.Yia[3]=!0),null;a.Yia[4]||(wac_(4564931,302,50,"Valid paragraph node found for rendering ip"),
a.Yia[4]=!0);return b}function wac_0Nb(a,b){var c,d,e=a.isa,f=c={val:!1},g=!!e.ya&&e.ya.fa("PeoplesWellExtraButtonInfoIsEnabled");if(b.Ul().Dw&&g){g=b.Ul().Dw.toString();e.ALd[b.ff.Gh()]=g;var h=e.A4a[g];h?(h.Ll=b,f.val=!0,b=h):(f.val=!1,b=e.A4a[g]=new wac_FNb(b,e.zTa,e.Gj,e.Fg,e.GS,e.zm,e.ya))}else g=b.ff.Gh(),(h=e.B4a[g])&&h.Ll.ff.Ba(b.ff)?(h.Ll=b,f.val=!0,b=h):(f.val=!1,b=e.B4a[g]=new wac_NNb(b,e.zTa,e.Gj,e.Fg,e.GS,e.zm,e.ya));b=(d=b,c=c.val,d);c||b.jb("CR",a.khc);return b}
function wac_ZNb(a,b){var c=null;b&&b.ff&&(c=b.ff.FGa);b=b.Ic();b.Ace(wac_$Jb(a.LF,b.ff.Gh())||b.ff);a.ya.fa("CashTelemetryIsEnabled")&&a.Oib(b,new Date,c);if(b.Sj()&&!b.ff.VV()){var c=b.ff.Gh(),d,e;e=wac_TNb.Xb(c,d={val:!1},!1);d=d.val;e;d||(wac_TNb.Z(c,!0),wac_(17954774,302,50,'{ "ClientID" : "'+c+'" , "Event" : "CreateAnonymousGrayPawn"}'));wac_isa(b.ff,CommonUIStrings.l_AnonymousUserName)}a.HDa.Cpc(b,!1)}
function wac_YNb(a,b,c){if(!a.l2d)if(wac_Nv(a.At.Zg)||c)if(b){a:{if(wac_VNb(a)&&wac_vZa(b))c=b;else if(c=wac_kA(b,!0,!1,!0),!wac_EA(c)){c=null;break a}c=a.Aqc(c)}c?wac_4Nb(a.vq,c):(wac_4Nb(a.vq,null),wac_(4281418,302,50,"Not supported selection context {0}",b.Ea().Ca))}else wac_4Nb(a.vq,null);else a.z2c=!0}function wac_XNb(a){if(a.ta.lb()){var b=a.ta.lb().mb();wac_YNb(a,b,!0)}}function wac__Nb(a){var b=new (wac_e.$$(wac_F)),c=a.Xzb,d;for(d in c)b.U(wac_7l(d));wac_WNb(a,b,!1);a.Xzb={}}
function wac_VNb(a){return!!a.ya&&a.ya.fa("PeoplesWellExtraButtonInfoIsEnabled")}function wac_xS(a,b,c,d,e,f,g,h,k,l,m,n,p){wac_xS.initializeBase(this,[a,b,c,d,f,g,h,k,l,m,n,0,null,0]);this.tz=e;this.X7=p}
wac_xS.prototype={tz:null,Jz:function(){return new window.Box4.Presence.SerializablePresenceUserData(this.Sk,this.tz,this.$Va,this.ZVa,this.Bva,this.St.St,this.Hv,this.Wt,this.Jp,this.Iv,this.X7)},Nvc:function(a){return(a=a.value)?a.ff:null},Ic:function(){return new wac_xS(this.Sk,this.Jp,this.it,this.St.Ic(),this.tz,this.$Va,this.Hv,this.FGa,this.ZVa,this.Iv,this.Bva,this.Wt,this.X7)}};
function wac_5Nb(a,b,c,d,e,f,g){this.Xja=Function.createDelegate(this,this.Mya);this.Hcb=Function.createDelegate(this,this.fVb);this.Icb=Function.createDelegate(this,this.Omb);this.oY=Function.createDelegate(this,this.O9);this.BVa=Function.createDelegate(this,this.SZ);this.vcb=Function.createDelegate(this,this.nAc);this.va=new wac_hf;this.dispose=this.ja;this.uX=f;this.uX.Sk=a.Gh();this.Cl=a;this.oP=b;this.Kt=d;this.aQd=e;this.Za=c;this.Ypa=new (wac_h.$$(wac_mv))(null);this.C$=g;if(this.oP){var h=
this;this.oP.CW(function(){wac_Ya(h.oP)||wac_Xa(h.oP)||wac_yVa(h.oP.mc(),h.vcb)})}}
wac_5Nb.prototype={Ypa:null,aQd:null,Kt:null,VXd:!1,Za:null,bWc:!1,uX:null,C$:null,JVd:!1,jUd:!1,oP:null,fcc:0,b6c:0,iab:null,Cl:null,Rta:function(){return this.Cl.Rta()},bFa:function(a){this.va.jb("PU",a)},bVa:function(a){this.va.hd("PU",a)},Hta:function(a){this.va.jb("CSC",a)},vHb:function(a){this.va.hd("CSC",a)},Xcc:function(a){this.va.jb("PSU",a)},kfc:function(a){this.va.hd("PSU",a)},Wcc:function(a){this.va.jb("PSC",a)},jfc:function(a){this.va.hd("PSC",a)},KEd:function(){return null},Gh:function(){return this.Cl.Gh()},
i6:function(a){this.va.jb("UN",a)},wHb:function(a){this.va.hd("UN",a)},pb:function(){this.Cl.Hta(this.BVa);this.Cl.bFa(this.oY);this.Cl.Xcc(this.Icb);this.Cl.Wcc(this.Hcb);this.Cl.i6(this.Xja);wac_6Nb(this);wac_7Nb(this)},XOb:function(){this.bWc||this.Cl.XOb()},KZa:function(){this.Cl.KZa()},vud:function(a){var b;a?(b=a.user,b=b.clientId?new wac_xS(b.clientId,b.userName,null,new wac_Nm(wac_zb(b.capabilities)?0:b.capabilities),b.localColbaltSessionId,b.SkypeChatThreadId,b.email,null,b.chatThreadDiscoveryUri,
b.isAnonymous,b.inChat,b.isReadOnly,b.presenceStatus):null,a.ip?(a=a.ip,a=!a.paragraphId||wac_i(a.cp)||wac_i(a.length)?null:new wac_ES(a.paragraphId,a.cp,a.length,0,a.dryDeletion)):a=null,b=new wac_DS(b,a)):b=null;return b},sGc:function(a,b){return(new wac_DS(a,b)).Tvc()},sob:function(a,b){return this.Cl.sob(a,b)},Ruc:function(a){return this.Cl.Ruc(a)},ojb:function(){return this.Cl.ojb()},OL:function(a,b,c){return this.Cl.OL(a,b,c)},f_a:function(){return wac_8Nb(this,this.Cl.f_a())},dGb:function(){return this.Cl.dGb()},
SZ:function(a,b){2===b.aB&&this.Ypa.Zd(function(a){a.fe();return!0});b.aB||this.C$.fa("SendRTCMessagesWhileDisconnectedIsEnabled")&&!this.bWc||this.Ypa.Zd(function(a){a.Vc();return!0});this.va.Ya("CSC",b,null)},O9:function(a,b){if(!this.Kt()){a=wac_8Nb(this,b.r8);b=wac_9Nb(b.Ndb);var c=new wac_Mi(a,b),d=this;b=new wac_Ah(0,1,0,function(){d.va.Ya("PU",c,null)},57,null,!1,0);this.Za.qc(b)}},Omb:function(a,b){if(!this.Kt()){var c={};a=b.r8;for(var d in a){var e={key:d,value:a[d]};c[e.key.toLowerCase()]=
e.value}var f=this;d=new wac_Ah(0,1,0,function(){f.va.Ya("PSU",new wac_Ni(b.pc,c),null)},80,null,!1,0);this.Za.qc(d)}},fVb:function(a,b){if(!this.Kt()){a=wac_9Nb(b.cWa);var c=new wac_Oi(a),d=this;a=new wac_Ah(0,1,0,function(){d.va.Ya("PSC",c,null)},81,null,!1,0);this.Za.qc(a)}},Mya:function(a,b){wac_ze("Microsoft.Office.Web.SessionSettings.IWacWordUpdateNotificationTaskExperimentSettings");if(this.JVd)wac_$Nb(this,b);else{var c=this;a=new wac_Ah(0,1,0,function(){wac_$Nb(c,b)},58,null,!1,0);this.Za.qc(a)}},
ja:function(){this.Ypa=new (wac_h.$$(wac_mv))(null);this.Cl.vHb(this.BVa);this.Cl.bVa(this.oY);this.Cl.kfc(this.Icb);this.Cl.jfc(this.Hcb);this.Cl.wHb(this.Xja);if(this.oP){var a=this;this.oP.CW(function(){wac_Ya(a.oP)||wac_Xa(a.oP)||a.oP.mc().va.hd("AmIAloneChanged",a.vcb)})}this.Cl.KZa();wac_(4564935,302,50,"Disposing of rtcProxyCompleted")},nAc:function(){wac_6Nb(this)},vib:function(){this.bWc=!0;this.KZa();wac_(4564938,302,50,"DisconnectForever")}};
function wac_6Nb(a){var b=!1;a.oP?a.oP.CW(function(){wac_Ya(a.oP)||wac_Xa(a.oP)||(b=!a.oP.mc().To);a.Cl.Rta()||!b&&!a.aQd()?2!==a.Cl.Rta()||b||(a.KZa(),wac_(4564937,302,50,"Disconnecting because there are no other users in the doc")):(a.XOb(),wac_(4564936,302,15,"Connecting because there are other authors in the doc"));!a.VXd&&b&&(wac_(4203466,302,50,"There are other real-time authors in this session"),a.VXd=!0)}):(a.XOb(),wac_(50931285,302,15,"Connecting to rtc on boot"))}
function wac_$Nb(a,b){var c=Date.now();a.va.Ya("UN",b,null);c=Date.now()-c;500<=c&&(a.fcc++,wac_(42563487,302,15,"Update Notification Heuristics: UpdateNotification Type {0} took {1} ms",b.Qg,c),0>b.Qg||13<=b.Qg?wac_(42541602,302,15,"Update Notification Heuristics: UpdateNotification Type out of range {0}",b.Qg):a.iab[b.Qg]++);a.b6c++}function wac_9Nb(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c].toLowerCase();return b}
function wac_8Nb(a,b){var c={},d;for(d in b){var e={key:d,value:b[d]},f=a.vud(e.value);f&&f.Sj()?c[e.key.toLowerCase()]=f:wac_(4564932,302,50,"No Valid User {0}",wac__i(e.value))}return c}function wac_4Nb(a,b){b&&b.Sj()&&!a.Kt()?a.Cl.KEd(a.sGc(wac_oNb(a.uX),b)):wac_2a(Object,null)}function wac_nNb(a,b){for(var c=0;c<a.Ypa.la();c++)if(a.Ypa.B(c)===b){wac_xb(a.Ypa,c);break}}function wac_mNb(a,b){a.Ypa.Db(b,function(a,b){return a===b})||(a.Ypa.U(b),2===a.Rta()&&b.fe())}
function wac_7Nb(a){a.iab=Array(12);for(var b=0;12>b;b++)a.iab[b]=0;a.JVd=a.C$?a.C$.fa("UpdateNotificationTaskExperimentIsEnabled"):!0;wac_Hh(function(){if(!a.jUd){var b={};b.TC=a.b6c;b.HRC=a.fcc;a.iab&&0<a.fcc&&(b.TBC=a.iab);a.b6c=0;a.fcc=0;a.iab=null;wac_(42541603,302,50,"UpdateNotificationHeuristics: {0}",b);a.jUd=!0}})}function wac_kNb(a,b,c){this.pEd=a;this.Xxd=b;this.Hyc=c}wac_kNb.prototype={pEd:0,Xxd:null,Hyc:null};window.BPr.SerializablePresenceData.registerClass("BPr.SerializablePresenceData");
window.BPr.SerializablePresenceIpData.registerClass("BPr.SerializablePresenceIpData");wac_jNb.registerClass("BPr.ContentNotificationManager");wac_lNb.registerClass("BPr.EditorsTableNotifier",null,Sys.IDisposable,wac_mv);wac_xS.registerClass("BPr.PresenceUser",wac_Mm,wac_Ec,wac_YKa,wac_Gc);wac_xS.prototype.toString=wac_Mm.prototype.toString;wac_wS.registerClass("BPr.MyPresenceUser",wac_xS,wac_iNb,wac_Gc);wac_wS.prototype.toString=wac_Mm.prototype.toString;
wac_pNb.registerClass("BPr.PresenceAccessibilityManager",null,Sys.IDisposable,wac_mv);wac_sNb.registerClass("BPr.PresenceControlRenderedEventArgs",Sys.EventArgs);wac_yS.registerClass("BPr.APresenceControl",wac_eS,wac_hx,Sys.IDisposable);wac_yNb.registerClass("BPr.PresenceControlProvider");wac_BS.registerClass("BPr.ParagraphChangedEventArg",Sys.EventArgs);wac_CS.registerClass("BPr.PresenceDataManager",wac_hf,wac_yOa);wac_DS.registerClass("BPr.PresenceInfo",null,wac_UKa,wac_7b.$$(wac_UKa));
wac_ENb.registerClass("BPr.PresenceCp",null,wac_VKa,wac_7b.$$(wac_VKa));wac_ES.registerClass("BPr.PresenceIp",null,wac_WKa,wac_7b.$$(wac_WKa));wac_FNb.registerClass("BPr.PresenceImageControl",wac_yS);wac_KNb.registerClass("BPr.PresenceImageControl.PresenceImageControlStyle",null,wac_2Pa);wac_NNb.registerClass("BPr.PresenceIpControl",wac_yS);wac_QNb.registerClass("BPr.PresenceIpControl.PresenceIpControlStyle",null,wac_2Pa);
wac_SNb.registerClass("BPr.PresenceManager",null,wac_3Pa,Sys.IDisposable,wac_mv,wac_Fc,wac_Gca);wac_5Nb.registerClass("BPr.RtcProxy",null,wac_XKa,Sys.IDisposable,wac_vc,wac_Rbb);wac_kNb.registerClass("BPr.SuccessfulInboundReplicationCallbackData");var wac_uNb=!1,wac_zS=0,wac_BNb=10,wac_CNb=2,wac_TNb=null;Type.registerNamespace("Box4.Presence");wac_I=window.Box4||{};wac_I.Sya=wac_I.Sya||{};function wac_FS(a,b){wac_FS.initializeBase(this);this.zD=a;this.fb=b}
wac_FS.prototype={f_d:!1,fb:null,zD:null,d0c:!1,Cpc:function(a,b){this.fb.vb(163)&&this.fb.vb(140)&&wac_DS.isInstanceOfType(a)?this.f_d||(this.f_d=!0,wac_(7866380,302,15,"Presence packet received in old format")):(wac_DS.isInstanceOfType(a)&&(this.d0c=!0),wac_CS.prototype.Cpc.call(this,a,b))},x_a:function(a){return this.d0c?wac_CS.prototype.x_a.call(this,a):a.Ul().Nt().toString()},evc:function(a){if(this.d0c)return wac_CS.prototype.evc.call(this,a);a=this.zD.Nb(wac_7l(a));if(!a)return null;a=a.oa(Number,
wac_ls,0);return this.Nzb[a.toString()]}};Type.registerNamespace("WordEditor.Presence");wac_J=window.WordEditor||{};wac_J.Sya=wac_J.Sya||{};function wac_aOb(a,b,c,d,e,f,g,h,k){this.LocalCobaltSessionId=a;this.SkypeChatThreadId=b;this.ChatThreadDiscoveryUri=c;this.InChat=d;this.Capabilities=e;this.Email=f;this.UserName=g;this.IsAnonymous=h;this.PresenceStatus=k}function wac_bOb(){}wac_bOb.registerInterface("WordEditor.Presence.IWordPresenceIp");function wac_cOb(){}wac_cOb.registerInterface("WordEditor.Presence.IWordPresenceCp");
function wac_dOb(){}wac_dOb.registerInterface("WordEditor.Presence.IPacketIdGenerator");function wac_eOb(){}function wac_fOb(a,b,c){null!=a&&(this.TFA=a);null!=b&&(this.PN=b);null!=c&&(this.TN=c)}function wac_gOb(a,b){null!=a&&(this.PM=a);null!=b&&(this.TM=b)}function wac_hOb(a,b,c,d){null!=a&&(this.PA=a);null!=b&&(this.TA=b);null!=c&&(this.PB=c);null!=d&&(this.TBS=d)}function wac_iOb(a,b){a&&(this.SF=a);null!=b&&(this.SL=b)}function wac_jOb(){}wac_jOb.registerInterface("WordEditor.Presence.ISequentialIdGenerator");
function wac_GS(){}wac_GS.registerInterface("WordEditor.Presence.IWordPresenceCpFactory");function wac_HS(a,b,c,d,e,f,g,h,k,l,m,n,p,q){this.R3=a;this.Ahb=c;this.HO=d;this.vJ=b.toLowerCase();this.DG=e;this.Tza=p;f&&(this.z_=f);null!=g&&(this.JMa=g);wac_i(h)||(this.Text=h);k&&(this.HYa=k);l&&(this.JTb=l);m&&(this.AMa=m);n&&(this.rpb=n);this.g4=q}wac_HS.prototype={R3:0,Tza:0,Ahb:0,HO:0,vJ:null,DG:null,z_:null,HYa:null,JTb:null,AMa:null,JMa:null,Text:null,rpb:null,g4:null};
function wac_kOb(a,b,c){null!=a&&(this.oIc=a);null!=b&&(this.gDc=b);null!=c&&(this.z2a=c)}wac_kOb.prototype={oIc:null,gDc:null,z2a:null};function wac_lOb(a,b){null!=a&&(this.OBd=a);null!=b&&(this.y2a=b)}wac_lOb.prototype={OBd:null,y2a:null};function wac_mOb(a,b,c,d){null!=a&&(this.eDc=a);null!=b&&(this.mIc=b);null!=c&&(this.fDc=c);null!=d&&(this.nIc=d)}wac_mOb.prototype={eDc:null,mIc:null,fDc:null,nIc:null};function wac_nOb(a,b){a&&(this.bIc=a);null!=b&&(this.cIc=b)}wac_nOb.prototype={bIc:null,cIc:null};
function wac_oOb(){}function wac_pOb(){}wac_pOb.prototype={V:0};function wac_qOb(){this.hia=0}wac_qOb.prototype={hia:0};function wac_rOb(a){a.hia++;4294967295===a.hia&&(a.hia=1);return a.hia}
function wac_sOb(a,b){b.val="";if("number"!==typeof a.I)return b.val="Invalid PacketId Type",!1;if("number"!==typeof a.O)return b.val="Invalid Operation Type",!1;if("string"!==typeof a.A)return b.val="Invalid ClientId Type",!1;if("object"!==typeof a.AN)return b.val="Invalid Anchor Object Type",!1;if(!a.AN)return b.val="Null AnchorObject",!1;if(!wac_fKb(a.AN)){var c;try{c=wac__i(a.AN)}catch(d){c=String.format("Failed to JSON-serialize payload : {0}",d)}8E3<c.length&&(c=String.format("Payload exceeds maximum length: {0} > {1}, not logging",
c.length,8E3));b.val="Invalid AnchorObject: "+c+", Client: "+a.C;return!1}return!a.O&&a.AN.RK?(b.val="Invalid RangeKind:"+a.AN.RK+" for Caret",!1):2===a.O&&("number"!==typeof a.TF||"undefined"!==typeof a.TX&&"string"!==typeof a.TX||1!==a.AN.RK&&a.AN.RK)?(b.val="Invalid TypingData",!1):3!==a.O||"object"===typeof a.AP&&a.AP&&"number"===typeof a.AP.TFA&&"number"===typeof a.AP.PN&&"number"===typeof a.AP.TN&&2===a.AN.RK?6!==a.O||"object"===typeof a.MP&&a.MP&&"number"===typeof a.MP.PM&&"number"===typeof a.MP.TM&&
5===a.AN.RK?4!==a.O||"object"===typeof a.SP&&a.SP&&"number"===typeof a.SP.PA&&"number"===typeof a.SP.TA&&"number"===typeof a.SP.PB&&"number"===typeof a.SP.TBS&&3===a.AN.RK&&(a.AN.PS===a.SP.PA||a.AN.PS===a.SP.PB)?7!==a.O||"object"===typeof a.SPS&&a.SPS&&"string"===typeof a.SPS.SF&&"boolean"===typeof a.SPS.SL?null!=a.ISS&&"number"!==typeof a.ISS?(b.val="invalid StrictlySequentialId",!1):!0:(b.val="Invalid SymbolData",!1):(b.val="Invalid SplitParaData",!1):(b.val="Invalid RemoveParaData",!1):(b.val=
"Invalid AddParaData",!1)}function wac_tOb(a){var b=a;if("number"===typeof b.V){if(1===b.V)return wac_uOb(a);wac_(9188758,302,15,"Unsupported Version");return null}for(var c=0,d=null,e=0;e<a.length;e++){var b=a[e],f;a:{for(f=0;f<wac_oOb.vGd.length;f++)if(b.V===wac_oOb.vGd[f]){f=!0;break a}f=!1}f&&b.V>c&&(c=b.V,d=a[e])}return 1===c?wac_uOb(d):null}
function wac_vOb(a){if(a){var b=new wac_eOb;b.I=a.R3;b.V=1;b.A=a.vJ;b.C=a.Ahb;b.O=a.HO;b.AN=wac_0Jb(a.DG);a.z_&&(b.WD=a.z_);null!=a.JMa&&(b.TF=a.JMa);!wac_i(a.Text)&&0<a.Text.length&&(b.TX=a.Text);a.HYa&&(b.AP=new wac_fOb(a.HYa.oIc,a.HYa.gDc,a.HYa.z2a));a.JTb&&(b.MP=new wac_gOb(a.JTb.OBd,a.JTb.y2a));a.AMa&&(b.SP=new wac_hOb(a.AMa.eDc,a.AMa.mIc,a.AMa.fDc,a.AMa.nIc));a.rpb&&(b.SPS=new wac_iOb(a.rpb.bIc,a.rpb.cIc));b.ISS=a.g4;a=b}else a=null;return a}
function wac_uOb(a){var b,c,d;if(d=wac_sOb(a,c={val:b}),b=c.val,!d)return wac_(9188759,302,15,"Failed to parse RTT packet, InvalidFieldInfo {0}",b),null;var e=d=c=b=null,f=null,g=null,h=null,k=null;a.WD&&(b=a.WD);null!=a.TF&&(c=a.TF);wac_i(a.TX)||(d=a.TX);a.AP&&(e=new wac_kOb(a.AP.TFA,a.AP.PN,a.AP.TN));a.MP&&(f=new wac_lOb(a.MP.PM,a.MP.TM));a.SP&&(g=new wac_mOb(a.SP.PA,a.SP.TA,a.SP.PB,a.SP.TBS));a.SPS&&(h=new wac_nOb(a.SPS.SF,a.SPS.SL));null!=a.ISS&&(k=a.ISS);return new wac_HS(a.I,a.A,a.C,a.O,wac_ZJb(a.AN),
b,c,d,e,f,g,h,1,k)}function wac_wOb(){this.DCb=this.CCb=0}wac_wOb.prototype={DCb:0,CCb:0};function wac_xOb(a,b,c,d,e,f,g,h){wac_xOb.initializeBase(this,[a,b,c,d,e,f,g,h])}function wac_yOb(){if(window.Box4.App.xa()){var a=window.Box4.App.xa().Na;a&&(a.y1(wac_zOb),(a=a.Dc())&&(wac_AOb=a.ve)&&window.Box4.App.B6().CW(wac_BOb))}}function wac_BOb(){(wac_COb=window.Box4.App.B6().mc())&&wac_COb.Vl()&&(wac_DOb||(wac_DOb=wac_k().K(wac_lv,null))).EJ().CW(wac_EOb)}
function wac_EOb(){if(wac_FOb=(wac_DOb||(wac_DOb=wac_k().K(wac_lv,null))).EJ().mc()){var a=wac_q.W,b=a.fa("Box4ThrottleInboundRequests"),a=a.ac("Box4ThrottleInboundsAtUserCount",20),c=new wac_ywa(11,1);wac_AOb.Xub=function(){return wac_FOb.dGb()};wac_GOb=wac_GOb||new wac_xOb(wac_FOb,function(){return wac_AOb},wac_COb,function(){return wac_q.qh},b,a,c,wac_8g(window.Box4.App.xa()));wac_GOb.Iw()}}function wac_zOb(a){wac_GOb||(a.aVa(wac_zOb),wac_yOb())}
function wac_HOb(a,b,c){this.hia=a;this.t2=c;this.ff=b}
function wac_IOb(a,b,c,d,e){if(!a||!wac_l(wac_k(),wac_L).vb(163)||!b)return null;if(a.HO)return wac_(7685324,302,15,"Presence packet is of unexpected operationType {0}",a.HO),null;var f;if(wac_i(a.z_)){var g=a.vJ;f=g?new wac_xS(g,null,null,new wac_Nm(0),null,null,null,a.Ahb,null,!1,!1,!1,null):null}else g=a.vJ,f=a.z_.Capabilities,f=g?new wac_xS(g,a.z_.UserName,null,new wac_Nm(wac_zb(f)?0:f),a.z_.LocalCobaltSessionId,a.z_.SkypeChatThreadId,a.z_.Email,a.Ahb,a.z_.ChatThreadDiscoveryUri,a.z_.IsAnonymous,
a.z_.InChat,!1,a.z_.PresenceStatus):null;g=a.R3;a=a.DG;if(b){var h=window.parseInt(a.Sna);b=new wac_IS(b,h,a.Cza,a.yya,c,d,e,a.WGc)}else b=null;return new wac_HOb(g,f,b)}
wac_HOb.prototype={hia:0,$xb:!1,t2:null,Ul:function(){return this.t2},bae:function(){return this.$xb},wce:function(a){(this.$xb=a)&&this.t2.VBc();return a},nda:!1,JHb:function(a){return this.nda=a},lla:!1,xfc:function(a){return this.lla=a},ff:null,Ace:function(a){return this.ff=a},Tvc:function(){var a;a=wac_JOb;4294967295===a.CCb&&(a.CCb=0);a.CCb++;a=a.CCb;return new wac_HS(this.hia,this.ff.Gh(),1,0,this.t2?this.t2.Jz():null,new wac_aOb(this.ff.tz,this.ff.$Va,this.ff.ZVa,this.ff.Bva,this.ff.St.St,
this.ff.Hv,this.ff.Jp,this.ff.Iv,this.ff.X7),null,null,null,null,null,null,0,a)},Ejb:function(){return this.ff.Gh()+(this.t2?this.t2.$D().toString():wac_w().toString())},Sj:function(){var a=!!this.ff&&this.ff.Sj(),b=!this.t2||this.t2.Sj();return a&&b},Ic:function(){var a=new wac_HOb;a.hia=this.hia;a.$xb=this.$xb;a.ff=this.ff?this.ff.Ic():null;a.t2=this.t2?this.t2.Ic():null;a.nda=this.nda;a.lla=this.lla;return a}};
function wac_KOb(a,b,c,d,e,f){this.f0c=a;this.ge=c;this.vT=d;this.xt=e;this.li=f;this.uwa=b}
wac_KOb.prototype={f0c:null,La:null,ge:null,vT:null,xt:null,li:null,Ic:function(){return new wac_KOb(this.f0c,this.uwa.Ic(),this.ge,this.vT,this.xt,this.li)},uwa:null,nf:function(){if(null!=this.La)return this.La;var a=this.f0c.$D();if(a.Ba(wac_w()))return 0;var b=this.vT();if(!b)return 0;a=b.Nb(a);if(!a)return wac_(7685326,302,15,"Paragraph Node is null so returning a CP with value 0"),0;b=wac_aS(wac_cS(a.Hb,a.ua),this.uwa);if(this.xt&&this.li&&wac_fC(a)){var c=wac_T(a,b);c.fc=wac_a0a(this.li,a,
b,this.uwa.i7);b=wac_bA(0,c,!0)}return b},VBc:function(){null==this.La&&(this.La=this.nf())},Ba:function(a){return a?this.uwa.Kw(a.uwa,!1):!1}};function wac_LOb(a,b){this.xt=a;this.li=b}wac_LOb.prototype={xt:null,li:null,Ja:function(a,b,c,d){return new wac_KOb(a,b,c,d,this.xt,this.li)}};function wac_IS(a,b,c,d,e,f,g,h){this.zu=a;this.vT=f;this.ge=e;this.Vba=g;this.Af=b;this.Dw=h;this.TU=c;this.nJ=g.Ja(this,d,e,f)}
wac_IS.prototype={vT:null,zu:null,v8b:null,ge:null,Vba:null,Ic:function(){return new wac_IS(this.zu,this.Af,this.TU,this.nJ.uwa,this.ge,this.vT,this.Vba,this.Dw)},Af:0,Nt:function(){return this.Af},$D:function(){return this.v8b?this.v8b:wac_yQ(this.zu,this.Af)},Dw:0,VBc:function(){this.v8b||(this.v8b=this.$D(),this.nJ.VBc())},nJ:null,TU:0,zce:function(a){return this.TU=a},Sj:function(){return 0<=this.nJ.nf()},Jz:function(){var a=this.nJ.uwa;return a?new wac_bS(0,this.Af,this.TU,a,null,null,null,0,
this.Dw):null}};function wac_JS(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v,w,x,y,z,A,C,B,D,E,F,G,H){wac_JS.initializeBase(this,[a,b,c,d,e,f,g,h,k,l,m,p,q,r,t,w,x,y,z,A,C,B,D,E,H]);wac_A(n,1177859183,1,wac_MOb,64);wac_A(n,3460066539,1,wac_NOb,64);wac_A(n,477883041,1,wac_OOb,96);wac_A(n,761503246,1,wac_POb,64);this.zu=u;this.ge=v;this.Vba=F;this.uX.TXa=G;this.uX.TXa.va.jb("X",wac_QOb);wac_(4006600,302,50,"WordPresenceManager Initialized")}
function wac_ROb(){return wac_SOb||(wac_SOb=wac_k().K(wac_lv,null))}
function wac_TOb(){wac_UOb||(wac_UOb=new (wac_ab.$$(wac_Fc)));wac_VOb&&(wac_(4256585,302,50,"WordPresenceManager Init"),wac_VOb=!1);if(window.Box4.App.xa()){var a=window.Box4.App.xa().Na;a?(a.y1(wac_WOb),(wac_KS=a.jd)&&wac_KS.vj()?(wac_XOb=a.Dc().ve)?(wac_YOb=a.Dc().ed())?wac_ROb().EJ().CW(wac_ZOb):wac_(4006599,302,15,"Can't initialize the WordPresenceManager because we can't get a reference to content ObjectSpace of the app"):wac_(4252228,302,15,"Can't initialize the WordPresenceManager because we can't get a reference to the GraphSpaceReplicator object"):
wac_(4006598,302,50,"PageView doesn't seem to have been initialized yet. Will try again once we know it's initialized")):wac_(4006597,302,15,"Can't initialize the WordPresenceManager because workspace is not initialized")}else wac_(4006596,302,15,"Can't initialize the WordPresenceManager because active AppFrame is not initialized")}
function wac_ZOb(){if(wac__Ob=wac_ROb().EJ().mc()){var a=[];Array.add(a,wac_KS.Jmc);Array.add(a,wac_KS.ye().j9c());var b=wac_ey(),c=wac_k().K(wac_FS,null),d=new wac_pNb(c,b,wac_k().K(wac_Bb,null),wac__Ob),e=new wac_lNb(wac__Ob),f=wac_Db(wac_k(),wac_wzb),g=wac_k().K(wac__Q,null),h=new wac_ywa(8,5),k=wac_k().K(wac_tc,null);wac_LS=new wac_JS(wac__Ob,a,wac_YOb,b,k,c,d,e,wac_KS,wac_KS.ye().Fc(),wac_k().K(wac_yNb,null),wac_x(),wac_XOb,wac_S,wac_gKb,wac_k().K(wac_wS,null),f,g,window.Box4.App.Gi.Zl,new wac_vy,
wac_r(),wac_hk(),wac_Fb(wac_Do,wac_m(wac_k(),wac_Do)),wac_q.W,wac_q.W.fa("Box4ThrottleAndBatchPresenceRendering"),wac_q.W.fa("Box4DoNotRenderPresenceOutOfView"),h,wac_k().K(wac_GS,null),wac_k().K(wac_Hca,null),!window.Box4.App.Hu()&&!window.Box4.App.qn);wac_(23196878,302,50,"WordPresenceManager instance created");wac_UOb.af(wac_LS);wac_MS.af(wac_LS);wac_0Ob.af(wac_LS);a=wac_k();wac_n(wac_o(wac_p(wac_p(a.na(wac_JS,null),wac_Gca),wac_Fc)),function(){return wac_LS});a.K(wac_JS,null)}else wac_(4203468,
302,15,"Can't initialize the WordPresenceManager because can't get a handle to RtcProxy")}function wac_WOb(a){wac_LS||(wac_(4006601,302,50,"WordPresenceManager.OnAppIsInteractive: Trying to initialize again"),(a=window.$$as(wac_uw,a))&&a.aVa(wac_WOb),wac_TOb())}function wac_QOb(){wac_XNb(wac_LS)}
function wac_MOb(a,b,c,d,e){c=e.split(",");if(!c||3!==c.length)return 8;a=c[0].trim();b=c[1].trim();c=Number.parseInvariant(c[2].trim());a=new wac_DS(new wac_xS(a),new wac_ES(b,c,-1,0,0));if(!wac_MS.Lc.Cm())return 8;b=wac_MS.Lc.mc();wac_ZNb(b,a);b.yDb||wac__Nb(b);return 32}function wac_NOb(a,b,c,d,e){if(!wac_MS.Lc.Cm())return 8;a=wac_MS.Lc.mc();a.Tnb(e);a.yDb||wac__Nb(a);return 32}
function wac_POb(a,b,c,d,e){if(!wac_MS.Lc.Cm())return 8;a=wac_MS.Lc.mc();if(!a)return 8;if(e&&e.Sj()&&e.Ul()){b=wac_rNb(a.HDa,e.Ul().$D().toString(),-1,-1,!1);c=!1;d=null;for(var f=0;f<b.length;f++)if(d=b[f],d.ff.Gh()===e.ff.Gh()){d.xfc(!0);c=!0;break}if(c)if(b=d.Ul().$D(),e=wac_2Nb(a,b)){b=a.wb.Uc(2,0);try{wac_P(b,e),e.AC(a.Jzb.Fc(),32,!0),e.AC(a.WPc,32,!0)}finally{b&&b.dispose()}}else wac_3Nb(a,b)}return 32}
function wac_OOb(a,b,c,d,e){if(1===c)return 32;if(!wac_ROb().EJ().Cm())return 8;a=wac_ROb().EJ().mc();if(!a)return wac_(4301136,302,10,"rtcProxy is null when trying to display RTC connection status"),8;e.Value=2===a.Rta()?WordEditorIntl.WordEditorStrings.L_RtcConnected:1===a.Rta()?WordEditorIntl.WordEditorStrings.L_RtcConnecting:"";return 32}
wac_JS.prototype={Fe:function(){return wac_k().K(wac_L,null)},Vba:null,zu:null,ge:null,y_a:function(a){if(!a||!a.Ab)return null;for(a=a.Ab.ol;a;a=a.Ur)if(wac_UK(a))return a.Hm.ea;return null},Aqc:function(a){var b=null,b=wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled");if(this.Fe().vb(163)&&this.Fe().vb(140)){var c=a.Ea().wa,d=a.Ea().ea;b&&wac_mB(d)&&(d=this.y_a(d));if(!d)return wac_(51242309,302,15,"selectedNode is null"),null;var d=this.D3b(d),e=a.Ea().ea.oa(Number,wac_ls,0);if(!this.zu)return wac_(35997152,
302,15,"paragraphWordIdMapping is null"),null;var f=wac_yQ(this.zu.pa(),e),g=wac_YOb.Nb(f);if(!g)return wac_(16791249,302,15,"Can't find pid "+f),null;c=wac_9R(wac_cS(g.Hb,g.ua),c);c.i7=-1===wac_XB(a.Ea())?0:wac_XB(a.Ea());f=0;b&&wac_vZa(a)&&(f=wac_1Ob(a));b=new wac_IS(this.zu.pa(),e,d,c,this.ge,function(){return wac_YOb},this.Vba,f)}else b=wac_SNb.prototype.Aqc.call(this,a);return b}};function wac_1Ob(a){var b=wac_aG(a.Ea());return b?b.hh.oa(Number,wac_Su,0):a.Ea().ea.Ka().oa(Number,wac_Su,0)}
function wac_2Ob(){}function wac_3Ob(){!wac_4Ob&&window.Box4.App.xa()&&window.Box4.App.xa().Xt&&(wac_4Ob=window.WordEditor.App.Pk().Xt.getElementsByClassName("OutlineContainerDisplayWrapper")[0]);return wac_4Ob}function wac_5Ob(){return wac_3Ob()?wac_al(wac_3Ob()):null}
wac_2Ob.prototype={aa:null,jg:!1,Rb:function(){return"WordEditor.Presence"},pb:function(){wac_(50995799,302,15,"PresencePackage Init");window.Box4.App.iId&&(this.aa.K(wac_NS,null).EJ(),wac_TOb(),this.aa.K(wac_6Ob,null));window.Box4.App.xrc&&wac_yOb();this.aa.K(wac_tq,null);this.aa.K(wac_tc,null)},ja:function(){if(!this.jg){this.jg=!0;wac_MS.Lc.CW(function(){wac_Zb(wac_MS.Lc.mc())});var a=this.aa.K(wac_wS,null);a&&a.TXa&&a.TXa.va.hd("X",wac_QOb)}},Sb:function(a){this.aa=a;wac_n(wac_o(wac_p(wac_p(wac_p(this.aa.na(wac_wS,
null),wac_iNb),wac_Gc),wac_Ec)),function(){return new wac_wS});wac_n(wac_o(a.na(wac_GS,null)),function(){return new wac_LOb(a.K(wac_yD,null),a.K(wac_Ix,null))});wac_n(wac_o(a.na(wac_6Ob,null)),function(){return new wac_6Ob(new (wac_d.$$(wac_hw))(function(){return window.Box4.App.sc}),wac_3z(),a.K(wac_NS,null).Njb(),a.K(wac_iNb,null))});wac_n(wac_p(wac_p(wac_o(a.na(wac_NS,null)),wac_lv),wac_uo),function(){return new wac_NS(wac_q.Br,wac_8g(window.Box4.App.xa()),wac_r(),function(){return wac_q.qh},wac_k().K(wac_iNb,
null),wac_l(wac_k(),wac_xE),wac_k().K(wac__Q,null),function(){return wac_s()&&window.Box4.App.xa().Na&&window.Box4.App.xa().Na.Dc()?window.Box4.App.xa().Na.Dc().ed():null},wac_7Ob,function(){return wac_l(wac_k(),wac_TP)},wac_m(wac_k(),wac_wc),wac_k().K(wac_GS,null),wac_q.W)});wac_n(wac_o(a.na(wac_yNb,null)),function(){var a;a=wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled");var c=new wac_kLb;c.U(String,0,wac_Xi(wac_Vi,"MoreUsersGlyph16"));c.U(String,5,wac_Wi);c.U(String,1,wac_Xi(wac_Vi,a?"DoughboyWhiteGlyph_20x20x32":
"SingleCollabUserGlyph16"));c.U(String,4,wac_Wi);c.U(Number,12,1);c.U(Boolean,8,wac_lh);c.U(Function,16,wac_5Ob);a=a?new wac_RKb(c):new wac_hLb(c);return new wac_yNb(a,wac_Og(),wac_m(wac_k(),wac_Dc),wac_k().K(wac_Cw,null),wac_Fb(wac_Bc,wac_m(wac_k(),wac_Bc)),wac_q.W)});wac_n(wac_o(a.na(wac_tq,null)),function(){return new wac_tq(wac_k().K(wac_Gc,null),wac_k().K(wac_NS,null).Njb(),wac_0Ob.Lc,wac_k().K(wac_Ec,null),wac_r(),wac_q.W.fa("AwayStatusOneMinuteTimeoutIsEnabled")?6E4:wac_q.W.ac("AwayCoauthorThresholdMs",
9E5),wac_x().qBe,window.Box4.App.xa().wx,wac_q.W.fa("PeoplesWellExtraButtonInfoIsEnabled"))});wac_n(wac_p(wac_o(a.na(wac_8Ob,null)),wac_Hca),function(){return new wac_8Ob(wac_Fb(wac_cc,wac_m(wac_k(),wac_cc)))});wac_n(wac_p(wac_o(a.na(wac_rAa,null)),wac_tc),function(){return new wac_rAa(a.K(wac_NS,null).Njb(),window.Box4.App.B6().CWR(wac_nca,function(){return window.Box4.App.B6().mc().xG}),a.K(wac_fb,null),a.K(wac_Ec,null),wac_Fb(wac_tq,wac_m(a,wac_tq)))});wac_n(wac_p(wac_o(a.na(wac_FS,null)),wac_yOa),
function(){return new wac_FS(window.Box4.App.xa().Na.Dc().ed(),wac_k().K(wac_L,null))})}};function wac_8Ob(a){this.va=new wac_hf;this.lF=a;var b=this;this.lF.CWR(Function,function(){return b.lF.mc().lBf(function(){b.va.Ya("X",null,null)})})}wac_8Ob.prototype={lF:null};function wac_6Ob(a,b,c,d){this.oY=Function.createDelegate(this,this.O9);this.dye=Function.createDelegate(this,this.kff);this.gg=a;this.KB=b;this.zK=c;c.CW(this.dye);this.aZd=d;this.aZd.amc=this.KB}
wac_6Ob.prototype={KB:null,zK:null,mk:null,aZd:null,uXc:!1,jRc:!1,gg:null,oMe:!1,kff:function(){this.zK.Cm()&&this.zK.mc()?(this.mk=this.zK.mc(),this.mk.bFa(this.oY),wac_(5604372,302,50,"Presence Update Monitor is ready.")):wac_(5604373,302,15,"RtcTask did not complete successfully. No monitoring")},O9:function(a,b){a=b.r8;for(var c in a){b=a[c];if(!this.jRc&&this.gg&&this.gg.pa()){var d=b.ff.FGa;d&&1===d||(this.oMe=!0)}if(!this.uXc&&b.ff.tz&&b.ff.tz!==this.KB.tz){wac_(5604375,302,15,"Presence received from different local cobalt session Mine:{0} Theirs:{1}",
this.KB.tz,b.ff.tz);this.uXc=!0;break}}this.uXc&&this.mk.bVa(this.oY);this.jRc||(wac_(5604374,302,50,"First presence received"),this.jRc=!0)}};function wac_9Ob(a,b,c,d,e,f,g,h,k,l,m,n,p){wac_9Ob.initializeBase(this,[a,b,c,d,e,f,p]);this.zu=g;this.ge=h;this.vT=k;this.Bzb=l;this.PCb=m;this.Vba=n}
wac_9Ob.prototype={yA:null,zu:null,ge:null,vT:null,Bzb:null,PCb:null,Vba:null,HQ:function(){return this.yA||(this.yA=this.PCb())},SZ:function(a,b){2===b.aB&&wac_(4315102,302,50,"RTC Connected");this.HQ()&&this.HQ().T9("RtcConnectionStatusLabel");wac_5Nb.prototype.SZ.call(this,a,b)},vud:function(a){return wac_IOb(wac_tOb(a),this.zu,this.ge,this.vT,this.Vba)},sGc:function(a,b){return wac_IS.isInstanceOfType(b)?(a=new wac_HOb(wac_rOb(this.Bzb),a,b),wac_vOb(a.Tvc())):wac_5Nb.prototype.sGc.call(this,a,
b)}};function wac_NS(a,b,c,d,e,f,g,h,k,l,m,n,p){this.Ji=new (wac_ab.$$(wac_XKa));this.H_b=a;this.lc=b;this.Za=c;this.Kt=d;this.uX=e;this.zu=f;this.Gta=g;this.vT=h;this.Bzb=k;this.PCb=l;this.OSa=m;this.Vba=n;this.ya=p}function wac_$Ob(){return!1}wac_NS.prototype={H_b:null,lc:null,Za:null,Kt:null,uX:null,zu:null,Gta:null,vT:null,Bzb:null,PCb:null,OSa:null,Vba:null,ya:null,A5d:!0,EJ:function(){wac_aPb(this);return this.Ji.Lc},Njb:function(){return new wac_OS(this)}};
function wac_aPb(a){if(a.A5d)if(a.A5d=!1,window.Box4.App.uyc()&&window.Box4.App.dyc()){var b=wac_q.Ce;if(b){var b=wac_oMb("{"+wac_q.Xf+"}",wac_q.Xf,wac_q.fEd,b,a.OSa,a.lc,a.ya.ob("RtcEndpointUrl"),a.ya.fa("FindSessionOnBootIsEnabled")?wac_k().K(wac_ad,null):null),c=new wac_9Ob(b,a.ya.fa("StartRTCOnBootIsEnabled")?null:window.Box4.App.B6(),a.Za,a.Kt,wac_$Ob,a.uX,a.zu,a.Gta,a.vT,a.Bzb,a.PCb,a.Vba,wac_q.W);window.Box4.App.Mpf(c);c.pb();window.WordEditor.App.joa=c;a.OSa.tb(function(a){a.XTa(function(){c.vib()})});
a.Ji.af(c)}else wac_(8206365,302,15,"Can't initialize the RtcProxy because ClientRequestManager is null")}else wac_(8206362,302,10,"Can't initialize the RtcProxy because dependent scripts are not loaded")}function wac_OS(a){this.ux=Function.createDelegate(this,this.moveNext);this.dispose=this.ja;this.Bf=a;wac_OS.initializeBase(this);this.yg=this.Mo;this.moveNext()}
wac_OS.prototype={Bf:null,brd:null,zi:null,yg:null,_state:0,Mo:function(){this.zi=this.Bf.EJ().G();this.zi.Cm()||(this._state=2,this.zi.CL(this.ux));return this.Bz},Bz:function(){this.brd=this.zi.Jx();wac_$a(this,this.brd);this.ja();this._state=3;this.ho(!0)},ja:function(){}};wac_OS.prototype.moveNext=function(){try{for(this._state=1;1===this._state;)this.yg=this.yg()}catch(a){this.ja(),wac_4a(this,a),this._state=3}};wac_OS.prototype.moveNext=wac_OS.prototype.moveNext;
wac_FS.registerClass("Box4.Presence.WordPresenceDataManager",wac_CS);wac_aOb.registerClass("WordEditor.Presence.SerializableWacData");wac_eOb.registerClass("WordEditor.Presence.SerializableRTTDataV1");wac_fOb.registerClass("WordEditor.Presence.SerializableAddParaDataV1");wac_gOb.registerClass("WordEditor.Presence.SerializableMergeRemoveParaDataV1");wac_hOb.registerClass("WordEditor.Presence.SerializableSplitParaDataV1");wac_iOb.registerClass("WordEditor.Presence.SerializableSymbolDataV1");wac_HS.registerClass("WordEditor.Presence.RTTData");
wac_kOb.registerClass("WordEditor.Presence.AddParaData");wac_lOb.registerClass("WordEditor.Presence.MergeRemoveParaData");wac_mOb.registerClass("WordEditor.Presence.SplitParaData");wac_nOb.registerClass("WordEditor.Presence.SymbolData");wac_oOb.registerClass("WordEditor.Presence.RTTDataVersion");wac_pOb.registerClass("WordEditor.Presence.SerializableObjectWithVersion");(function(){}).registerClass("WordEditor.Presence.Program");wac_qOb.registerClass("WordEditor.Presence.PacketIdGenerator",null,wac_dOb);
(function(){}).registerClass("WordEditor.Presence.RTTDataHelper");(function(){}).registerClass("WordEditor.Presence.RTTDataMethods");(function(){}).registerClass("WordEditor.Presence.SerializableRTTDataV1Methods");wac_wOb.registerClass("WordEditor.Presence.StrictlySequentialIdGenerator",null,wac_jOb);wac_xOb.registerClass("WordEditor.Presence.WordContentNotificationManager",wac_jNb);wac_HOb.registerClass("WordEditor.Presence.WordPresenceInfo",null,wac_UKa,wac_7b.$$(wac_UKa));
wac_KOb.registerClass("WordEditor.Presence.WordPresenceCp",null,wac_VKa,wac_7b.$$(wac_VKa),wac_cOb);wac_LOb.registerClass("WordEditor.Presence.WordPresenceCp.Factory",null,wac_GS);wac_IS.registerClass("WordEditor.Presence.WordPresenceIp",null,wac_WKa,wac_7b.$$(wac_WKa),wac_bOb);wac_JS.registerClass("WordEditor.Presence.WordPresenceManager",wac_SNb);wac_2Ob.registerClass("WordEditor.Presence.WordPresencePackage",null,wac_G,wac_j);
wac_8Ob.registerClass("WordEditor.Presence.WordPresenceStatusProvider",null,wac_Hca);wac_6Ob.registerClass("WordEditor.Presence.WordPresenceUpdateMonitor");wac_9Ob.registerClass("WordEditor.Presence.WordRtcProxy",wac_5Nb);wac_NS.registerClass("WordEditor.Presence.WordRtcProxyProvider",null,wac_lv,wac_uo);wac_OS.registerClass("WordEditor.Presence.WordRtcProxyProvider.$$sm_WordEditor$Presence$WordRtcProxyProvider$GetInstanceAsRealtimeChannelBasicAsync",wac_9a.$$(wac_vc),Sys.IDisposable);
wac_oOb.vGd=[1];var wac_7Ob=new wac_qOb,wac_JOb=new wac_wOb,wac_GOb=null,wac_DOb=null,wac_FOb=null,wac_AOb=null,wac_COb=null,wac_LS=null,wac_VOb=!0,wac_UOb=new (wac_ab.$$(wac_Fc)),wac_MS=new (wac_ab.$$(wac_JS)),wac_0Ob=new (wac_ab.$$(wac_Gca)),wac_YOb=null,wac_KS=null,wac_XOb=null,wac__Ob=null,wac_SOb=null,wac_4Ob=null;wac_H(wac_B(),new wac_2Ob,0,!1);Type.registerNamespace("WERTT");function wac_PS(){}wac_PS.registerInterface("WERTT.IParagraphAnchoredOp");function wac_bPb(){}wac_bPb.registerInterface("WERTT.IRttDataStore");
function wac_cPb(){}wac_cPb.registerInterface("WERTT.IRttEditor");function wac_dPb(){}wac_dPb.prototype={unknown:0,replaceTextRangeOp:1,addParagraphOp:2,deleteParagraphOp:3,splitParagraphOp:4,mergeParagraphOp:5,replaceSymbolRangeOp:6};wac_dPb.registerEnum("WERTT.RttOpType",!1);function wac_QS(){}wac_QS.registerInterface("WERTT.IRttOp");function wac_RS(){}wac_RS.registerInterface("WERTT.IRttAppliedOp");function wac_ePb(){}wac_ePb.registerInterface("WERTT.IRttAppliedOpTracker");
function wac_fPb(){}wac_fPb.registerInterface("WERTT.IRttOpValidator");function wac_gPb(){}wac_gPb.registerInterface("WERTT.IRttSendDataStore");function wac_hPb(a,b){this.qed=Function.createDelegate(this,this.$bf);this.oed=Function.createDelegate(this,this.Dmb);this.ned=Function.createDelegate(this,this.WAc);this.dispose=this.ja;this.Bl=a;if(this.$l=b)a=wac_bB(this.$l,12),wac_6K(a,this.ned),wac_fB(a,this.oed),wac_8K(a,this.qed)}
wac_hPb.prototype={Bl:null,$l:null,ja:function(){if(this.$l){var a=wac_bB(this.$l,12);wac_5K(a,this.ned);wac_iB(a,this.oed);wac_7K(a,this.qed)}},WAc:function(a,b){4===this.Bl.fG()?wac_c(9204866,355,12===b.ea.get_type()||11===b.ea.get_type(),"Unexpected graph modification detected during RTT edit"):wac_c(9204867,355,!1,"Unexpected graph modification detected during RTT edit")},Dmb:function(){wac_c(9204868,355,!1,"Unexpected graph modification detected during RTT edit")},$bf:function(){wac_c(9204869,
355,!1,"Unexpected graph modification detected during RTT edit")}};function wac_SS(a,b){this.Dmc=a;this.oy=b}wac_SS.prototype={Dmc:0,fG:function(){return this.Dmc},oy:null,nJb:null,cFa:function(){return this.nJb},zYa:null,qY:null,Zvc:function(){return""},QJ:function(){return null}};function wac_iPb(a,b){a.qY=b}function wac_jPb(){this.une=Function.createDelegate(this,this.z1e)}
wac_jPb.prototype={aa:null,Rb:function(){return"WordEditor.RealTimeTyping"},z1e:function(){return window.Box4.App.sc&&window.Box4.App.sc.gl?window.Box4.App.sc.gl:(wac_(7866377,304,15,"Unable to get the lock manager"),null)},Sb:function(a){var b=wac_Fb(wac_Ow,wac_m(a,wac_Ow)),c=wac_Fb(wac_L,wac_m(a,wac_L)),d=wac_Fb(wac_Nc,wac_m(a,wac_Nc)),e=wac_Fb(wac__Q,wac_m(a,wac__Q));this.aa=a;var f=new wac_vy,g=this;wac_Za.WAA.call(null,b,c,d,e).CW(function(){wac_n(wac_o(a.na(wac_cPb,null)),function(){return new wac_kPb(a.K(wac_Yw,
null),a.K(wac_Ow,null),f,a.K(wac__Q,null))});wac_n(wac_o(wac_p(a.na(wac_lPb,null),wac_yAb)),function(){return new wac_lPb(a.K(wac_cPb,null),new wac_mPb(wac_C()),new (wac_d.$$(wac_jVa))(g.une),new (wac_d.$$(wac_zPa))(function(){return window.Box4.App.aM}),a.K(wac_L,null),a.K(wac_xE,null),a.K(wac_lv,null).EJ(),new (wac_d.$$(wac_wv))(function(){return window.Box4.App.xa().Na.Dc().ed()}),wac_r(),function(){return Date.now()},a.K(wac__Q,null),wac_C(),wac_m(a,wac_Nc),wac_MS.Lc,f,wac_q.W.fa("WordEditorThrottleAndBatchRTTRendering"),
new wac_nPb,wac_m(a,wac_GS))});wac_n(wac_o(a.na(wac_oPb,null)),function(){return new wac_oPb(a.K(wac_lv,null).EJ(),new wac_pPb,new (wac_d.$$(wac_hw))(function(){return window.Box4.App.sc}),window.Box4.App.xa().Na,a.K(wac__Q,null),a.K(wac_L,null))});g.exc()})},exc:function(){this.aa.K(wac_lPb,null).pb();this.aa.K(wac_oPb,null).pb()},pb:function(){},ja:function(){}};function wac_qPb(){this.Eqb=new (wac_e.$$(wac_TS))}
wac_qPb.prototype={Eqb:null,U:function(a){this.Eqb.U(a);return!0},bRb:function(a){for(var b=new (wac_e.$$(wac_TS)),c=this.Eqb.$$lge();c.$$mn();){var d=c.$$cu();a(d)&&b.U(d)}return b},oFc:function(a){wac_rPb(a.nJb,wac_sPb.toString(1));this.Eqb.Bb(a)},pFc:function(a){wac_rPb(a.nJb,wac_sPb.toString(0));this.Eqb.Bb(a)}};function wac_TS(a,b,c,d,e,f,g,h){wac_TS.initializeBase(this,[2,h]);this.Vza=a;this.HGd=b;this.z2a=c;this.rZb=d;this.XTb=e;this.WTb=f;this.MG=g}
wac_TS.prototype={Vza:0,HGd:0,z2a:0,rZb:null,XTb:0,WTb:0,MG:0,QJ:function(){return new wac_HS(this.oy.R3,this.oy.vJ,1,3,new wac_bS(2,this.Vza,this.HGd,null,this.rZb,null,null,this.MG,0),null,null,null,new wac_kOb(this.z2a,this.XTb,this.WTb),null,null,null,0,this.oy.g4)}};function wac_tPb(a,b){this.MDd=a;this.LO=b}wac_tPb.prototype={fG:function(){return 1},obb:function(){return this.MDd},MDd:null,LO:null};function wac_uPb(a,b){this.LDd=a;this.LO=b}
wac_uPb.prototype={fG:function(){return 6},obb:function(){return this.LDd},LDd:null,LO:null};function wac_US(a,b,c){this.GHc=a;this.cpb=b;this.AZa=c}wac_US.prototype={fG:function(){return 4},obb:function(){return this.GHc},GHc:null,cpb:null,AZa:null};function wac_vPb(a,b){this.rNb=a;this.LO=b}wac_vPb.prototype={fG:function(){return 2},obb:function(){return this.rNb},rNb:null,LO:null};function wac_nPb(){this.hpa=new (wac_La.$$(wac_e.$$(wac_RS)))}
wac_nPb.prototype={hpa:null,Dmb:function(a){var b=a.toString();if(!this.hpa.gb(b))return new (wac_e.$$(wac_RS));a=this.hpa.B(b);this.hpa.Bb(b);for(b=a.$$lge();b.$$mn();){var c=b.$$cu();c.obb()&&wac_iPb(c.obb(),null)}return a}};function wac_wPb(a,b){for(a=a.hpa.Ck().$$ge();a.$$mn();){var c=a.$$cu();if(c.ma()&&2===c.B(0).fG()&&(c=c.B(0),c.rNb.XTb===b))return c}return null}function wac_xPb(a,b){return a.Dmb(b)}
function wac_yPb(a,b){switch(b.fG()){case 1:var c=window.$$as(wac_tPb,b);wac_zPb(a,c.LO,b);break;case 6:c=window.$$as(wac_uPb,b);wac_zPb(a,c.LO,b);break;case 4:c=window.$$as(wac_US,b);wac_zPb(a,c.cpb,b);wac_zPb(a,c.AZa,b);break;case 2:c=window.$$as(wac_vPb,b),wac_zPb(a,c.LO,b)}}function wac_zPb(a,b,c){b=b.toString();a.hpa.gb(b)||a.hpa.Z(b,new (wac_e.$$(wac_RS)));a.hpa.B(b).U(c)}function wac_mPb(a){this._changes=new (wac_Ea.$$(wac_Ea.$$(wac_PS)));this.Gb=a}
wac_mPb.prototype={_changes:null,Gb:null,bRb:function(a){for(var b=new (wac_e.$$(wac_PS)),c=this._changes.zg().$$ge();c.$$mn();)for(var d=c.$$cu(),d=this._changes.B(d),e=d.zg().$$ge();e.$$mn();){var f=e.$$cu(),f=d.B(f);a(f)&&b.U(f)}return b},oFc:function(a){wac_APb(this,a,1)},pFc:function(a){wac_APb(this,a,0)}};
function wac_APb(a,b,c){var d=null,e,f;(f=a._changes.Xb(b.Nt(),e={val:d},null),d=e.val,f)?(wac_rPb(b.cFa(),wac_sPb.toString(c)),d.Bb(b.JI()),d.ma()||a._changes.Bb(b.Nt())):wac_(50938848,355,15,"Cannot remove an op that not exist in _changes. WordId: {0}; Reason: {1}",b.Nt(),c)}function wac_BPb(a,b,c){if(!a._changes.gb(b))return null;a=a._changes.B(b);return a.gb(c)?a.B(c):null}function wac_sPb(){}wac_sPb.prototype={expired:0,dried:1};wac_sPb.registerEnum("WERTT.RttDataStore.RemoveChangeReason",!1);
function wac_CPb(a,b,c,d){wac_CPb.initializeBase(this,[3,d]);this.Af=a;this.yx=b;this.MG=c}wac_CPb.prototype={Af:0,Nt:function(){return this.Af},yx:0,JI:function(){return this.yx},Abb:function(){return 0},MG:0,QJ:function(){return new wac_HS(this.oy.R3,this.oy.vJ,1,5,new wac_bS(4,this.Af,this.yx,null,null,null,null,this.MG,0),null,null,null,null,null,null,null,0,this.oy.g4)}};function wac_kPb(a,b,c,d){this.AS=a;this.ZYc=b;this.Eqa=c;this.ibc=d}
wac_kPb.prototype={AS:null,ZYc:null,Eqa:null,ibc:null,QSb:function(a){var b=new wac_Q;b.jc(a);wac_1z(b,11);return wac_AB(b)?(wac_(16868566,355,50,"Blocked RTT para operation: in a list"),!0):!1}};
function wac_DPb(a){var b=a.ea.ua,c=a.wa;a=a.Qa;for(var d=0;d<b.la();d++){var e=b.B(d);if(e.La>=a)break;if(e.La>=c){if(e.Ue)return wac_(8242647,355,15,"Rejected unsafe wet change: range contains comment"),!1;if(e.nd)return wac_(8242648,355,15,"Rejected unsafe wet change: range contains blob"),!1;if(e.Tf||e.Pm&32||e.Pm&64)return wac_(8242649,355,15,"Rejected unsafe wet change: range contains field"),!1}}return!0}
function wac_EPb(a,b,c,d){for(var e=c.ma()-1;0<=e;e--){var f=c.B(e);switch(f.fG()){case 4:f=window.$$as(wac_US,f);if(!b.ia().Ba(f.cpb)){wac_c(9204885,355,b.ia().Ba(f.AZa),null);continue}f=d.Nb(f.AZa);if(!f)break;if(!f||!wac_U(f)){wac_c(9204886,355,!1,null);break}if(!f.Ab)continue;var g,h,k,f=(k=wac_FPb(f,h={val:g}),g=h.val,k);wac_c(9204887,355,f,null);f&&wac_GPb(a,g);break;case 2:if(f=window.$$as(wac_vPb,f),!b.ia().Ba(f.LO))wac_c(16820001,355,!1,null);else if(b.Ab){var l,m,f=(m=wac_FPb(b,l={val:g}),
g=l.val,m);wac_c(16820002,355,f,null);f&&wac_GPb(a,g)}}}}function wac_HPb(a,b){if(b.Ab){var c,d,e;if(e=wac_FPb(b,d={val:c}),c=d.val,e)wac_GPb(a,c);else{c=wac_ez(b).Zg;a=a.Eqa.Uc(3,0);try{wac_P(a,b),b.wi(c.Nb(b.ia())),wac_sB(b.Ab,4)}finally{a&&a.dispose()}}}}function wac_GPb(a,b){var c=new wac_Q;c.jc(b);wac_W(c);a=a.Eqa.Uc(3,0);try{wac_P(a,c.ha()),wac_qz(b)}finally{a&&a.dispose()}}function wac_FPb(a,b){b.val=wac_O(a);wac_R(b.val,23);wac_W(b.val);return 89===b.val.rk()}
function wac_IPb(a,b,c){return b===c?wac_T(a,b):wac_V(a,b,c)}function wac_JPb(a,b,c,d){var e=wac_yQ(c,b.Vza);if(e.Ba(wac_w()))return null;e=d.Nb(e);if(!e||!wac_U(e)||!e.Ab)return null;var f=wac_O(e);if(!wac_R(f,23))return null;if(b.rZb){b=wac_yQ(c,b.rZb);if(b.Ba(wac_w()))return null;d=d.Nb(b);if(!d||!wac_U(d)||!d.Ab)return null;d=wac_O(d);if(!wac_R(d,23))return null;wac_1z(d,11);wac_5G(d);wac_cz(d);if(d.ha()!==e)return null}return a.QSb(f)?null:f}
function wac_lPb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r,t,u,v){this.Xja=Function.createDelegate(this,this.Mya);this.shc=Function.createDelegate(this,this.eCc);this.Nle=Function.createDelegate(this,this.TZe);this.$Da=a;this.cBa=b;this.K7a=c;this.Bra=d;this.fb=e;this.zu=f;this.zK=g;this.ah=h;this.Za=k;this.fx=l;this.ibc=m;this.Gb=n;this.e9b=q;this.wb=r;this.Z4c=t;this.lAa=u;this.LEb=v;this.G8a=new (wac_Ca.$$(String))(wac_qa());this.m3a=new wac_qPb;p.tb(wac_KPb)}
function wac_KPb(a){for(var b=[3959281607,1157520733],c=b.length,d=0;d<c;++d){var e=b[d];a.TO(e,"WetChangeCount",wac_Pj);a.TO(e,"NoChangesToApply",wac_Pj);a.TO(e,"NodeNotConnected",wac_Pj);a.TO(e,"CouldNotGetLock",wac_Pj);a.TO(e,"WetChangeBlocked",wac_Pj);a.TO(e,"ParagraphAlreadyDirty",wac_Pj);a.TO(e,"UnsafeWetChange",wac_Pj)}a.TO(1839802051,"FailedToFindInitialParaID",wac_jKb);a.TO(1839802051,"FailedToFindInitialTextID",wac_jKb);a.TO(1839802051,"MsecUntilApplied",wac_iKb);a.TO(1839802051,"RemovedBecause",
wac_Pj);a.TO(1839802051,"PacketVersions",wac_Pj);a.TO(1839802051,"OperationType",wac_Pj)}
wac_lPb.prototype={$Da:null,cBa:null,m3a:null,K7a:null,Bra:null,fb:null,zu:null,zK:null,Cl:null,ah:null,fx:null,Za:null,y9d:!1,ibc:null,Gb:null,e9b:null,wb:null,lAa:null,LEb:null,G8a:null,EVc:!1,Z4c:!1,pb:function(){return this.zK?this.zK.CW(this.shc):wac_2a(Boolean,!1)},eCc:function(){wac_(7685328,355,50,"All prerequisite ready for RttManager");this.Cl=this.zK.mc();wac_(7685330,355,50,"Subscribing to presence updates");this.Cl.i6(this.Xja)},Mya:function(a,b){if(3===b.Qg&&wac_LPb(this))if(this.Bra.pa()&&
this.Bra.pa().Ad&4)wac_(8454939,355,15,"RTT channel did not get disconnected on lock release");else if(b.tta){if(this.p4d||(wac_(8704354,355,50,"Received a wet change"),this.p4d=!0),(a=wac_MPb(this,b.tta))&&1!==a.oy.xtd)switch(this.n4d||(wac_(8185606,355,50,"Received a wet change that we could deserialize"),this.n4d=!0),this.y9d||(b=new wac_Ah(3,2,6E4,this.Nle,0,null,!1,0),this.Za.qc(b),this.y9d=!0),a.fG()){case 1:case 6:case 4:var c,d,e;if(e=wac_NPb(this,a,d={val:c}),c=d.val,!e)break;this.Z4c?wac_OPb(this,
c):wac_PPb(this,c);break;case 2:this.m3a.U(a),wac_QPb(this,a),this.Z4c?wac_OPb(this,wac_w()):wac_RPb(this,a)}}else wac_(7685331,355,15,"RTT packet was empty")},TZe:function(){var a=this.ah.pa();if(a){var b=this.fx()-18E4,c=this.cBa.bRb(function(a){return a.oy.vIc<b});0<c.ma()&&!this.C2c&&!this.o4d&&(wac_(8185608,355,15,"Failed to apply any wet changes so far"),this.o4d=!0);for(var d=new wac_Na,e=c.$$lge();e.$$mn();)if(c=e.$$cu(),this.cBa.pFc(c),c.qY)switch(c.qY.fG()){case 1:d.U(c.qY.LO.toString());
break;case 6:d.U(c.qY.LO.toString());break;case 4:d.U(c.qY.cpb.toString()),d.U(c.qY.AZa.toString())}for(e=this.m3a.bRb(function(a){return a.oy.vIc<b}).$$lge();e.$$mn();)c=e.$$cu(),this.m3a.pFc(c),c.qY&&d.U(c.qY.LO.toString());for(d=d.GetEnumerator();d.$$mn();)c=d.$$cu(),(c=a.Nb(wac_7l(c)))?c.aK?(wac_HPb(this.$Da,c),c.aK||(wac_8Jb(this.K7a.pa(),c),c.oa(Number,wac_gv,0))):wac_(8765829,355,15,"Expiring wet change from paragraph with no applied changes"):wac_(8765828,355,15,"Expiring wet change with invalid object ID")}else!this.ah.oab&&
wac_(7685332,355,10,"Failed to find the IObjectSpace! Wet changes will never expire")},gsd:function(a,b){wac_SPb(this,a,b)},AWb:function(a){if(wac_LPb(this)&&a.Da(wac_ls)&&a.Da(wac_tt)){var b=a.Ga(Number,wac_ls),c=a.oa(Number,wac_tt,0),d=this.Gb.zj(1157520733,-1),e=wac_xPb(this.lAa,a.ia());0<e.ma()&&(wac_EPb(this.$Da,a,e,this.ah.pa()),wac_TPb(this,a,e,c));var f=wac_wPb(this.lAa,b);if(f&&!a.ia().Ba(f.LO)){var g=this.ah.pa(),h=this;wac_UPb(this,function(){var a=h.lAa.Dmb(f.LO),b=g.Nb(f.LO);wac_c(16820032,
355,!!b,"Could not find added graph node");b&&(wac_EPb(h.$Da,b,a,g),h.m3a.oFc(f.rNb))})}wac_BPb(this.cBa,b,c)||wac_8Jb(this.K7a.pa(),a);this.gsd(a,d);d.yd()}},LBc:function(a){var b=this.lAa.Dmb(a.ia());0<b.ma()&&(2===b.B(0).fG()&&b.$d(0),wac_EPb(this.$Da,a,b,this.ah.pa()))},g2a:function(a){for(var b=a.ia(),c,d,e,b=((e=this.lAa.hpa.Xb(b.toString(),d={val:c},null),c=d.val,e)?c:new (wac_e.$$(wac_RS))).$$lge();b.$$mn();)if(c=b.$$cu(),4===c.fG()&&(c=window.$$as(wac_US,c),a.ia().Ba(wac_VS(c.GHc)?c.AZa:
c.cpb)))return!0;return!1},p4d:!1,n4d:!1,r4d:!1,C2c:!1,o4d:!1};function wac_VPb(a){a.C2c||(wac_(8185607,355,50,"Successfully applied a wet change"),a.C2c=!0)}function wac_WPb(a){a.r4d||(wac_(17147533,355,50,"Received a usable wet change"),a.r4d=!0)}
function wac_TPb(a,b,c,d){for(var e=!1,f=c.ma()-1;0<=f;f--){var g=c.B(f);switch(g.fG()){case 1:case 6:case 4:g=window.$$as(wac_PS,g.obb());break;default:continue}if(g.Abb()===d){var e=!0,h;if(h=g.zYa){h=g.zYa;var k=b,l=h.ub===k.ia();l&&(l=h.Ojd.replace("\u00a0"," "),h=k.Hb.substr(h.wa,h.Tk-h.wa).replace("\u00a0"," "),l=l===h);h=!l}h&&wac_(8765831,355,15,"Validating wet change location failed. Type {0} OffsetInfo {1} NodeId {2} ValidatorNodeId {3} ValidatorNodeCpBegin {4} ValidatorNodeCpEnd {5}",g.fG(),
g.Zvc(),b.ia(),g.zYa.ia(),g.zYa.wa,g.zYa.Tk)}e&&a.cBa.oFc(g)}e&&wac_VPb(a)}
function wac_SPb(a,b,c){if(!b)return null;if(!b.Ab)return c&&c.Ka().Z("NodeNotConnected","1"),null;if(!b.Da(wac_ls))return wac_(7619922,355,15,"Paragraph is missing the WordId property"),null;if(!b.Da(wac_tt))return wac_(8197722,355,15,"Paragraph is missing the TextId property"),null;if(b.Da(wac__Ga)&&b.Ga(Boolean,wac__Ga))return wac_(16815506,355,50,"RTT edit disabled in paragraph"),null;var d=b.Ga(Number,wac_ls),e=wac_U4a(b);c&&(c.Ka().Z("NodeTextId",e.toString()),c.Ka().Z("NodeWordId",d.toString()));
e=wac_BPb(a.cBa,d,e);if(!e)return c&&c.Ka().Z("NoChangesToApply","1"),null;if(!wac_XPb(a,b,e))return c&&c.Ka().Z("CouldNotGetLock","1"),null;for(var f=0,g=null;e;){var h;a:{var k=a.$Da,l=e,m=b,n=a.lAa,p=c;if(m.E1())p&&p.Ka().Z("ParagraphAlreadyDirty","1"),h=!1;else{var q=new wac_hPb(l,m.Ci());try{if(1===l.fG()||6===l.fG()){var r=window.$$as(wac_WS,l),t,u=r,v=m,w=wac_cS(v.Hb,v.ua),x=wac_aS(w,u.Rva),y=wac_aS(w,u.IXa);t=x===y?wac_T(v,x):wac_V(v,x,y);var z,A=t.ea.Hb,C=10<=t.wa?t.wa-10:0,B=t.Qa+10<=A.length?
t.Qa+10:A.length,D=A.substr(C,t.wa-C),E=A.substr(t.Qa,B-t.Qa),B=B+r.qla.length-(t.Qa-t.wa),F=D+r.qla+E;z=new wac_YPb(t.ea.ia(),C,B,F);var G=6===r.Dmc,H="";G&&(H=r.tva);var I;var u=t,K=r.qla,v=G,J=u.ea;if(u.wa===u.Qa||wac_DPb(u)){var L=k.Eqa.Uc(3,0);try{wac_P(L,J);var M=wac_DG(J);try{J.aK=!0,wac_9Jb(k.AS,u,K,v,H)}finally{M&&M.dispose()}L.RX=-1}finally{L&&L.dispose()}I=!0}else p&&p.Ka().Z("UnsafeWetChange","1"),I=!1;if(!I){h=!1;break a}p=void 0;p=1===l.fG()?new wac_tPb(r,m.ia()):new wac_uPb(r,m.ia());
m.$4a=l.Abb();r.zYa=z;wac_iPb(l,p);wac_yPb(n,p)}else{var P;if(4===l.fG()){var p=k,N=window.$$as(wac_XS,l),O=wac_aS(wac_cS(m.Hb,m.ua),N.Ox);if(wac_DPb(wac_V(m,0,wac_S(m)))){var Q=wac_O(m);wac_R(Q,10);if(p.QSb(Q))P=!1;else{var k=void 0,R=p.Eqa.Uc(3,0);try{wac_P(R,m);var Z=wac_DG(m);try{var S=wac_O(m);wac_R(S,10);wac_1z(S,11);var T=S.ha();wac_VS(N)&&(S.vR(-1)?T=null:(wac_5G(S),T=S.ha()));wac_W(S);var da=p.ZYc.xZa();S.Fy(da,T,89);S.ng(da);var k=m.Ic(),ba=wac_DG(k);try{k.ka(wac_ls,wac_VS(N)?N.sZb:N.oqb);
k.ka(wac_tt,wac_VS(N)?N.wpb:N.xpb);k.sx(!1);S.he(k,2);S.ng(k);u=m;v=k;v.t9=!0;wac_sF(v,u.Hb);v.$4a=wac_U4a(u);v.ua.qe();for(H=0;H<u.ua.la();H++){var Y=wac_8G(u.ua.B(H),v,null);v.ua.U(Y)}v.Nj();if(v.Gd.la())for(H=0;H<v.ua.la();H++){var W=v.ua.B(H).eb;if(W&&-1!==W.Om)for(;v.Gd.la()<=W.Om;)wac_$E(v.Gd,v.Gd.la()-1,256,1)}else wac_(9204881,355,15,"Cannot update WordRunProperties after splitting paragraph");v.t9=!1;var ia=wac_VS(N)?k:m,oa=wac_VS(N)?m:k;ia.aK=!0;oa.aK=!0;wac_9Jb(p.AS,wac_IPb(ia,O,wac_S(ia)),
"",!1,"");wac_9Jb(p.AS,wac_IPb(oa,0,O),"",!1,"");m.$4a=N.Nda;k.$4a=wac_VS(N)?N.wpb:N.xpb}finally{ba&&ba.dispose()}}finally{Z&&Z.dispose()}R.RX=-1}finally{R&&R.dispose()}var ra=new wac_US(N,m.ia(),k.ia());wac_iPb(l,ra);wac_yPb(n,ra);P=!0}}else P=!1}else P=!1;h=P;break a}}finally{q&&q.dispose()}h=!0}}if(!h){c&&c.Ka().Z("WetChangeBlocked","1");break}f++;g=e.cFa();q=a.fx();g.aF&&(g.aF.Ka().gb("MsecUntilApplied")||g.aF.Ka().Z("MsecUntilApplied",(q-g.aF.sU()).toString()));g=e;e=wac_U4a(b);e=wac_BPb(a.cBa,
d,e)}0<f&&wac_VPb(a);c&&c.Ka().U("WetChangeCount",f.toString());return g}function wac_XPb(a,b,c){if(!a.K7a.pa())return wac_c(7866378,355,!!a.K7a.pa(),"Unable to apply wet changes as LockManager unavailable"),!1;var d;a=a.K7a.pa();c=wac_7Jb(a,b,c.oy.vJ);var e=b.oa(Number,wac_gv,0);e&&a.va.Ya("WLA",new wac_SDb(e),a);c&&c.LockId!==e&&wac_tVa(c,b);return(d=!!c,d)?!0:(wac_(7866379,355,15,"Unable to apply a wet change lock"),!1)}
function wac_ZPb(a,b){var c=b.QJ();if(2!==c.HO||c.DG.Zea&&c.DG.Sna!==c.DG.Zea)return null;var d=b.Rva.Ic();0<b.qla.length&&(wac_iAb(d),d.mg+=b.qla.length);c.HO=0;c.Text=null;c.DG.Hnb=0;c.DG.yya=d;c.DG.Cza=c.JMa;c.DG.Zea=null;c.DG.ypb=null;c.DG.Z0a=null;c.JMa=null;return wac_IOb(c,a.zu,a.ibc,function(){return a.ah.pa()},a.LEb.Ha())}function wac__Pb(a,b){a.e9b.CW(function(){if(1===b.fG()){var c=wac_ZPb(a,b);c&&(wac_ZNb(a.e9b.mc(),c),c=a.e9b.mc(),wac__Nb(c))}})}
function wac_RPb(a,b){var c=wac_JPb(a.$Da,b,a.zu,a.ah.pa());if(c){wac_WPb(a);var d=a.$Da,e=a.lAa,f=wac_k().K(wac_3w,null),g=c.ha(),h=d.Eqa.Uc(3,0);try{wac_P(h,g);wac_1z(c,11);var k=c.ha();wac_W(c);var l=d.ZYc.xZa();c.Fy(l,k,89);c.ng(l);var m=wac_nv.pg.np(393230),n=wac_DG(m);try{m.ka(wac_0q,""),m.t9=!0,f.K1a(m),d=[0],m.ka(wac_ks,d),m.ka(wac_Zs,d),m.t9=!1,m.ka(wac_ls,b.XTb),m.ka(wac_tt,b.WTb),m.sx(!1),c.he(m,2),m.aK=!0,m.$4a=b.WTb}finally{n&&n.dispose()}h.RX=-1;b.qY=new wac_vPb(b,m.ia());wac_yPb(e,
b.qY)}finally{h&&h.dispose()}c=b.qY.LO;c=a.ah.pa().Nb(c);wac_XPb(a,c,b)}}function wac_PPb(a,b){b=a.ah.pa().Nb(b);var c,d=a.wb.Uc(3,0);try{wac_P(d,b);c=a.Gb.zj(3959281607,-1);var e=wac_SPb(a,b,c);c.yd();e&&wac__Pb(a,e)}finally{d&&d.dispose()}}
function wac_0Pb(a){for(var b=a.m3a.bRb(function(a){return!a.qY}).$$lge();b.$$mn();){var c=b.$$cu();wac_RPb(a,c)}if(a.G8a.ma()){b=null;for(c=a.G8a.GetEnumerator();c.$$mn();){var d=c.$$cu(),b=wac_7l(d),b=a.ah.pa().Nb(b);break}c=a.wb.Uc(3,0);try{wac_P(c,b);for(var e=a.G8a.GetEnumerator();e.$$mn();)d=e.$$cu(),wac_PPb(a,wac_7l(d))}finally{c&&c.dispose()}a.G8a.qe()}}
function wac_QPb(a,b){(a=a.Gb)?(a=a.zj(1839802051,48E4),a=new wac_1Pb(a)):a=null;b.nJb=a;a=b.cFa();a.aF&&a.aF.Ka().Z("PacketVersions",b.oy.MBd.toString());a=b.cFa();b=wac_dPb.toString(b.fG());a.aF&&a.aF.Ka().Z("OperationType",b)}function wac_UPb(a,b){b=new wac_Ah(0,1,0,b,71,null,!1,0);a.Za.qc(b)}function wac_OPb(a,b){b.Ba(wac_w())||a.G8a.U(b.toString());a.EVc||(b=new wac_Ah(0,1,200,function(){wac_0Pb(a);a.EVc=!1},71,null,!1,0),a.Za.qc(b),a.EVc=!0)}
function wac_NPb(a,b,c){c.val=wac_w();var d;d=a.cBa;if(b){var e=b.Nt(),f=b.JI();d._changes.gb(e)||d._changes.U(e,new (wac_Ea.$$(wac_PS)));d._changes.B(e).Z(f,b);var g;b:{if(d._changes.gb(e)&&(g=d._changes.B(e),g.gb(f)))for(var h=g.B(f);h;){h=h.Abb();if(h===f){g=!0;break b}if(!g.gb(h))break;h=g.B(h)}g=!1}g?(wac_(7619921,355,15,"Detected an infinite loop in paragraph {0}, dropping the last packet!",e),d._changes.B(e).Bb(f),d=!1):d=!0}else wac_(7685333,355,15,"Cannot add a null change to RTTStore"),
d=!1;if(!d)return!1;wac_QPb(a,b);if(!a.zu)return!1;d=wac_yQ(a.zu,b.Nt());if(d.Ba(wac_w())||!a.ah.pa().Nb(d))return wac_2Pb(b.cFa()),!1;wac_WPb(a);c.val=d;return!0}
function wac_MPb(a,b){b=wac_tOb(b);if(!b)return null;switch(b.HO){case 2:var c,d,e,f,g,h,k,l,m;(m=wac_3Pb(b,g={val:c},h={val:d},k={val:e},l={val:f}),c=g.val,d=h.val,e=k.val,f=l.val,m)?(a="",b.Text&&(a=b.Text),g=wac_4Pb(b),b=new wac_5Pb(e,f,c,d,b.JMa,a,b.DG.MG,g)):b=null;return b;case 7:return wac_6Pb(b);case 4:return wac_7Pb(a)?(c=b.DG,d=b.AMa,b=new wac_XS(c.Sna,c.Cza,c.yya,c.MG,d.eDc,d.mIc,d.fDc,d.nIc,wac_4Pb(b))):b=null,b;case 3:return wac_7Pb(a)?(c=b.DG,d=b.HYa,e=null,null!=b.DG.Zea&&(e=b.DG.Zea),
b=new wac_TS(c.Sna,c.Cza,d.oIc,e,d.gDc,d.z2a,c.MG,wac_4Pb(b))):b=null,b;default:return wac_(8459668,355,50,"RTT packet is of unexpected operationType {0}",b.HO),null}}function wac_7Pb(a){return wac_LPb(a)&&a.fb.vb(125)}function wac_LPb(a){return a.fb.vb(163)&&a.fb.vb(130)}function wac_8Pb(a,b,c,d,e,f,g,h){wac_8Pb.initializeBase(this,[5,h]);this.qZb=a;this.lIc=b;this.jId=c;this.IGd=d;this.MG=e;this.bKc=f;this.y2a=g}
wac_8Pb.prototype={qZb:0,lIc:0,jId:0,IGd:0,MG:0,bKc:0,y2a:0,Nt:function(){return this.qZb},JI:function(){return this.lIc},Abb:function(){return this.qZb===this.bKc?this.y2a:0},QJ:function(){return new wac_HS(this.oy.R3,this.oy.vJ,1,6,new wac_bS(5,this.qZb,this.lIc,null,this.jId,this.IGd,null,this.MG,0),null,null,null,null,new wac_lOb(this.bKc,this.y2a),null,null,0,this.oy.g4)}};function wac_1Pb(a){this.aF=a}wac_1Pb.prototype={aF:null};
function wac_rPb(a,b){a.aF&&(a.aF.Ka().Z("RemovedBecause",b),a.aF.yd())}function wac_2Pb(a){a.aF&&a.aF.Ka().Z("FailedToFindInitialParaID","1")}function wac_YPb(a,b,c,d){this.ub=a;this.wa=b;this.Tk=c;this.Ojd=d}wac_YPb.prototype={ub:null,ia:function(){return this.ub},wa:0,Tk:0,Ojd:null};function wac_9Pb(a,b,c,d,e,f){this.R3=a;this.vJ=b;this.xtd=c;this.vIc=d;this.MBd=e;this.g4=f}function wac_4Pb(a){var b=null;null!=a.g4&&(b=a.g4);return new wac_9Pb(a.R3,a.vJ,a.Ahb,Date.now(),a.Tza,b)}
wac_9Pb.prototype={R3:0,vJ:null,xtd:0,vIc:0,MBd:0,g4:null};function wac_5Pb(a,b,c,d,e,f,g,h){wac_5Pb.initializeBase(this,[a,b,c,d,e,f,g,h,1])}wac_5Pb.prototype={Zvc:function(){return"OffsetStart: "+this.Rva+"OffsetEnd: "+this.IXa+"TextAddedLength: "+this.qla.length},QJ:function(){var a=wac_$Pb(this);return new wac_HS(this.oy.R3,this.oy.vJ,1,2,a,null,this.Nda,this.qla,null,null,null,null,0,this.oy.g4)}};
function wac_aQb(a,b,c,d,e,f,g,h,k,l,m){wac_aQb.initializeBase(this,[d,e,f,g,h,k,l,m,6]);this.tva=a;this.QMe=b;this.CNe=c}
function wac_6Pb(a){var b,c,d,e,f,g,h,k,l;if(l=wac_3Pb(a,f={val:b},g={val:c},h={val:d},k={val:e}),b=f.val,c=g.val,d=h.val,e=k.val,!l)return null;if(1===a.Text.length)f=!1,g="\ufffc";else if(2===a.Text.length)if(f=a.Text,55296<=f.charCodeAt(0)&&56319>=f.charCodeAt(0)&&wac_jg(a.Text,1))f=!0,g=a.Text;else return wac_(8914772,355,15,"RTT symbol packet has text length 2 but is not a valid surrogate pair",a.HO),null;else return wac_(8914773,355,15,"RTT symbol packet text is of unsupported length (length must be 1 or 2)",
a.HO),null;h=a.rpb;k=wac_4Pb(a);return new wac_aQb(h.bIc,h.cIc,f,d,e,b,c,a.JMa,g,a.DG.MG,k)}wac_aQb.prototype={tva:null,QMe:!1,CNe:!1,Zvc:function(){return"OffsetStart: "+this.Rva+"OffsetEnd: "+this.IXa},QJ:function(){var a=wac_$Pb(this);return new wac_HS(this.oy.R3,this.oy.vJ,1,7,a,null,this.Nda,this.qla,null,null,null,null,0,this.oy.g4)}};function wac_WS(a,b,c,d,e,f,g,h,k){wac_WS.initializeBase(this,[k,h]);this.Af=a;this.yx=b;this.Rva=c;this.IXa=d;this.Nda=e;this.qla=f;this.p7=g}
function wac_3Pb(a,b,c,d,e){a=a.DG;if(1===a.Hnb&&(a.Sna!==a.Zea||a.Cza!==a.ypb))return wac_(8914769,355,15,"We received a ReplaceRange operation spanning multiple paragraphs"),b.val=c.val=null,d.val=e.val=-1,!1;if(a.MG)return b.val=c.val=null,d.val=e.val=-1,!1;b.val=a.yya;c.val=b.val;1===a.Hnb&&(c.val=a.Z0a);d.val=a.Sna;e.val=a.Cza;return!0}wac_WS.prototype={Af:0,Nt:function(){return this.Af},yx:0,JI:function(){return this.yx},Rva:null,IXa:null,Nda:0,Abb:function(){return this.Nda},qla:null,p7:0};
function wac_$Pb(a){return a.Rva.Kw(a.IXa,!0)?new wac_bS(0,a.Af,a.yx,a.Rva,null,null,null,a.p7,0):new wac_bS(1,a.Af,a.yx,a.Rva,a.Af,a.yx,a.IXa,a.p7,0)}function wac_pPb(){this.z9a=new (wac_YS.$$(wac_0Pa))}wac_pPb.prototype={z9a:null};function wac_bQb(a){return a.z9a.Cn()?null:a.z9a.HZa()}function wac_oPb(a,b,c,d,e,f){this.bfd=Function.createDelegate(this,this.hef);this.shc=Function.createDelegate(this,this.eCc);this.zK=a;this.e2c=b;this.VP=c;this.em=d;this.Gta=e;this.fb=f}
wac_oPb.prototype={zK:null,mk:null,e2c:null,VP:null,em:null,Gta:null,fb:null,iCb:null,pra:!1,$7d:0,u5c:0,R8d:!1,Fac:!1,d2c:0,oja:function(){return this.VP.pa()},pb:function(){return this.zK?this.zK.CW(this.shc):wac_2a(Boolean,!1)},eCc:function(){wac_(8245954,355,50,"All prerequisites ready for RttSendManager");this.mk=this.zK.mc();wac_mNb(this.mk,this)},fe:function(){this.pra||(wac_cQb(this)&&this.em.Dc().kt.va.jb("PTC",this.bfd),this.pra=!0)},Vc:function(){this.pra=!1;wac_cQb(this)&&this.em.Dc().kt.va.hd("PTC",
this.bfd)},hef:function(a,b){if(this.mk&&2===this.mk.Rta()&&(a=b.kt,a.length))if(b.sjd)100>this.u5c&&(this.u5c++,wac_(8270467,355,50,"Blocking send. Reason: {0} OverallSends: {1} OverallBlocked: {2}",b.tjd,this.$7d,this.u5c));else{for(b=0;b<a.length;b++){var c=a[b],d=c;if(!d||-1===d.p7||d.Ye()&&(!wac_cQb(this)||!this.fb.vb(126)||3!==d.Ye()&&1!==d.Ye()))return}for(b=0;b<a.length;b++){var c=a[b],e=!c.Ye()&&!b,d=this.e2c;d.z9a.usd()&&e&&d.z9a.usd().SIa(c)||d.z9a.lea(c)}this.iCb||wac_dQb(this,this.iCb,
this.mk)}}};
function wac_eQb(a,b){if(!b)return null;if(!a.oja())return wac_(8245957,355,15,"GetParagraphAnchoredOpFromGraphTransactionOperation: CoAuth manager is null"),null;var c=wac_rOb(wac_7Ob);a=a.oja().NY;var d=wac_JOb;4294967295===d.DCb&&(d.DCb=0);d.DCb++;c=new wac_9Pb(c,a,1,0,0,d.DCb);a=null;switch(b.Ye()){case 0:b.Ye()?a=null:(a=wac_cS(b.qG.gt(),b.qG.vjc),a=new wac_5Pb(b.qG.Nt(),b.qG.JI(),wac_9R(a,b.wa),wac_9R(a,b.Tk),b.dO.JI(),b.OY,b.p7,c));break;case 4:a=4!==b.Ye()?null:new wac_CPb(b.TGa.Nt(),b.TGa.JI(),
b.p7,c);break;case 3:a=3!==b.Ye()?null:new wac_TS(b.z2.Nt(),b.z2.JI(),b.ynd.JI(),b.Zka?b.Zka.Nt():null,b.dO.Nt(),b.dO.JI(),b.p7,c);break;case 2:a=2!==b.Ye()?null:new wac_8Pb(b.z2.Nt(),b.z2.JI(),b.Zka.Nt(),b.Zka.JI(),b.p7,b.Reb.Nt(),b.Reb.JI(),c);break;case 1:a=1!==b.Ye()?null:new wac_XS(b.qG.Nt(),b.qG.JI(),wac_9R(wac_cS(b.qG.gt(),b.qG.vjc),b.coc),b.p7,b.bka.Nt(),b.bka.JI(),b.zGa.Nt(),b.zGa.JI(),c)}return a}
function wac_dQb(a,b,c){wac_fQb(a);b&&(wac_Xa(b)||wac_Ya(b))&&wac_(8245956,355,15,"Task is faulted or cancelled with exception {0}",b.Vj);(b=wac_eQb(a,wac_bQb(a.e2c)))?(a.$7d++,a.iCb=c.OL(3,wac_vOb(b.QJ()),!1),wac_gQb(a),a.iCb.CW(function(b){wac_dQb(a,b,c)})):a.iCb=null}function wac_gQb(a){!a.Fac&&5>=a.d2c&&(wac_(8270469,355,50,"Sent Rtt Message"),a.Fac=!0)}function wac_fQb(a){a.Fac||(a.R8d||(wac_(8270468,355,50,"Preparing to send RTT change"),a.R8d=!0),!a.Fac&&5>=a.d2c&&a.d2c++)}
function wac_cQb(a){return a.fb.vb(163)&&a.fb.vb(139)}function wac_XS(a,b,c,d,e,f,g,h,k){wac_XS.initializeBase(this,[4,k]);this.Af=a;this.yx=b;this.Ox=c;this.MG=d;this.sZb=e;this.wpb=f;this.oqb=g;this.xpb=h;this.sZb===this.Af?this.Nda=this.wpb:this.oqb===this.Af?this.Nda=this.xpb:(wac_(8397766,355,10,"Bad data passed to RttSplitParagraphOp"),this.Nda=0)}
wac_XS.prototype={Af:0,Nt:function(){return this.Af},yx:0,JI:function(){return this.yx},Nda:0,Abb:function(){return this.Nda},Ox:null,MG:0,sZb:0,wpb:0,oqb:0,xpb:0,QJ:function(){return new wac_HS(this.oy.R3,this.oy.vJ,1,4,new wac_bS(3,this.Af,this.yx,this.Ox,null,null,null,this.MG,0),null,null,null,null,null,new wac_mOb(this.sZb,this.wpb,this.oqb,this.xpb),null,0,this.oy.g4)}};function wac_VS(a){return a.Af===a.oqb}wac_hPb.registerClass("WERTT.GraphChangeValidator",null,Sys.IDisposable);
wac_SS.registerClass("WERTT.RttOp",null,wac_QS);wac_jPb.registerClass("WERTT.WordEditorRealTimeTypingPackage",null,wac_G,wac_j);wac_qPb.registerClass("WERTT.RttAddParagraphDataStore");wac_TS.registerClass("WERTT.RttAddParagraphOp",wac_SS);wac_tPb.registerClass("WERTT.RttAppliedReplaceTextRangeOp",null,wac_RS);wac_uPb.registerClass("WERTT.RttAppliedReplaceSymbolRangeOp",null,wac_RS);wac_US.registerClass("WERTT.RttAppliedSplitParagraphOp",null,wac_RS);
wac_vPb.registerClass("WERTT.RttAppliedAddParagraphOp",null,wac_RS);wac_nPb.registerClass("WERTT.RttAppliedOpTracker",null,wac_ePb);wac_mPb.registerClass("WERTT.RttDataStore",null,wac_bPb);wac_CPb.registerClass("WERTT.RttDeleteParagraphOp",wac_SS,wac_PS,wac_QS);wac_kPb.registerClass("WERTT.RttEditor",null,wac_cPb);wac_lPb.registerClass("WERTT.RttManager",null,wac_yAb);wac_8Pb.registerClass("WERTT.RttMergeParagraphOp",wac_SS,wac_PS,wac_QS);wac_1Pb.registerClass("WERTT.RttOpActivity");
wac_YPb.registerClass("WERTT.RttOpValidator",null,wac_fPb);(function(){}).registerClass("WERTT.RttOpValidatorFactory");wac_9Pb.registerClass("WERTT.RttOpMetadata");wac_WS.registerClass("WERTT.RttReplaceRangeOp",wac_SS);wac_5Pb.registerClass("WERTT.RttReplaceTextRangeOp",wac_WS,wac_PS,wac_QS);wac_aQb.registerClass("WERTT.RttReplaceSymbolRangeOp",wac_WS,wac_PS,wac_QS);wac_pPb.registerClass("WERTT.RttSendDataStore",null,wac_gPb);wac_oPb.registerClass("WERTT.RttSendManager",null,wac_mv);
wac_XS.registerClass("WERTT.RttSplitParagraphOp",wac_SS,wac_PS,wac_QS);wac_H(wac_B(),new wac_jPb,0,!1);Type.registerNamespace("RealtimePresenceUI");function wac_hQb(a,b,c,d,e,f,g,h,k,l,m,n,p,q,r){wac_hQb.initializeBase(this,[a,f,r,b]);this.aLd=c;this.L3d=d;this.r2d=e;this.ta=g;wac_iQb=h;this.zu=k;this.ge=l;this.vT=m;this.LEb=n;this.GS=q}
function wac_jQb(a,b,c,d,e){var f=wac_m(wac_ZS,wac_GS);wac_ZS.K(wac_2c,null);var g=wac_ZS.K(wac_gb,null),h=window.Box4.App.xa().Na,k=wac_x(),l=wac_ey(),m=wac_k().K(wac_Cw,null);return new wac_hQb(a,b,function(a,b){return h.jd.vj()?h.jd.fOb(a,b,!0):!1},function(a,b){h.jd.vj()&&h.jd.$Wb(a,b,!0,!0)},function(){wac_cy().Q2a()},k,l,h,c,d,e,f,0,m,g)}
function wac_kQb(a){var b=wac_iQb.Dc().ed().Nb(a.Ul().$D());if(wac_i(b))return wac_(20764576,325,15,"The node could not be obtained"),null;if(!wac_U(b))return wac_(20764577,325,15,"The obtained node is not a paragraph node"),null;a=wac_T(b,a.Ul().nJ.nf());return new wac_Sz([a],!0,null)}wac_hQb.prototype={aLd:null,L3d:null,r2d:null,ta:null,zu:null,ge:null,vT:null,LEb:null,GS:null,zJc:function(a){this.GS.fTb(a.CommandValueId);return wac_mLb.prototype.zJc.call(this,a)},ja:function(){wac_gNb.prototype.ja.call(this)}};
function wac_xLb(a,b,c){c.val=wac_yLb(a,b);return!!c.val}function wac_yLb(a,b){return b?(a=wac_IOb(wac_tOb(b),a.zu,a.ge,a.vT,a.LEb.Ha()))&&a.Sj()&&a.Ul()?a:null:null}
function wac_rLb(a,b){var c,d,e;if(e=wac_xLb(a,b,d={val:c}),c=d.val,e)a.L3d(c.Ul().$D(),c.Ul().nJ.nf()),wac_q.W.fa("WordEditorMoveIpToUserLocationIsEnabled")&&(b=wac_kQb(c),wac_i(b)?wac_(20764575,325,50,"IP will not be moved since the selection is either null or undefined"):(wac_(20764574,325,50,"Attempting to move IP to the editing location of the selected user"),a.ta.rc(b,null,!1,!1,0),wac_Ei()&&wac_1k(wac_y(),"document"))),b=new wac_Ah(2,1,0,function(){a.ga.ec(761503246,2,c,null)},0,null,!1,0),
wac_r().qc(b)}Type.registerNamespace("WordEditor.PeoplesWellControl");wac_J=window.WordEditor||{};wac_J.mif=wac_J.mif||{};function wac_lQb(){this.thc=Function.createDelegate(this,this.fCc);this.Pt=Function.createDelegate(this,this.vt)}
wac_lQb.prototype={Rb:function(){return"WordEditor.PeoplesWellControl"},Sb:function(a){wac_ZS=a},pb:function(){wac_xi(wac_q.W,this.Pt)},vt:function(){wac_q.eCd?(wac_mQb||(wac_mQb=wac_k().K(wac_lv,null))).EJ().CW(this.thc):wac_(23196872,325,50,"PeoplesWell control is explicitly disabled. Skipping initialization attempt")},fCc:function(){if(wac_nQb=(wac_mQb||(wac_mQb=wac_k().K(wac_lv,null))).EJ().mc()){var a=function(){var a=window.Box4.App.xa().Na;return a?a.Dc()?a.Dc().ed():(wac_(23196876,325,15,
"ActivePage is null"),null):(wac_(23196875,325,15,"Workspace is null"),null)};window.Box4.App.B6().CW(function(){var b=window.Box4.App.B6().mc().NY,c=wac_nQb.Cl,d=wac_nQb.Cl,e=wac_ALb(wac_oQb(),b,c.coe||(c.coe=Function.createDelegate(c,c.v2e)),d.eoe||(d.eoe=Function.createDelegate(d,d.Swd)));wac_n(wac_o(wac_p(wac_k().na(wac_hQb,null),wac_uc)),function(){return wac_jQb(e,wac_Fb(wac_tc,wac_m(wac_ZS,wac_tc)),wac_l(wac_ZS,wac_xE),wac_l(wac_ZS,wac__Q),a)});wac_tLb=wac_k().K(wac_uc,null);wac_sLb();wac_(23196877,
325,50,"PeoplesWellControl is fully initialized")})}else wac_(23196873,325,15,"Can't initialize the PeoplesWell control because can't get a handle to RtcProxy")},ja:function(){wac_tLb&&(wac_tLb.dispose(),wac_tLb=null)}};wac_hQb.registerClass("RealtimePresenceUI.WordEditorPeoplesWell",wac_gNb);wac_lQb.registerClass("WordEditor.PeoplesWellControl.WordEditorPeoplesWellControlPackage",null,wac_G,wac_j);(function(){}).registerClass("WordEditor.PeoplesWellControl.Program");
var wac_iQb=null,wac_tLb=null,wac_ZS=null,wac_nQb=null,wac_mQb=null;wac_H(wac_B(),new wac_lQb,0,!1);
